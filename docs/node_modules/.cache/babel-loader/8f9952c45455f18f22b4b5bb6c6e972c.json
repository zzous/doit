{"remainingRequest":"/Users/zzou/Downloads/backup_sample/node_modules/thread-loader/dist/cjs.js!/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js!/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/modal/helpers/bv-modal.js","dependencies":[{"path":"/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/modal/helpers/bv-modal.js","mtime":1610263603568},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/cache-loader/dist/cjs.js","mtime":1582363961748},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/thread-loader/dist/cjs.js","mtime":1582363962038},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js","mtime":1585275399303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydGllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgfQp9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOwp9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7CiAgaWYgKCFvKSByZXR1cm47CiAgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7CiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogIGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOwogIGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7CiAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7Cn0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7CiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7CgogIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgewogICAgYXJyMltpXSA9IGFycltpXTsKICB9CgogIHJldHVybiBhcnIyOwp9IC8vIFBsdWdpbiBmb3IgYWRkaW5nIGAkYnZNb2RhbGAgcHJvcGVydHkgdG8gYWxsIFZ1ZSBpbnN0YW5jZXMKCgppbXBvcnQgeyBOQU1FX01PREFMLCBOQU1FX01TR19CT1ggfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvY29tcG9uZW50cyc7CmltcG9ydCB7IEVWRU5UX05BTUVfSElEREVOLCBFVkVOVF9OQU1FX0hJREUsIEhPT0tfRVZFTlRfTkFNRV9CRUZPUkVfREVTVFJPWSwgSE9PS19FVkVOVF9OQU1FX0RFU1RST1lFRCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9ldmVudHMnOwppbXBvcnQgeyBjb25jYXQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9hcnJheSc7CmltcG9ydCB7IGdldENvbXBvbmVudENvbmZpZyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbmZpZyc7CmltcG9ydCB7IHJlcXVlc3RBRiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2RvbSc7CmltcG9ydCB7IGdldFJvb3RBY3Rpb25FdmVudE5hbWUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9ldmVudHMnOwppbXBvcnQgeyBpc1VuZGVmaW5lZCwgaXNGdW5jdGlvbiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2luc3BlY3QnOwppbXBvcnQgeyBhc3NpZ24sIGRlZmluZVByb3BlcnRpZXMsIGRlZmluZVByb3BlcnR5LCBoYXNPd25Qcm9wZXJ0eSwga2V5cywgb21pdCwgcmVhZG9ubHlEZXNjcmlwdG9yIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgcGx1Z2luRmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3BsdWdpbnMnOwppbXBvcnQgeyB3YXJuLCB3YXJuTm90Q2xpZW50LCB3YXJuTm9Qcm9taXNlU3VwcG9ydCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3dhcm4nOwppbXBvcnQgeyBCTW9kYWwsIHByb3BzIGFzIG1vZGFsUHJvcHMgfSBmcm9tICcuLi9tb2RhbCc7IC8vIC0tLSBDb25zdGFudHMgLS0tCgp2YXIgUFJPUF9OQU1FID0gJyRidk1vZGFsJzsKdmFyIFBST1BfTkFNRV9QUklWID0gJ19idl9fbW9kYWwnOyAvLyBCYXNlIG1vZGFsIHByb3BzIHRoYXQgYXJlIGFsbG93ZWQKLy8gU29tZSBtYXkgYmUgaWdub3JlZCBvciBvdmVycmlkZGVuIG9uIHNvbWUgbWVzc2FnZSBib3hlcwovLyBQcm9wIElEIGlzIGFsbG93ZWQsIGJ1dCByZWFsbHkgb25seSBzaG91bGQgYmUgdXNlZCBmb3IgdGVzdGluZwovLyBXZSBuZWVkIHRvIGFkZCBpdCBpbiBleHBsaWNpdGx5IGFzIGl0IGNvbWVzIGZyb20gdGhlIGBpZE1peGluYAoKdmFyIEJBU0VfUFJPUFMgPSBbJ2lkJ10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShrZXlzKG9taXQobW9kYWxQcm9wcywgWydidXN5JywgJ2xhenknLCAnbm9TdGFja2luZycsICdzdGF0aWMnLCAndmlzaWJsZSddKSkpKTsgLy8gRmFsbGJhY2sgZXZlbnQgcmVzb2x2ZXIgKHJldHVybnMgdW5kZWZpbmVkKQoKdmFyIGRlZmF1bHRSZXNvbHZlciA9IGZ1bmN0aW9uIGRlZmF1bHRSZXNvbHZlcigpIHt9OyAvLyBNYXAgcHJvcCBuYW1lcyB0byBtb2RhbCBzbG90IG5hbWVzCgoKdmFyIHByb3BzVG9TbG90cyA9IHsKICBtc2dCb3hDb250ZW50OiAnZGVmYXVsdCcsCiAgdGl0bGU6ICdtb2RhbC10aXRsZScsCiAgb2tUaXRsZTogJ21vZGFsLW9rJywKICBjYW5jZWxUaXRsZTogJ21vZGFsLWNhbmNlbCcKfTsgLy8gLS0tIEhlbHBlciBtZXRob2RzIC0tLQovLyBNZXRob2QgdG8gZmlsdGVyIG9ubHkgcmVjb2duaXplZCBwcm9wcyB0aGF0IGFyZSBub3QgdW5kZWZpbmVkCgp2YXIgZmlsdGVyT3B0aW9ucyA9IGZ1bmN0aW9uIGZpbHRlck9wdGlvbnMob3B0aW9ucykgewogIHJldHVybiBCQVNFX1BST1BTLnJlZHVjZShmdW5jdGlvbiAobWVtbywga2V5KSB7CiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnNba2V5XSkpIHsKICAgICAgbWVtb1trZXldID0gb3B0aW9uc1trZXldOwogICAgfQoKICAgIHJldHVybiBtZW1vOwogIH0sIHt9KTsKfTsgLy8gTWV0aG9kIHRvIGluc3RhbGwgYCRidk1vZGFsYCBWTSBpbmplY3Rpb24KCgp2YXIgcGx1Z2luID0gZnVuY3Rpb24gcGx1Z2luKFZ1ZSkgewogIC8vIENyZWF0ZSBhIHByaXZhdGUgc3ViLWNvbXBvbmVudCB0aGF0IGV4dGVuZHMgQk1vZGFsCiAgLy8gd2hpY2ggc2VsZi1kZXN0cnVjdHMgYWZ0ZXIgaGlkZGVuCiAgLy8gQHZ1ZS9jb21wb25lbnQKICB2YXIgQk1zZ0JveCA9IFZ1ZS5leHRlbmQoewogICAgbmFtZTogTkFNRV9NU0dfQk9YLAogICAgImV4dGVuZHMiOiBCTW9kYWwsCiAgICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgICAgLy8gTWFrZSBzdXJlIHdlIG5vdCBpbiBkb2N1bWVudCBhbnkgbW9yZQogICAgICBpZiAodGhpcy4kZWwgJiYgdGhpcy4kZWwucGFyZW50Tm9kZSkgewogICAgICAgIHRoaXMuJGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy4kZWwpOwogICAgICB9CiAgICB9LAogICAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsgLy8gU2VsZiBkZXN0cnVjdCBoYW5kbGVyCgoKICAgICAgdmFyIGhhbmRsZURlc3Ryb3kgPSBmdW5jdGlvbiBoYW5kbGVEZXN0cm95KCkgewogICAgICAgIF90aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBJbiBhIGByZXF1ZXN0QUYoKWAgdG8gcmVsZWFzZSBjb250cm9sIGJhY2sgdG8gYXBwbGljYXRpb24KICAgICAgICAgIHJlcXVlc3RBRihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLiRkZXN0cm95KCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfTsgLy8gU2VsZiBkZXN0cnVjdCBpZiBwYXJlbnQgZGVzdHJveWVkCgoKICAgICAgdGhpcy4kcGFyZW50LiRvbmNlKEhPT0tfRVZFTlRfTkFNRV9ERVNUUk9ZRUQsIGhhbmRsZURlc3Ryb3kpOyAvLyBTZWxmIGRlc3RydWN0IGFmdGVyIGhpZGRlbgoKICAgICAgdGhpcy4kb25jZShFVkVOVF9OQU1FX0hJRERFTiwgaGFuZGxlRGVzdHJveSk7IC8vIFNlbGYgZGVzdHJ1Y3Qgb24gcm91dGUgY2hhbmdlCgogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KCiAgICAgIGlmICh0aGlzLiRyb3V0ZXIgJiYgdGhpcy4kcm91dGUpIHsKICAgICAgICAvLyBEZXN0cm95IG91cnNlbHZlcyBpZiByb3V0ZSBjaGFuZ2VzCgogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgICAgdGhpcy4kb25jZShIT09LX0VWRU5UX05BTUVfQkVGT1JFX0RFU1RST1ksIHRoaXMuJHdhdGNoKCckcm91dGVyJywgaGFuZGxlRGVzdHJveSkpOwogICAgICB9IC8vIFNob3cgdGhlIGBCTXNnQm94YAoKCiAgICAgIHRoaXMuc2hvdygpOwogICAgfQogIH0pOyAvLyBNZXRob2QgdG8gZ2VuZXJhdGUgdGhlIG9uLWRlbWFuZCBtb2RhbCBtZXNzYWdlIGJveAogIC8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSB2YWx1ZSByZXR1cm5lZCBieSB0aGUgcmVzb2x2ZQoKICB2YXIgYXN5bmNNc2dCb3ggPSBmdW5jdGlvbiBhc3luY01zZ0JveCgkcGFyZW50LCBwcm9wcykgewogICAgdmFyIHJlc29sdmVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBkZWZhdWx0UmVzb2x2ZXI7CgogICAgaWYgKHdhcm5Ob3RDbGllbnQoUFJPUF9OQU1FKSB8fCB3YXJuTm9Qcm9taXNlU3VwcG9ydChQUk9QX05BTUUpKSB7CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgIHJldHVybjsKICAgIH0gLy8gQ3JlYXRlIGFuIGluc3RhbmNlIG9mIGBCTXNnQm94YCBjb21wb25lbnQKCgogICAgdmFyIG1zZ0JveCA9IG5ldyBCTXNnQm94KHsKICAgICAgLy8gV2Ugc2V0IHBhcmVudCBhcyB0aGUgbG9jYWwgVk0gc28gdGhlc2UgbW9kYWxzIGNhbiBlbWl0IGV2ZW50cyBvbgogICAgICAvLyB0aGUgYXBwIGAkcm9vdGAsIGFzIG5lZWRlZCBieSB0aGluZ3MgbGlrZSB0b29sdGlwcyBhbmQgcG9wb3ZlcnMKICAgICAgLy8gQW5kIGl0IGhlbHBzIHRvIGVuc3VyZSBgQk1zZ0JveGAgaXMgZGVzdHJveWVkIHdoZW4gcGFyZW50IGlzIGRlc3Ryb3llZAogICAgICBwYXJlbnQ6ICRwYXJlbnQsCiAgICAgIC8vIFByZXNldCB0aGUgcHJvcCB2YWx1ZXMKICAgICAgcHJvcHNEYXRhOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZmlsdGVyT3B0aW9ucyhnZXRDb21wb25lbnRDb25maWcoTkFNRV9NT0RBTCkpKSwge30sIHsKICAgICAgICAvLyBEZWZhdWx0cyB0aGF0IHVzZXIgY2FuIG92ZXJyaWRlCiAgICAgICAgaGlkZUhlYWRlckNsb3NlOiB0cnVlLAogICAgICAgIGhpZGVIZWFkZXI6ICEocHJvcHMudGl0bGUgfHwgcHJvcHMudGl0bGVIdG1sKQogICAgICB9LCBvbWl0KHByb3BzLCBrZXlzKHByb3BzVG9TbG90cykpKSwge30sIHsKICAgICAgICAvLyBQcm9wcyB0aGF0IGNhbid0IGJlIG92ZXJyaWRkZW4KICAgICAgICBsYXp5OiBmYWxzZSwKICAgICAgICBidXN5OiBmYWxzZSwKICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICBub1N0YWNraW5nOiBmYWxzZSwKICAgICAgICBub0VuZm9yY2VGb2N1czogZmFsc2UKICAgICAgfSkKICAgIH0pOyAvLyBDb252ZXJ0IGNlcnRhaW4gcHJvcHMgdG8gc2NvcGVkIHNsb3RzCgogICAga2V5cyhwcm9wc1RvU2xvdHMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHsKICAgICAgaWYgKCFpc1VuZGVmaW5lZChwcm9wc1twcm9wXSkpIHsKICAgICAgICAvLyBDYW4gYmUgYSBzdHJpbmcsIG9yIGFycmF5IG9mIFZOb2Rlcy4KICAgICAgICAvLyBBbHRlcm5hdGl2ZWx5LCB1c2VyIGNhbiB1c2UgSFRNTCB2ZXJzaW9uIG9mIHByb3AgdG8gcGFzcyBhbiBIVE1MIHN0cmluZy4KICAgICAgICBtc2dCb3guJHNsb3RzW3Byb3BzVG9TbG90c1twcm9wXV0gPSBjb25jYXQocHJvcHNbcHJvcF0pOwogICAgICB9CiAgICB9KTsgLy8gUmV0dXJuIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gaGlkZGVuLCBvciByZWplY3RzIG9uIGRlc3Ryb3llZAoKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciByZXNvbHZlZCA9IGZhbHNlOwogICAgICBtc2dCb3guJG9uY2UoSE9PS19FVkVOVF9OQU1FX0RFU1RST1lFRCwgZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghcmVzb2x2ZWQpIHsKICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdCb290c3RyYXBWdWUgTXNnQm94IGRlc3Ryb3llZCBiZWZvcmUgcmVzb2x2ZScpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBtc2dCb3guJG9uKEVWRU5UX05BTUVfSElERSwgZnVuY3Rpb24gKGJ2TW9kYWxFdnQpIHsKICAgICAgICBpZiAoIWJ2TW9kYWxFdnQuZGVmYXVsdFByZXZlbnRlZCkgewogICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc29sdmVyKGJ2TW9kYWxFdnQpOyAvLyBJZiByZXNvbHZlciBkaWRuJ3QgY2FuY2VsIGhpZGUsIHdlIHJlc29sdmUKCiAgICAgICAgICBpZiAoIWJ2TW9kYWxFdnQuZGVmYXVsdFByZXZlbnRlZCkgewogICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7CiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOyAvLyBDcmVhdGUgYSBtb3VudCBwb2ludCAoYSBESVYpIGFuZCBtb3VudCB0aGUgbXNnQm8gd2hpY2ggd2lsbCB0cmlnZ2VyIGl0IHRvIHNob3cKCiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOwogICAgICBtc2dCb3guJG1vdW50KGRpdik7CiAgICB9KTsKICB9OyAvLyBQcml2YXRlIHV0aWxpdHkgbWV0aG9kIHRvIG9wZW4gYSB1c2VyIGRlZmluZWQgbWVzc2FnZSBib3ggYW5kIHJldHVybnMgYSBwcm9taXNlLgogIC8vIE5vdCB0byBiZSB1c2VkIGRpcmVjdGx5IGJ5IGNvbnN1bWVycywgYXMgdGhpcyBtZXRob2QgbWF5IGNoYW5nZSBjYWxsaW5nIHN5bnRheAoKCiAgdmFyIG1ha2VNc2dCb3ggPSBmdW5jdGlvbiBtYWtlTXNnQm94KCRwYXJlbnQsIGNvbnRlbnQpIHsKICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICAgIHZhciByZXNvbHZlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDsKCiAgICBpZiAoIWNvbnRlbnQgfHwgd2Fybk5vUHJvbWlzZVN1cHBvcnQoUFJPUF9OQU1FKSB8fCB3YXJuTm90Q2xpZW50KFBST1BfTkFNRSkgfHwgIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgIHJldHVybjsKICAgIH0KCiAgICByZXR1cm4gYXN5bmNNc2dCb3goJHBhcmVudCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBmaWx0ZXJPcHRpb25zKG9wdGlvbnMpKSwge30sIHsKICAgICAgbXNnQm94Q29udGVudDogY29udGVudAogICAgfSksIHJlc29sdmVyKTsKICB9OyAvLyBCdk1vZGFsIGluc3RhbmNlIGNsYXNzCgoKICB2YXIgQnZNb2RhbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBCdk1vZGFsKHZtKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdk1vZGFsKTsgLy8gQXNzaWduIHRoZSBuZXcgcHJvcGVydGllcyB0byB0aGlzIGluc3RhbmNlCgoKICAgICAgYXNzaWduKHRoaXMsIHsKICAgICAgICBfdm06IHZtLAogICAgICAgIF9yb290OiB2bS4kcm9vdAogICAgICB9KTsgLy8gU2V0IHRoZXNlIHByb3BlcnRpZXMgYXMgcmVhZC1vbmx5IGFuZCBub24tZW51bWVyYWJsZQoKICAgICAgZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7CiAgICAgICAgX3ZtOiByZWFkb25seURlc2NyaXB0b3IoKSwKICAgICAgICBfcm9vdDogcmVhZG9ubHlEZXNjcmlwdG9yKCkKICAgICAgfSk7CiAgICB9IC8vIC0tLSBJbnN0YW5jZSBtZXRob2RzIC0tLQogICAgLy8gU2hvdyBtb2RhbCB3aXRoIHRoZSBzcGVjaWZpZWQgSUQgYXJncyBhcmUgZm9yIGZ1dHVyZSB1c2UKCgogICAgX2NyZWF0ZUNsYXNzKEJ2TW9kYWwsIFt7CiAgICAgIGtleTogInNob3ciLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdyhpZCkgewogICAgICAgIGlmIChpZCAmJiB0aGlzLl9yb290KSB7CiAgICAgICAgICB2YXIgX3RoaXMkX3Jvb3Q7CgogICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICAgIH0KCiAgICAgICAgICAoX3RoaXMkX3Jvb3QgPSB0aGlzLl9yb290KS4kZW1pdC5hcHBseShfdGhpcyRfcm9vdCwgW2dldFJvb3RBY3Rpb25FdmVudE5hbWUoTkFNRV9NT0RBTCwgJ3Nob3cnKSwgaWRdLmNvbmNhdChhcmdzKSk7CiAgICAgICAgfQogICAgICB9IC8vIEhpZGUgbW9kYWwgd2l0aCB0aGUgc3BlY2lmaWVkIElEIGFyZ3MgYXJlIGZvciBmdXR1cmUgdXNlCgogICAgfSwgewogICAgICBrZXk6ICJoaWRlIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoaWQpIHsKICAgICAgICBpZiAoaWQgJiYgdGhpcy5fcm9vdCkgewogICAgICAgICAgdmFyIF90aGlzJF9yb290MjsKCiAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykgewogICAgICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdOwogICAgICAgICAgfQoKICAgICAgICAgIChfdGhpcyRfcm9vdDIgPSB0aGlzLl9yb290KS4kZW1pdC5hcHBseShfdGhpcyRfcm9vdDIsIFtnZXRSb290QWN0aW9uRXZlbnROYW1lKE5BTUVfTU9EQUwsICdoaWRlJyksIGlkXS5jb25jYXQoYXJncykpOwogICAgICAgIH0KICAgICAgfSAvLyBUaGUgZm9sbG93aW5nIG1ldGhvZHMgcmVxdWlyZSBQcm9taXNlIHN1cHBvcnQhCiAgICAgIC8vIElFIDExIGFuZCBvdGhlcnMgZG8gbm90IHN1cHBvcnQgUHJvbWlzZSBuYXRpdmVseSwgc28gdXNlcnMKICAgICAgLy8gc2hvdWxkIGhhdmUgYSBQb2x5ZmlsbCBsb2FkZWQgKHdoaWNoIHRoZXkgbmVlZCBhbnl3YXlzIGZvciBJRSAxMSBzdXBwb3J0KQogICAgICAvLyBPcGVuIGEgbWVzc2FnZSBib3ggd2l0aCBPSyBidXR0b24gb25seSBhbmQgcmV0dXJucyBhIHByb21pc2UKCiAgICB9LCB7CiAgICAgIGtleTogIm1zZ0JveE9rIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1zZ0JveE9rKG1lc3NhZ2UpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307IC8vIFBpY2sgdGhlIG1vZGFsIHByb3BzIHdlIHN1cHBvcnQgZnJvbSBvcHRpb25zCgogICAgICAgIHZhciBwcm9wcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucyksIHt9LCB7CiAgICAgICAgICAvLyBBZGQgaW4gb3ZlcnJpZGVzIGFuZCBvdXIgY29udGVudCBwcm9wCiAgICAgICAgICBva09ubHk6IHRydWUsCiAgICAgICAgICBva0Rpc2FibGVkOiBmYWxzZSwKICAgICAgICAgIGhpZGVGb290ZXI6IGZhbHNlLAogICAgICAgICAgbXNnQm94Q29udGVudDogbWVzc2FnZQogICAgICAgIH0pOwoKICAgICAgICByZXR1cm4gbWFrZU1zZ0JveCh0aGlzLl92bSwgbWVzc2FnZSwgcHJvcHMsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEFsd2F5cyByZXNvbHZlIHRvIHRydWUgZm9yIE9LCiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfSAvLyBPcGVuIGEgbWVzc2FnZSBib3ggbW9kYWwgd2l0aCBPSyBhbmQgQ0FOQ0VMIGJ1dHRvbnMKICAgICAgLy8gYW5kIHJldHVybnMgYSBwcm9taXNlCgogICAgfSwgewogICAgICBrZXk6ICJtc2dCb3hDb25maXJtIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1zZ0JveENvbmZpcm0obWVzc2FnZSkgewogICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsgLy8gU2V0IHRoZSBtb2RhbCBwcm9wcyB3ZSBzdXBwb3J0IGZyb20gb3B0aW9ucwoKICAgICAgICB2YXIgcHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpLCB7fSwgewogICAgICAgICAgLy8gQWRkIGluIG92ZXJyaWRlcyBhbmQgb3VyIGNvbnRlbnQgcHJvcAogICAgICAgICAgb2tPbmx5OiBmYWxzZSwKICAgICAgICAgIG9rRGlzYWJsZWQ6IGZhbHNlLAogICAgICAgICAgY2FuY2VsRGlzYWJsZWQ6IGZhbHNlLAogICAgICAgICAgaGlkZUZvb3RlcjogZmFsc2UKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIG1ha2VNc2dCb3godGhpcy5fdm0sIG1lc3NhZ2UsIHByb3BzLCBmdW5jdGlvbiAoYnZNb2RhbEV2dCkgewogICAgICAgICAgdmFyIHRyaWdnZXIgPSBidk1vZGFsRXZ0LnRyaWdnZXI7CiAgICAgICAgICByZXR1cm4gdHJpZ2dlciA9PT0gJ29rJyA/IHRydWUgOiB0cmlnZ2VyID09PSAnY2FuY2VsJyA/IGZhbHNlIDogbnVsbDsKICAgICAgICB9KTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBCdk1vZGFsOwogIH0oKTsgLy8gQWRkIG91ciBpbnN0YW5jZSBtaXhpbgoKCiAgVnVlLm1peGluKHsKICAgIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkgewogICAgICAvLyBCZWNhdXNlIHdlIG5lZWQgYWNjZXNzIHRvIGAkcm9vdGAgZm9yIGAkZW1pdHNgLCBhbmQgVk0gZm9yIHBhcmVudGluZywKICAgICAgLy8gd2UgaGF2ZSB0byBjcmVhdGUgYSBmcmVzaCBpbnN0YW5jZSBvZiBgQnZNb2RhbGAgZm9yIGVhY2ggVk0KICAgICAgdGhpc1tQUk9QX05BTUVfUFJJVl0gPSBuZXcgQnZNb2RhbCh0aGlzKTsKICAgIH0KICB9KTsgLy8gRGVmaW5lIG91ciByZWFkLW9ubHkgYCRidk1vZGFsYCBpbnN0YW5jZSBwcm9wZXJ0eQogIC8vIFBsYWNlZCBpbiBhbiBpZiBqdXN0IGluIGNhc2UgaW4gSE1SIG1vZGUKCiAgaWYgKCFoYXNPd25Qcm9wZXJ0eShWdWUucHJvdG90eXBlLCBQUk9QX05BTUUpKSB7CiAgICBkZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCBQUk9QX05BTUUsIHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICBpZiAoIXRoaXMgfHwgIXRoaXNbUFJPUF9OQU1FX1BSSVZdKSB7CiAgICAgICAgICB3YXJuKCJcIiIuY29uY2F0KFBST1BfTkFNRSwgIlwiIG11c3QgYmUgYWNjZXNzZWQgZnJvbSBhIFZ1ZSBpbnN0YW5jZSBcInRoaXNcIiBjb250ZXh0LiIpLCBOQU1FX01PREFMKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzW1BST1BfTkFNRV9QUklWXTsKICAgICAgfQogICAgfSk7CiAgfQp9OwoKZXhwb3J0IHZhciBCVk1vZGFsUGx1Z2luID0gLyojX19QVVJFX18qL3BsdWdpbkZhY3RvcnkoewogIHBsdWdpbnM6IHsKICAgIHBsdWdpbjogcGx1Z2luCiAgfQp9KTs="},null]}
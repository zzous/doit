{"remainingRequest":"/Users/zzou/Downloads/backup_sample/node_modules/thread-loader/dist/cjs.js!/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js!/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/form-tags/form-tags.js","dependencies":[{"path":"/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/form-tags/form-tags.js","mtime":1610263603568},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/cache-loader/dist/cjs.js","mtime":1582363961748},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/thread-loader/dist/cjs.js","mtime":1582363962038},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js","mtime":1585275399303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pcy1hcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKCnZhciBfd2F0Y2g7CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOwp9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7CiAgaWYgKCFvKSByZXR1cm47CiAgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7CiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogIGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOwogIGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7CiAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7Cn0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7CiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7CgogIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgewogICAgYXJyMltpXSA9IGFycltpXTsKICB9CgogIHJldHVybiBhcnIyOwp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0gLy8gVGFnZ2VkIGlucHV0IGZvcm0gY29udHJvbAovLyBCYXNlZCBsb29zZWx5IG9uIGh0dHBzOi8vYWRhbXdhdGhhbi5tZS9yZW5kZXJsZXNzLWNvbXBvbmVudHMtaW4tdnVlanMvCgoKaW1wb3J0IHsgVnVlIH0gZnJvbSAnLi4vLi4vdnVlJzsKaW1wb3J0IHsgTkFNRV9GT1JNX1RBR1MgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvY29tcG9uZW50cyc7CmltcG9ydCB7IEVWRU5UX05BTUVfVEFHX1NUQVRFLCBFVkVOVF9PUFRJT05TX1BBU1NJVkUsIEhPT0tfRVZFTlRfTkFNRV9CRUZPUkVfREVTVFJPWSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9ldmVudHMnOwppbXBvcnQgeyBDT0RFX0JBQ0tTUEFDRSwgQ09ERV9ERUxFVEUsIENPREVfRU5URVIgfSBmcm9tICcuLi8uLi9jb25zdGFudHMva2V5LWNvZGVzJzsKaW1wb3J0IHsgUFJPUF9UWVBFX0FSUkFZLCBQUk9QX1RZUEVfQVJSQVlfT0JKRUNUX1NUUklORywgUFJPUF9UWVBFX0FSUkFZX1NUUklORywgUFJPUF9UWVBFX0JPT0xFQU4sIFBST1BfVFlQRV9GVU5DVElPTiwgUFJPUF9UWVBFX05VTUJFUiwgUFJPUF9UWVBFX09CSkVDVCwgUFJPUF9UWVBFX1NUUklORyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9wcm9wcyc7CmltcG9ydCB7IFJYX1NQQUNFUyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9yZWdleCc7CmltcG9ydCB7IFNMT1RfTkFNRV9ERUZBVUxULCBTTE9UX05BTUVfQUREX0JVVFRPTl9URVhUIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3Nsb3RzJzsKaW1wb3J0IHsgYXJyYXlJbmNsdWRlcywgY29uY2F0IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXknOwppbXBvcnQgeyBjc3NFc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9jc3MtZXNjYXBlJzsKaW1wb3J0IHsgYXR0ZW1wdEJsdXIsIGF0dGVtcHRGb2N1cywgY2xvc2VzdCwgaXNBY3RpdmVFbGVtZW50LCBtYXRjaGVzLCByZXF1ZXN0QUYsIHNlbGVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbSc7CmltcG9ydCB7IGV2ZW50T24sIGV2ZW50T2ZmLCBzdG9wRXZlbnQgfSBmcm9tICcuLi8uLi91dGlscy9ldmVudHMnOwppbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2lkZW50aXR5JzsKaW1wb3J0IHsgaXNFdmVudCwgaXNOdW1iZXIsIGlzU3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvaW5zcGVjdCc7CmltcG9ydCB7IGxvb3NlRXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9sb29zZS1lcXVhbCc7CmltcG9ydCB7IG1ha2VNb2RlbE1peGluIH0gZnJvbSAnLi4vLi4vdXRpbHMvbW9kZWwnOwppbXBvcnQgeyBwaWNrLCBzb3J0S2V5cyB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IGhhc1Byb3BGdW5jdGlvbiwgbWFrZVByb3AsIG1ha2VQcm9wc0NvbmZpZ3VyYWJsZSB9IGZyb20gJy4uLy4uL3V0aWxzL3Byb3BzJzsKaW1wb3J0IHsgZXNjYXBlUmVnRXhwLCB0b1N0cmluZywgdHJpbSwgdHJpbUxlZnQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcnOwppbXBvcnQgeyBmb3JtQ29udHJvbE1peGluLCBwcm9wcyBhcyBmb3JtQ29udHJvbFByb3BzIH0gZnJvbSAnLi4vLi4vbWl4aW5zL2Zvcm0tY29udHJvbCc7CmltcG9ydCB7IGZvcm1TaXplTWl4aW4sIHByb3BzIGFzIGZvcm1TaXplUHJvcHMgfSBmcm9tICcuLi8uLi9taXhpbnMvZm9ybS1zaXplJzsKaW1wb3J0IHsgZm9ybVN0YXRlTWl4aW4sIHByb3BzIGFzIGZvcm1TdGF0ZVByb3BzIH0gZnJvbSAnLi4vLi4vbWl4aW5zL2Zvcm0tc3RhdGUnOwppbXBvcnQgeyBpZE1peGluLCBwcm9wcyBhcyBpZFByb3BzIH0gZnJvbSAnLi4vLi4vbWl4aW5zL2lkJzsKaW1wb3J0IHsgbm9ybWFsaXplU2xvdE1peGluIH0gZnJvbSAnLi4vLi4vbWl4aW5zL25vcm1hbGl6ZS1zbG90JzsKaW1wb3J0IHsgQkJ1dHRvbiB9IGZyb20gJy4uL2J1dHRvbi9idXR0b24nOwppbXBvcnQgeyBCRm9ybUludmFsaWRGZWVkYmFjayB9IGZyb20gJy4uL2Zvcm0vZm9ybS1pbnZhbGlkLWZlZWRiYWNrJzsKaW1wb3J0IHsgQkZvcm1UZXh0IH0gZnJvbSAnLi4vZm9ybS9mb3JtLXRleHQnOwppbXBvcnQgeyBCRm9ybVRhZyB9IGZyb20gJy4vZm9ybS10YWcnOyAvLyAtLS0gQ29uc3RhbnRzIC0tLQoKdmFyIF9tYWtlTW9kZWxNaXhpbiA9IG1ha2VNb2RlbE1peGluKCd2YWx1ZScsIHsKICB0eXBlOiBQUk9QX1RZUEVfQVJSQVksCiAgZGVmYXVsdFZhbHVlOiBbXQp9KSwKICAgIG1vZGVsTWl4aW4gPSBfbWFrZU1vZGVsTWl4aW4ubWl4aW4sCiAgICBtb2RlbFByb3BzID0gX21ha2VNb2RlbE1peGluLnByb3BzLAogICAgTU9ERUxfUFJPUF9OQU1FID0gX21ha2VNb2RlbE1peGluLnByb3AsCiAgICBNT0RFTF9FVkVOVF9OQU1FID0gX21ha2VNb2RlbE1peGluLmV2ZW50OyAvLyBTdXBwb3J0ZWQgaW5wdXQgdHlwZXMgKGZvciBidWlsdCBpbiBpbnB1dCkKCgp2YXIgVFlQRVMgPSBbJ3RleHQnLCAnZW1haWwnLCAndGVsJywgJ3VybCcsICdudW1iZXInXTsgLy8gRGVmYXVsdCBpZ25vcmUgaW5wdXQgZm9jdXMgc2VsZWN0b3IKCnZhciBERUZBVUxUX0lOUFVUX0ZPQ1VTX1NFTEVDVE9SID0gWycuYi1mb3JtLXRhZycsICdidXR0b24nLCAnaW5wdXQnLCAnc2VsZWN0J10uam9pbignICcpOyAvLyAtLS0gSGVscGVyIG1ldGhvZHMgLS0tCi8vIEVzY2FwZSBzcGVjaWFsIGNoYXJzIGluIHN0cmluZyBhbmQgcmVwbGFjZQovLyBjb250aWd1b3VzIHNwYWNlcyB3aXRoIGEgd2hpdGVzcGFjZSBtYXRjaAoKdmFyIGVzY2FwZVJlZ0V4cENoYXJzID0gZnVuY3Rpb24gZXNjYXBlUmVnRXhwQ2hhcnMoc3RyKSB7CiAgcmV0dXJuIGVzY2FwZVJlZ0V4cChzdHIpLnJlcGxhY2UoUlhfU1BBQ0VTLCAnXFxzJyk7Cn07IC8vIFJlbW92ZSBsZWFkaW5nL3RyYWlsaW5nIHNwYWNlcyBmcm9tIGFycmF5IG9mIHRhZ3MgYW5kIHJlbW92ZSBkdXBsaWNhdGVzCgoKdmFyIGNsZWFuVGFncyA9IGZ1bmN0aW9uIGNsZWFuVGFncyh0YWdzKSB7CiAgcmV0dXJuIGNvbmNhdCh0YWdzKS5tYXAoZnVuY3Rpb24gKHRhZykgewogICAgcmV0dXJuIHRyaW0odG9TdHJpbmcodGFnKSk7CiAgfSkuZmlsdGVyKGZ1bmN0aW9uICh0YWcsIGluZGV4LCBhcnIpIHsKICAgIHJldHVybiB0YWcubGVuZ3RoID4gMCAmJiBhcnIuaW5kZXhPZih0YWcpID09PSBpbmRleDsKICB9KTsKfTsgLy8gUHJvY2Vzc2VzIGFuIGlucHV0L2NoYW5nZSBldmVudCwgbm9ybWFsaXppbmcgc3RyaW5nIG9yIGV2ZW50IGFyZ3VtZW50CgoKdmFyIHByb2Nlc3NFdmVudFZhbHVlID0gZnVuY3Rpb24gcHJvY2Vzc0V2ZW50VmFsdWUoZXZlbnQpIHsKICByZXR1cm4gaXNTdHJpbmcoZXZlbnQpID8gZXZlbnQgOiBpc0V2ZW50KGV2ZW50KSA/IGV2ZW50LnRhcmdldC52YWx1ZSB8fCAnJyA6ICcnOwp9OyAvLyBSZXR1cm5zIGEgZnJlc2ggZW1wdHkgYHRhZ3NTdGF0ZWAgb2JqZWN0CgoKdmFyIGNsZWFuVGFnc1N0YXRlID0gZnVuY3Rpb24gY2xlYW5UYWdzU3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIGFsbDogW10sCiAgICB2YWxpZDogW10sCiAgICBpbnZhbGlkOiBbXSwKICAgIGR1cGxpY2F0ZTogW10KICB9Owp9OyAvLyAtLS0gUHJvcHMgLS0tCgoKdmFyIHByb3BzID0gbWFrZVByb3BzQ29uZmlndXJhYmxlKHNvcnRLZXlzKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpZFByb3BzKSwgbW9kZWxQcm9wcyksIGZvcm1Db250cm9sUHJvcHMpLCBmb3JtU2l6ZVByb3BzKSwgZm9ybVN0YXRlUHJvcHMpLCB7fSwgewogIGFkZEJ1dHRvblRleHQ6IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcsICdBZGQnKSwKICBhZGRCdXR0b25WYXJpYW50OiBtYWtlUHJvcChQUk9QX1RZUEVfU1RSSU5HLCAnb3V0bGluZS1zZWNvbmRhcnknKSwKICAvLyBFbmFibGUgY2hhbmdlIGV2ZW50IHRyaWdnZXJpbmcgdGFnIGFkZGl0aW9uCiAgLy8gSGFuZHkgaWYgdXNpbmcgPHNlbGVjdD4gYXMgdGhlIGlucHV0CiAgYWRkT25DaGFuZ2U6IG1ha2VQcm9wKFBST1BfVFlQRV9CT09MRUFOLCBmYWxzZSksCiAgZHVwbGljYXRlVGFnVGV4dDogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORywgJ0R1cGxpY2F0ZSB0YWcocyknKSwKICAvLyBEaXNhYmxlIHRoZSBpbnB1dCBmb2N1cyBiZWhhdmlvciB3aGVuIGNsaWNraW5nCiAgLy8gb24gZWxlbWVudCBtYXRjaGluZyB0aGUgc2VsZWN0b3IgKG9yIHNlbGVjdG9ycykKICBpZ25vcmVJbnB1dEZvY3VzU2VsZWN0b3I6IG1ha2VQcm9wKFBST1BfVFlQRV9BUlJBWV9TVFJJTkcsIERFRkFVTFRfSU5QVVRfRk9DVVNfU0VMRUNUT1IpLAogIC8vIEFkZGl0aW9uYWwgYXR0cmlidXRlcyB0byBhZGQgdG8gdGhlIGlucHV0IGVsZW1lbnQKICBpbnB1dEF0dHJzOiBtYWtlUHJvcChQUk9QX1RZUEVfT0JKRUNULCB7fSksCiAgaW5wdXRDbGFzczogbWFrZVByb3AoUFJPUF9UWVBFX0FSUkFZX09CSkVDVF9TVFJJTkcpLAogIGlucHV0SWQ6IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcpLAogIGlucHV0VHlwZTogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORywgJ3RleHQnLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgIHJldHVybiBhcnJheUluY2x1ZGVzKFRZUEVTLCB2YWx1ZSk7CiAgfSksCiAgaW52YWxpZFRhZ1RleHQ6IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcsICdJbnZhbGlkIHRhZyhzKScpLAogIGxpbWl0OiBtYWtlUHJvcChQUk9QX1RZUEVfTlVNQkVSKSwKICBsaW1pdFRhZ3NUZXh0OiBtYWtlUHJvcChQUk9QX1RZUEVfU1RSSU5HLCAnVGFnIGxpbWl0IHJlYWNoZWQnKSwKICAvLyBEaXNhYmxlIEVOVEVSIGtleSBmcm9tIHRyaWdnZXJpbmcgdGFnIGFkZGl0aW9uCiAgbm9BZGRPbkVudGVyOiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIC8vIERpc2FibGUgdGhlIGZvY3VzIHJpbmcgb24gdGhlIHJvb3QgZWxlbWVudAogIG5vT3V0ZXJGb2N1czogbWFrZVByb3AoUFJPUF9UWVBFX0JPT0xFQU4sIGZhbHNlKSwKICBub1RhZ1JlbW92ZTogbWFrZVByb3AoUFJPUF9UWVBFX0JPT0xFQU4sIGZhbHNlKSwKICBwbGFjZWhvbGRlcjogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORywgJ0FkZCB0YWcuLi4nKSwKICAvLyBFbmFibGUgZGVsZXRpbmcgbGFzdCB0YWcgaW4gbGlzdCB3aGVuIENPREVfQkFDS1NQQUNFIGlzCiAgLy8gcHJlc3NlZCBhbmQgaW5wdXQgaXMgZW1wdHkKICByZW1vdmVPbkRlbGV0ZTogbWFrZVByb3AoUFJPUF9UWVBFX0JPT0xFQU4sIGZhbHNlKSwKICAvLyBDaGFyYWN0ZXIgKG9yIGNoYXJhY3RlcnMpIHRoYXQgdHJpZ2dlciBhZGRpbmcgdGFncwogIHNlcGFyYXRvcjogbWFrZVByb3AoUFJPUF9UWVBFX0FSUkFZX1NUUklORyksCiAgdGFnQ2xhc3M6IG1ha2VQcm9wKFBST1BfVFlQRV9BUlJBWV9PQkpFQ1RfU1RSSU5HKSwKICB0YWdQaWxsczogbWFrZVByb3AoUFJPUF9UWVBFX0JPT0xFQU4sIGZhbHNlKSwKICB0YWdSZW1vdmVMYWJlbDogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORywgJ1JlbW92ZSB0YWcnKSwKICB0YWdSZW1vdmVkTGFiZWw6IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcsICdUYWcgcmVtb3ZlZCcpLAogIHRhZ1ZhbGlkYXRvcjogbWFrZVByb3AoUFJPUF9UWVBFX0ZVTkNUSU9OKSwKICB0YWdWYXJpYW50OiBtYWtlUHJvcChQUk9QX1RZUEVfU1RSSU5HLCAnc2Vjb25kYXJ5JykKfSkpLCBOQU1FX0ZPUk1fVEFHUyk7IC8vIC0tLSBNYWluIGNvbXBvbmVudCAtLS0KLy8gQHZ1ZS9jb21wb25lbnQKCmV4cG9ydCB2YXIgQkZvcm1UYWdzID0gLyojX19QVVJFX18qL1Z1ZS5leHRlbmQoewogIG5hbWU6IE5BTUVfRk9STV9UQUdTLAogIG1peGluczogW2lkTWl4aW4sIG1vZGVsTWl4aW4sIGZvcm1Db250cm9sTWl4aW4sIGZvcm1TaXplTWl4aW4sIGZvcm1TdGF0ZU1peGluLCBub3JtYWxpemVTbG90TWl4aW5dLAogIHByb3BzOiBwcm9wcywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGFzRm9jdXM6IGZhbHNlLAogICAgICBuZXdUYWc6ICcnLAogICAgICB0YWdzOiBbXSwKICAgICAgLy8gVGFncyB0aGF0IHdlcmUgcmVtb3ZlZAogICAgICByZW1vdmVkVGFnczogW10sCiAgICAgIC8vIFBvcHVsYXRlZCB3aGVuIHRhZ3MgYXJlIHBhcnNlZAogICAgICB0YWdzU3RhdGU6IGNsZWFuVGFnc1N0YXRlKCkKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY29tcHV0ZWRJbnB1dElkOiBmdW5jdGlvbiBjb21wdXRlZElucHV0SWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlucHV0SWQgfHwgdGhpcy5zYWZlSWQoJ19faW5wdXRfXycpOwogICAgfSwKICAgIGNvbXB1dGVkSW5wdXRUeXBlOiBmdW5jdGlvbiBjb21wdXRlZElucHV0VHlwZSgpIHsKICAgICAgLy8gV2Ugb25seSBhbGxvdyBjZXJ0YWluIHR5cGVzCiAgICAgIHJldHVybiBhcnJheUluY2x1ZGVzKFRZUEVTLCB0aGlzLmlucHV0VHlwZSkgPyB0aGlzLmlucHV0VHlwZSA6ICd0ZXh0JzsKICAgIH0sCiAgICBjb21wdXRlZElucHV0QXR0cnM6IGZ1bmN0aW9uIGNvbXB1dGVkSW5wdXRBdHRycygpIHsKICAgICAgdmFyIGRpc2FibGVkID0gdGhpcy5kaXNhYmxlZCwKICAgICAgICAgIGZvcm0gPSB0aGlzLmZvcm07CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuaW5wdXRBdHRycyksIHt9LCB7CiAgICAgICAgLy8gTXVzdCBoYXZlIGF0dHJpYnV0ZXMKICAgICAgICBpZDogdGhpcy5jb21wdXRlZElucHV0SWQsCiAgICAgICAgdmFsdWU6IHRoaXMubmV3VGFnLAogICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCwKICAgICAgICBmb3JtOiBmb3JtCiAgICAgIH0pOwogICAgfSwKICAgIGNvbXB1dGVkSW5wdXRIYW5kbGVyczogZnVuY3Rpb24gY29tcHV0ZWRJbnB1dEhhbmRsZXJzKCkgewogICAgICByZXR1cm4gewogICAgICAgIGlucHV0OiB0aGlzLm9uSW5wdXRJbnB1dCwKICAgICAgICBjaGFuZ2U6IHRoaXMub25JbnB1dENoYW5nZSwKICAgICAgICBrZXlkb3duOiB0aGlzLm9uSW5wdXRLZXlkb3duLAogICAgICAgIHJlc2V0OiB0aGlzLnJlc2V0CiAgICAgIH07CiAgICB9LAogICAgY29tcHV0ZWRTZXBhcmF0b3I6IGZ1bmN0aW9uIGNvbXB1dGVkU2VwYXJhdG9yKCkgewogICAgICAvLyBNZXJnZSB0aGUgYXJyYXkgaW50byBhIHN0cmluZwogICAgICByZXR1cm4gY29uY2F0KHRoaXMuc2VwYXJhdG9yKS5maWx0ZXIoaXNTdHJpbmcpLmZpbHRlcihpZGVudGl0eSkuam9pbignJyk7CiAgICB9LAogICAgY29tcHV0ZWRTZXBhcmF0b3JSZWdFeHA6IGZ1bmN0aW9uIGNvbXB1dGVkU2VwYXJhdG9yUmVnRXhwKCkgewogICAgICAvLyBXZSB1c2UgYSBjb21wdXRlZCBwcm9wIGhlcmUgdG8gcHJlY29tcGlsZSB0aGUgUmVnRXhwCiAgICAgIC8vIFRoZSBSZWdFeHAgaXMgYSBjaGFyYWN0ZXIgY2xhc3MgUkUgaW4gdGhlIGZvcm0gb2YgYC9bYWJjXSsvYAogICAgICAvLyB3aGVyZSBhLCBiLCBhbmQgYyBhcmUgdGhlIHZhbGlkIHNlcGFyYXRvciBjaGFyYWN0ZXJzCiAgICAgIC8vIC0+IGB0YWdzID0gc3RyLnNwbGl0KC9bYWJjXSsvKS5maWx0ZXIodCA9PiB0KWAKICAgICAgdmFyIHNlcGFyYXRvciA9IHRoaXMuY29tcHV0ZWRTZXBhcmF0b3I7CiAgICAgIHJldHVybiBzZXBhcmF0b3IgPyBuZXcgUmVnRXhwKCJbIi5jb25jYXQoZXNjYXBlUmVnRXhwQ2hhcnMoc2VwYXJhdG9yKSwgIl0rIikpIDogbnVsbDsKICAgIH0sCiAgICBjb21wdXRlZEpvaW5lcjogZnVuY3Rpb24gY29tcHV0ZWRKb2luZXIoKSB7CiAgICAgIC8vIFdoZW4gdGFnKHMpIGFyZSBpbnZhbGlkIG9yIGR1cGxpY2F0ZSwgd2UgbGVhdmUgdGhlbQogICAgICAvLyBpbiB0aGUgaW5wdXQgc28gdGhhdCB0aGUgdXNlciBjYW4gc2VlIHRoZW0KICAgICAgLy8gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgdGFnIGluIHRoZSBpbnB1dCwgd2UgdXNlIHRoZQogICAgICAvLyBmaXJzdCBzZXBhcmF0b3IgY2hhcmFjdGVyIGFzIHRoZSBzZXBhcmF0b3IgaW4gdGhlIGlucHV0CiAgICAgIC8vIFdlIGFwcGVuZCBhIHNwYWNlIGlmIHRoZSBmaXJzdCBzZXBhcmF0b3IgaXMgbm90IGEgc3BhY2UKICAgICAgdmFyIGpvaW5lciA9IHRoaXMuY29tcHV0ZWRTZXBhcmF0b3IuY2hhckF0KDApOwogICAgICByZXR1cm4gam9pbmVyICE9PSAnICcgPyAiIi5jb25jYXQoam9pbmVyLCAiICIpIDogam9pbmVyOwogICAgfSwKICAgIGNvbXB1dGVJZ25vcmVJbnB1dEZvY3VzU2VsZWN0b3I6IGZ1bmN0aW9uIGNvbXB1dGVJZ25vcmVJbnB1dEZvY3VzU2VsZWN0b3IoKSB7CiAgICAgIC8vIE5vcm1hbGl6ZSB0byBhbiBzaW5nbGUgc2VsZWN0b3Igd2l0aCBzZWxlY3RvcnMgc2VwYXJhdGVkIGJ5IGAsYAogICAgICByZXR1cm4gY29uY2F0KHRoaXMuaWdub3JlSW5wdXRGb2N1c1NlbGVjdG9yKS5maWx0ZXIoaWRlbnRpdHkpLmpvaW4oJywnKS50cmltKCk7CiAgICB9LAogICAgZGlzYWJsZUFkZEJ1dHRvbjogZnVuY3Rpb24gZGlzYWJsZUFkZEJ1dHRvbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsgLy8gSWYgJ0FkZCcgYnV0dG9uIHNob3VsZCBiZSBkaXNhYmxlZAogICAgICAvLyBJZiB0aGUgaW5wdXQgY29udGFpbnMgYXQgbGVhc3Qgb25lIHRhZyB0aGF0IGNhbgogICAgICAvLyBiZSBhZGRlZCwgdGhlbiB0aGUgJ0FkZCcgYnV0dG9uIHNob3VsZCBiZSBlbmFibGVkCgoKICAgICAgdmFyIG5ld1RhZyA9IHRyaW0odGhpcy5uZXdUYWcpOwogICAgICByZXR1cm4gbmV3VGFnID09PSAnJyB8fCAhdGhpcy5zcGxpdFRhZ3MobmV3VGFnKS5zb21lKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuICFhcnJheUluY2x1ZGVzKF90aGlzLnRhZ3MsIHQpICYmIF90aGlzLnZhbGlkYXRlVGFnKHQpOwogICAgICB9KTsKICAgIH0sCiAgICBkdXBsaWNhdGVUYWdzOiBmdW5jdGlvbiBkdXBsaWNhdGVUYWdzKCkgewogICAgICByZXR1cm4gdGhpcy50YWdzU3RhdGUuZHVwbGljYXRlOwogICAgfSwKICAgIGhhc0R1cGxpY2F0ZVRhZ3M6IGZ1bmN0aW9uIGhhc0R1cGxpY2F0ZVRhZ3MoKSB7CiAgICAgIHJldHVybiB0aGlzLmR1cGxpY2F0ZVRhZ3MubGVuZ3RoID4gMDsKICAgIH0sCiAgICBpbnZhbGlkVGFnczogZnVuY3Rpb24gaW52YWxpZFRhZ3MoKSB7CiAgICAgIHJldHVybiB0aGlzLnRhZ3NTdGF0ZS5pbnZhbGlkOwogICAgfSwKICAgIGhhc0ludmFsaWRUYWdzOiBmdW5jdGlvbiBoYXNJbnZhbGlkVGFncygpIHsKICAgICAgcmV0dXJuIHRoaXMuaW52YWxpZFRhZ3MubGVuZ3RoID4gMDsKICAgIH0sCiAgICBpc0xpbWl0UmVhY2hlZDogZnVuY3Rpb24gaXNMaW1pdFJlYWNoZWQoKSB7CiAgICAgIHZhciBsaW1pdCA9IHRoaXMubGltaXQ7CiAgICAgIHJldHVybiBpc051bWJlcihsaW1pdCkgJiYgbGltaXQgPj0gMCAmJiB0aGlzLnRhZ3MubGVuZ3RoID49IGxpbWl0OwogICAgfQogIH0sCiAgd2F0Y2g6IChfd2F0Y2ggPSB7fSwgX2RlZmluZVByb3BlcnR5KF93YXRjaCwgTU9ERUxfUFJPUF9OQU1FLCBmdW5jdGlvbiAobmV3VmFsdWUpIHsKICAgIHRoaXMudGFncyA9IGNsZWFuVGFncyhuZXdWYWx1ZSk7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfd2F0Y2gsICJ0YWdzIiwgZnVuY3Rpb24gdGFncyhuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgIC8vIFVwZGF0ZSB0aGUgYHYtbW9kZWxgIChpZiBpdCBkaWZmZXJzIGZyb20gdGhlIHZhbHVlIHByb3ApCiAgICBpZiAoIWxvb3NlRXF1YWwobmV3VmFsdWUsIHRoaXNbTU9ERUxfUFJPUF9OQU1FXSkpIHsKICAgICAgdGhpcy4kZW1pdChNT0RFTF9FVkVOVF9OQU1FLCBuZXdWYWx1ZSk7CiAgICB9CgogICAgaWYgKCFsb29zZUVxdWFsKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHsKICAgICAgbmV3VmFsdWUgPSBjb25jYXQobmV3VmFsdWUpLmZpbHRlcihpZGVudGl0eSk7CiAgICAgIG9sZFZhbHVlID0gY29uY2F0KG9sZFZhbHVlKS5maWx0ZXIoaWRlbnRpdHkpOwogICAgICB0aGlzLnJlbW92ZWRUYWdzID0gb2xkVmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChvbGQpIHsKICAgICAgICByZXR1cm4gIWFycmF5SW5jbHVkZXMobmV3VmFsdWUsIG9sZCk7CiAgICAgIH0pOwogICAgfQogIH0pLCBfZGVmaW5lUHJvcGVydHkoX3dhdGNoLCAidGFnc1N0YXRlIiwgZnVuY3Rpb24gdGFnc1N0YXRlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgLy8gRW1pdCBhIHRhZy1zdGF0ZSBldmVudCB3aGVuIHRoZSBgdGFnc1N0YXRlYCBvYmplY3QgY2hhbmdlcwogICAgaWYgKCFsb29zZUVxdWFsKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHsKICAgICAgdGhpcy4kZW1pdChFVkVOVF9OQU1FX1RBR19TVEFURSwgbmV3VmFsdWUudmFsaWQsIG5ld1ZhbHVlLmludmFsaWQsIG5ld1ZhbHVlLmR1cGxpY2F0ZSk7CiAgICB9CiAgfSksIF93YXRjaCksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIFdlIGRvIHRoaXMgaW4gY3JlYXRlZCB0byBtYWtlIHN1cmUgYW4gaW5wdXQgZXZlbnQgZW1pdHMKICAgIC8vIGlmIHRoZSBjbGVhbmVkIHRhZ3MgYXJlIG5vdCBlcXVhbCB0byB0aGUgdmFsdWUgcHJvcAogICAgdGhpcy50YWdzID0gY2xlYW5UYWdzKHRoaXNbTU9ERUxfUFJPUF9OQU1FXSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7IC8vIExpc3RlbiBmb3IgZm9ybSByZXNldCBldmVudHMsIHRvIHJlc2V0IHRoZSB0YWdzIGlucHV0CgoKICAgIHZhciAkZm9ybSA9IGNsb3Nlc3QoJ2Zvcm0nLCB0aGlzLiRlbCk7CgogICAgaWYgKCRmb3JtKSB7CiAgICAgIGV2ZW50T24oJGZvcm0sICdyZXNldCcsIHRoaXMucmVzZXQsIEVWRU5UX09QVElPTlNfUEFTU0lWRSk7CiAgICAgIHRoaXMuJG9uKEhPT0tfRVZFTlRfTkFNRV9CRUZPUkVfREVTVFJPWSwgZnVuY3Rpb24gKCkgewogICAgICAgIGV2ZW50T2ZmKCRmb3JtLCAncmVzZXQnLCBfdGhpczIucmVzZXQsIEVWRU5UX09QVElPTlNfUEFTU0lWRSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWRkVGFnOiBmdW5jdGlvbiBhZGRUYWcobmV3VGFnKSB7CiAgICAgIG5ld1RhZyA9IGlzU3RyaW5nKG5ld1RhZykgPyBuZXdUYWcgOiB0aGlzLm5ld1RhZzsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KCiAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8IHRyaW0obmV3VGFnKSA9PT0gJycgfHwgdGhpcy5pc0xpbWl0UmVhY2hlZCkgewogICAgICAgIC8vIEVhcmx5IGV4aXQKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBwYXJzZWQgPSB0aGlzLnBhcnNlVGFncyhuZXdUYWcpOyAvLyBBZGQgYW55IG5ldyB0YWdzIHRvIHRoZSBgdGFnc2AgYXJyYXksIG9yIGlmIHRoZQogICAgICAvLyBhcnJheSBvZiBgYWxsVGFnc2AgaXMgZW1wdHksIHdlIGNsZWFyIHRoZSBpbnB1dAoKICAgICAgaWYgKHBhcnNlZC52YWxpZC5sZW5ndGggPiAwIHx8IHBhcnNlZC5hbGwubGVuZ3RoID09PSAwKSB7CiAgICAgICAgLy8gQ2xlYXIgdGhlIHVzZXIgaW5wdXQgZWxlbWVudCAoYW5kIGxlYXZlIGluIGFueSBpbnZhbGlkL2R1cGxpY2F0ZSB0YWcocykKCiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmOiBmdWxsIHRlc3RpbmcgdG8gYmUgYWRkZWQgbGF0ZXIgKi8KICAgICAgICBpZiAobWF0Y2hlcyh0aGlzLmdldElucHV0KCksICdzZWxlY3QnKSkgewogICAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBpcyBuZWVkZWQgdG8gcHJvcGVybHkKICAgICAgICAgIC8vIHdvcmsgd2l0aCBgPHNlbGVjdD5gIGVsZW1lbnRzCiAgICAgICAgICB0aGlzLm5ld1RhZyA9ICcnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgaW52YWxpZEFuZER1cGxpY2F0ZXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhcnNlZC5pbnZhbGlkKSwgX3RvQ29uc3VtYWJsZUFycmF5KHBhcnNlZC5kdXBsaWNhdGUpKTsKICAgICAgICAgIHRoaXMubmV3VGFnID0gcGFyc2VkLmFsbC5maWx0ZXIoZnVuY3Rpb24gKHRhZykgewogICAgICAgICAgICByZXR1cm4gYXJyYXlJbmNsdWRlcyhpbnZhbGlkQW5kRHVwbGljYXRlcywgdGFnKTsKICAgICAgICAgIH0pLmpvaW4odGhpcy5jb21wdXRlZEpvaW5lcikuY29uY2F0KGludmFsaWRBbmREdXBsaWNhdGVzLmxlbmd0aCA+IDAgPyB0aGlzLmNvbXB1dGVkSm9pbmVyLmNoYXJBdCgwKSA6ICcnKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChwYXJzZWQudmFsaWQubGVuZ3RoID4gMCkgewogICAgICAgIC8vIFdlIGFkZCB0aGUgbmV3IHRhZ3MgaW4gb25lIGF0b21pYyBvcGVyYXRpb24KICAgICAgICAvLyB0byB0cmlnZ2VyIHJlYWN0aXZpdHkgb25jZSAoaW5zdGVhZCBvZiBvbmNlIHBlciB0YWcpCiAgICAgICAgLy8gV2UgZG8gdGhpcyBhZnRlciB3ZSB1cGRhdGUgdGhlIG5ldyB0YWcgaW5wdXQgdmFsdWUKICAgICAgICAvLyBgY29uY2F0KClgIGNhbiBiZSBmYXN0ZXIgdGhhbiBhcnJheSBzcHJlYWQsIHdoZW4gYm90aCBhcmdzIGFyZSBhcnJheXMKICAgICAgICB0aGlzLnRhZ3MgPSBjb25jYXQodGhpcy50YWdzLCBwYXJzZWQudmFsaWQpOwogICAgICB9CgogICAgICB0aGlzLnRhZ3NTdGF0ZSA9IHBhcnNlZDsgLy8gQXR0ZW1wdCB0byByZS1mb2N1cyB0aGUgaW5wdXQgKHNwZWNpZmljYWxseSBmb3Igd2hlbiB1c2luZyB0aGUgQWRkCiAgICAgIC8vIGJ1dHRvbiwgYXMgdGhlIGJ1dHRvbiBkaXNhcHBlYXJzIGFmdGVyIHN1Y2Nlc3NmdWxseSBhZGRpbmcgYSB0YWcKCiAgICAgIHRoaXMuZm9jdXMoKTsKICAgIH0sCiAgICByZW1vdmVUYWc6IGZ1bmN0aW9uIHJlbW92ZVRhZyh0YWcpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCgoKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gVE9ETzoKICAgICAgLy8gICBBZGQgYG9uUmVtb3ZlVGFnKHRhZylgIHVzZXIgbWV0aG9kLCB3aGljaCBpZiByZXR1cm5zIGBmYWxzZWAKICAgICAgLy8gICB3aWxsIHByZXZlbnQgdGhlIHRhZyBmcm9tIGJlaW5nIHJlbW92ZWQgKGkuZS4gY29uZmlybWF0aW9uKQogICAgICAvLyAgIE9yIGVtaXQgY2FuY2VsYWJsZSBgQnZFdmVudGAKCgogICAgICB0aGlzLnRhZ3MgPSB0aGlzLnRhZ3MuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHQgIT09IHRhZzsKICAgICAgfSk7IC8vIFJldHVybiBmb2N1cyB0byB0aGUgaW5wdXQgKGlmIHBvc3NpYmxlKQoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5mb2N1cygpOwogICAgICB9KTsKICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5uZXdUYWcgPSAnJzsKICAgICAgdGhpcy50YWdzID0gW107CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQucmVtb3ZlZFRhZ3MgPSBbXTsKICAgICAgICBfdGhpczQudGFnc1N0YXRlID0gY2xlYW5UYWdzU3RhdGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gLS0tIElucHV0IGVsZW1lbnQgZXZlbnQgaGFuZGxlcnMgLS0tCiAgICBvbklucHV0SW5wdXQ6IGZ1bmN0aW9uIG9uSW5wdXRJbnB1dChldmVudCkgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogaGFyZCB0byB0ZXN0IGNvbXBvc2l0aW9uIGV2ZW50cyAqLwogICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCBpc0V2ZW50KGV2ZW50KSAmJiBldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgLy8gYGV2ZW50LnRhcmdldC5jb21wb3NpbmdgIGlzIHNldCBieSBWdWUgKGB2LW1vZGVsYCBkaXJlY3RpdmUpCiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9ibG9iL2Rldi9zcmMvcGxhdGZvcm1zL3dlYi9ydW50aW1lL2RpcmVjdGl2ZXMvbW9kZWwuanMKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBuZXdUYWcgPSBwcm9jZXNzRXZlbnRWYWx1ZShldmVudCk7CiAgICAgIHZhciBzZXBhcmF0b3JSZSA9IHRoaXMuY29tcHV0ZWRTZXBhcmF0b3JSZWdFeHA7CgogICAgICBpZiAodGhpcy5uZXdUYWcgIT09IG5ld1RhZykgewogICAgICAgIHRoaXMubmV3VGFnID0gbmV3VGFnOwogICAgICB9IC8vIFdlIGlnbm9yZSBsZWFkaW5nIHdoaXRlc3BhY2UgZm9yIHRoZSBmb2xsb3dpbmcKCgogICAgICBuZXdUYWcgPSB0cmltTGVmdChuZXdUYWcpOwoKICAgICAgaWYgKHNlcGFyYXRvclJlICYmIHNlcGFyYXRvclJlLnRlc3QobmV3VGFnLnNsaWNlKC0xKSkpIHsKICAgICAgICAvLyBBIHRyYWlsaW5nIHNlcGFyYXRvciBjaGFyYWN0ZXIgd2FzIGVudGVyZWQsIHNvIGFkZCB0aGUgdGFnKHMpCiAgICAgICAgLy8gTm90ZTogTW9yZSB0aGFuIG9uZSB0YWcgb24gaW5wdXQgZXZlbnQgaXMgcG9zc2libGUgdmlhIGNvcHkvcGFzdGUKICAgICAgICB0aGlzLmFkZFRhZygpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFZhbGlkYXRlIChwYXJzZSB0YWdzKSBvbiBpbnB1dCBldmVudAogICAgICAgIHRoaXMudGFnc1N0YXRlID0gbmV3VGFnID09PSAnJyA/IGNsZWFuVGFnc1N0YXRlKCkgOiB0aGlzLnBhcnNlVGFncyhuZXdUYWcpOwogICAgICB9CiAgICB9LAogICAgb25JbnB1dENoYW5nZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShldmVudCkgewogICAgICAvLyBDaGFuZ2UgaXMgdHJpZ2dlcmVkIG9uIGA8aW5wdXQ+YCBibHVyLCBvciBgPHNlbGVjdD5gIHNlbGVjdGVkCiAgICAgIC8vIFRoaXMgZXZlbnQgaXMgb3B0LWluCiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiB0aGlzLmFkZE9uQ2hhbmdlKSB7CiAgICAgICAgdmFyIG5ld1RhZyA9IHByb2Nlc3NFdmVudFZhbHVlKGV2ZW50KTsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwoKICAgICAgICBpZiAodGhpcy5uZXdUYWcgIT09IG5ld1RhZykgewogICAgICAgICAgdGhpcy5uZXdUYWcgPSBuZXdUYWc7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmFkZFRhZygpOwogICAgICB9CiAgICB9LAogICAgb25JbnB1dEtleWRvd246IGZ1bmN0aW9uIG9uSW5wdXRLZXlkb3duKGV2ZW50KSB7CiAgICAgIC8vIEVhcmx5IGV4aXQKCiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8ICFpc0V2ZW50KGV2ZW50KSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlOwogICAgICB2YXIgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUgfHwgJyc7CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiB0ZXN0aW5nIHRvIGJlIGFkZGVkIGxhdGVyICovCgogICAgICBpZiAoIXRoaXMubm9BZGRPbkVudGVyICYmIGtleUNvZGUgPT09IENPREVfRU5URVIpIHsKICAgICAgICAvLyBBdHRlbXB0IHRvIGFkZCB0aGUgdGFnIHdoZW4gdXNlciBwcmVzc2VzIGVudGVyCiAgICAgICAgc3RvcEV2ZW50KGV2ZW50LCB7CiAgICAgICAgICBwcm9wYWdhdGlvbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgICB0aGlzLmFkZFRhZygpOwogICAgICB9IGVsc2UgaWYgKHRoaXMucmVtb3ZlT25EZWxldGUgJiYgKGtleUNvZGUgPT09IENPREVfQkFDS1NQQUNFIHx8IGtleUNvZGUgPT09IENPREVfREVMRVRFKSAmJiB2YWx1ZSA9PT0gJycpIHsKICAgICAgICAvLyBSZW1vdmUgdGhlIGxhc3QgdGFnIGlmIHRoZSB1c2VyIHByZXNzZWQgYmFja3NwYWNlL2RlbGV0ZSBhbmQgdGhlIGlucHV0IGlzIGVtcHR5CiAgICAgICAgc3RvcEV2ZW50KGV2ZW50LCB7CiAgICAgICAgICBwcm9wYWdhdGlvbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgICB0aGlzLnRhZ3MgPSB0aGlzLnRhZ3Muc2xpY2UoMCwgLTEpOwogICAgICB9CiAgICB9LAogICAgLy8gLS0tIFdyYXBwZXIgZXZlbnQgaGFuZGxlcnMgLS0tCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGlnbm9yZUZvY3VzU2VsZWN0b3IgPSB0aGlzLmNvbXB1dGVJZ25vcmVJbnB1dEZvY3VzU2VsZWN0b3I7CiAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7CgogICAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgIWlzQWN0aXZlRWxlbWVudCh0YXJnZXQpICYmICghaWdub3JlRm9jdXNTZWxlY3RvciB8fCAhY2xvc2VzdChpZ25vcmVGb2N1c1NlbGVjdG9yLCB0YXJnZXQsIHRydWUpKSkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNS5mb2N1cygpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb25Gb2N1c2luOiBmdW5jdGlvbiBvbkZvY3VzaW4oKSB7CiAgICAgIHRoaXMuaGFzRm9jdXMgPSB0cnVlOwogICAgfSwKICAgIG9uRm9jdXNvdXQ6IGZ1bmN0aW9uIG9uRm9jdXNvdXQoKSB7CiAgICAgIHRoaXMuaGFzRm9jdXMgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVBdXRvZm9jdXM6IGZ1bmN0aW9uIGhhbmRsZUF1dG9mb2N1cygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcmVxdWVzdEFGKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChfdGhpczYuYXV0b2ZvY3VzICYmICFfdGhpczYuZGlzYWJsZWQpIHsKICAgICAgICAgICAgX3RoaXM2LmZvY3VzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIC0tLSBQdWJsaWMgbWV0aG9kcyAtLS0KICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHsKICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgYXR0ZW1wdEZvY3VzKHRoaXMuZ2V0SW5wdXQoKSk7CiAgICAgIH0KICAgIH0sCiAgICBibHVyOiBmdW5jdGlvbiBibHVyKCkgewogICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHsKICAgICAgICBhdHRlbXB0Qmx1cih0aGlzLmdldElucHV0KCkpOwogICAgICB9CiAgICB9LAogICAgLy8gLS0tIFByaXZhdGUgbWV0aG9kcyAtLS0KICAgIHNwbGl0VGFnczogZnVuY3Rpb24gc3BsaXRUYWdzKG5ld1RhZykgewogICAgICAvLyBTcGxpdCB0aGUgaW5wdXQgaW50byBhbiBhcnJheSBvZiByYXcgdGFncwogICAgICBuZXdUYWcgPSB0b1N0cmluZyhuZXdUYWcpOwogICAgICB2YXIgc2VwYXJhdG9yUmUgPSB0aGlzLmNvbXB1dGVkU2VwYXJhdG9yUmVnRXhwOyAvLyBTcGxpdCB0aGUgdGFnKHMpIHZpYSB0aGUgb3B0aW9uYWwgc2VwYXJhdG9yCiAgICAgIC8vIE5vcm1hbGx5IG9ubHkgYSBzaW5nbGUgdGFnIGlzIHByb3ZpZGVkLCBidXQgY29weS9wYXN0ZQogICAgICAvLyBjYW4gZW50ZXIgbXVsdGlwbGUgdGFncyBpbiBhIHNpbmdsZSBvcGVyYXRpb24KCiAgICAgIHJldHVybiAoc2VwYXJhdG9yUmUgPyBuZXdUYWcuc3BsaXQoc2VwYXJhdG9yUmUpIDogW25ld1RhZ10pLm1hcCh0cmltKS5maWx0ZXIoaWRlbnRpdHkpOwogICAgfSwKICAgIHBhcnNlVGFnczogZnVuY3Rpb24gcGFyc2VUYWdzKG5ld1RhZykgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsgLy8gVGFrZXMgYG5ld1RhZ2AgdmFsdWUgYW5kIHBhcnNlcyBpdCBpbnRvIGB2YWxpZFRhZ3NgLAogICAgICAvLyBgaW52YWxpZFRhZ3NgLCBhbmQgZHVwbGljYXRlIHRhZ3MgYXMgYW4gb2JqZWN0CiAgICAgIC8vIFNwbGl0IHRoZSBpbnB1dCBpbnRvIHJhdyB0YWdzCgoKICAgICAgdmFyIHRhZ3MgPSB0aGlzLnNwbGl0VGFncyhuZXdUYWcpOyAvLyBCYXNlIHJlc3VsdHMKCiAgICAgIHZhciBwYXJzZWQgPSB7CiAgICAgICAgYWxsOiB0YWdzLAogICAgICAgIHZhbGlkOiBbXSwKICAgICAgICBpbnZhbGlkOiBbXSwKICAgICAgICBkdXBsaWNhdGU6IFtdCiAgICAgIH07IC8vIFBhcnNlIHRoZSB1bmlxdWUgdGFncwoKICAgICAgdGFncy5mb3JFYWNoKGZ1bmN0aW9uICh0YWcpIHsKICAgICAgICBpZiAoYXJyYXlJbmNsdWRlcyhfdGhpczcudGFncywgdGFnKSB8fCBhcnJheUluY2x1ZGVzKHBhcnNlZC52YWxpZCwgdGFnKSkgewogICAgICAgICAgLy8gVW5pcXVlIGR1cGxpY2F0ZSB0YWdzCiAgICAgICAgICBpZiAoIWFycmF5SW5jbHVkZXMocGFyc2VkLmR1cGxpY2F0ZSwgdGFnKSkgewogICAgICAgICAgICBwYXJzZWQuZHVwbGljYXRlLnB1c2godGFnKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKF90aGlzNy52YWxpZGF0ZVRhZyh0YWcpKSB7CiAgICAgICAgICAvLyBXZSBvbmx5IGFkZCB1bmlxdWUvdmFsaWQgdGFncwogICAgICAgICAgcGFyc2VkLnZhbGlkLnB1c2godGFnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gVW5pcXVlIGludmFsaWQgdGFncwogICAgICAgICAgaWYgKCFhcnJheUluY2x1ZGVzKHBhcnNlZC5pbnZhbGlkLCB0YWcpKSB7CiAgICAgICAgICAgIHBhcnNlZC5pbnZhbGlkLnB1c2godGFnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcGFyc2VkOwogICAgfSwKICAgIHZhbGlkYXRlVGFnOiBmdW5jdGlvbiB2YWxpZGF0ZVRhZyh0YWcpIHsKICAgICAgdmFyIHRhZ1ZhbGlkYXRvciA9IHRoaXMudGFnVmFsaWRhdG9yOwogICAgICByZXR1cm4gaGFzUHJvcEZ1bmN0aW9uKHRhZ1ZhbGlkYXRvcikgPyB0YWdWYWxpZGF0b3IodGFnKSA6IHRydWU7CiAgICB9LAogICAgZ2V0SW5wdXQ6IGZ1bmN0aW9uIGdldElucHV0KCkgewogICAgICAvLyBSZXR1cm5zIHRoZSBpbnB1dCBlbGVtZW50IHJlZmVyZW5jZSAob3IgbnVsbCBpZiBub3QgZm91bmQpCiAgICAgIC8vIFdlIG5lZWQgdG8gZXNjYXBlIGBjb21wdXRlZElucHV0SWRgIHNpbmNlIGl0IGNhbiBiZSB1c2VyLXByb3ZpZGVkCiAgICAgIHJldHVybiBzZWxlY3QoIiMiLmNvbmNhdChjc3NFc2NhcGUodGhpcy5jb21wdXRlZElucHV0SWQpKSwgdGhpcy4kZWwpOwogICAgfSwKICAgIC8vIERlZmF1bHQgVXNlciBJbnRlcmZhY2UgcmVuZGVyCiAgICBkZWZhdWx0UmVuZGVyOiBmdW5jdGlvbiBkZWZhdWx0UmVuZGVyKF9yZWYpIHsKICAgICAgdmFyIGFkZEJ1dHRvblRleHQgPSBfcmVmLmFkZEJ1dHRvblRleHQsCiAgICAgICAgICBhZGRCdXR0b25WYXJpYW50ID0gX3JlZi5hZGRCdXR0b25WYXJpYW50LAogICAgICAgICAgYWRkVGFnID0gX3JlZi5hZGRUYWcsCiAgICAgICAgICBkaXNhYmxlQWRkQnV0dG9uID0gX3JlZi5kaXNhYmxlQWRkQnV0dG9uLAogICAgICAgICAgZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLAogICAgICAgICAgZHVwbGljYXRlVGFnVGV4dCA9IF9yZWYuZHVwbGljYXRlVGFnVGV4dCwKICAgICAgICAgIGlucHV0QXR0cnMgPSBfcmVmLmlucHV0QXR0cnMsCiAgICAgICAgICBpbnB1dENsYXNzID0gX3JlZi5pbnB1dENsYXNzLAogICAgICAgICAgaW5wdXRIYW5kbGVycyA9IF9yZWYuaW5wdXRIYW5kbGVycywKICAgICAgICAgIGlucHV0VHlwZSA9IF9yZWYuaW5wdXRUeXBlLAogICAgICAgICAgaW52YWxpZFRhZ1RleHQgPSBfcmVmLmludmFsaWRUYWdUZXh0LAogICAgICAgICAgaXNEdXBsaWNhdGUgPSBfcmVmLmlzRHVwbGljYXRlLAogICAgICAgICAgaXNJbnZhbGlkID0gX3JlZi5pc0ludmFsaWQsCiAgICAgICAgICBpc0xpbWl0UmVhY2hlZCA9IF9yZWYuaXNMaW1pdFJlYWNoZWQsCiAgICAgICAgICBsaW1pdFRhZ3NUZXh0ID0gX3JlZi5saW1pdFRhZ3NUZXh0LAogICAgICAgICAgbm9UYWdSZW1vdmUgPSBfcmVmLm5vVGFnUmVtb3ZlLAogICAgICAgICAgcGxhY2Vob2xkZXIgPSBfcmVmLnBsYWNlaG9sZGVyLAogICAgICAgICAgcmVtb3ZlVGFnID0gX3JlZi5yZW1vdmVUYWcsCiAgICAgICAgICB0YWdDbGFzcyA9IF9yZWYudGFnQ2xhc3MsCiAgICAgICAgICB0YWdQaWxscyA9IF9yZWYudGFnUGlsbHMsCiAgICAgICAgICB0YWdSZW1vdmVMYWJlbCA9IF9yZWYudGFnUmVtb3ZlTGFiZWwsCiAgICAgICAgICB0YWdWYXJpYW50ID0gX3JlZi50YWdWYXJpYW50LAogICAgICAgICAgdGFncyA9IF9yZWYudGFnczsKICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OyAvLyBNYWtlIHRoZSBsaXN0IG9mIHRhZ3MKCiAgICAgIHZhciAkdGFncyA9IHRhZ3MubWFwKGZ1bmN0aW9uICh0YWcpIHsKICAgICAgICB0YWcgPSB0b1N0cmluZyh0YWcpOwogICAgICAgIHJldHVybiBoKEJGb3JtVGFnLCB7CiAgICAgICAgICAiY2xhc3MiOiB0YWdDbGFzcywKICAgICAgICAgIC8vIGBCRm9ybVRhZ2Agd2lsbCBhdXRvIGdlbmVyYXRlIGFuIElECiAgICAgICAgICAvLyBzbyB3ZSBkbyBub3QgbmVlZCB0byBzZXQgdGhlIElEIHByb3AKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCwKICAgICAgICAgICAgbm9SZW1vdmU6IG5vVGFnUmVtb3ZlLAogICAgICAgICAgICBwaWxsOiB0YWdQaWxscywKICAgICAgICAgICAgcmVtb3ZlTGFiZWw6IHRhZ1JlbW92ZUxhYmVsLAogICAgICAgICAgICB0YWc6ICdsaScsCiAgICAgICAgICAgIHRpdGxlOiB0YWcsCiAgICAgICAgICAgIHZhcmlhbnQ6IHRhZ1ZhcmlhbnQKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlVGFnKHRhZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBrZXk6ICJ0YWdzXyIuY29uY2F0KHRhZykKICAgICAgICB9LCB0YWcpOwogICAgICB9KTsgLy8gRmVlZGJhY2sgSURzIGlmIG5lZWRlZAoKICAgICAgdmFyIGludmFsaWRGZWVkYmFja0lkID0gaW52YWxpZFRhZ1RleHQgJiYgaXNJbnZhbGlkID8gdGhpcy5zYWZlSWQoJ19faW52YWxpZF9mZWVkYmFja19fJykgOiBudWxsOwogICAgICB2YXIgZHVwbGljYXRlRmVlZGJhY2tJZCA9IGR1cGxpY2F0ZVRhZ1RleHQgJiYgaXNEdXBsaWNhdGUgPyB0aGlzLnNhZmVJZCgnX19kdXBsaWNhdGVfZmVlZGJhY2tfXycpIDogbnVsbDsKICAgICAgdmFyIGxpbWl0RmVlZGJhY2tJZCA9IGxpbWl0VGFnc1RleHQgJiYgaXNMaW1pdFJlYWNoZWQgPyB0aGlzLnNhZmVJZCgnX19saW1pdF9mZWVkYmFja19fJykgOiBudWxsOyAvLyBDb21wdXRlIHRoZSBgYXJpYS1kZXNjcmliZWRieWAgYXR0cmlidXRlIHZhbHVlCgogICAgICB2YXIgYXJpYURlc2NyaWJlZGJ5ID0gW2lucHV0QXR0cnNbJ2FyaWEtZGVzY3JpYmVkYnknXSwgaW52YWxpZEZlZWRiYWNrSWQsIGR1cGxpY2F0ZUZlZWRiYWNrSWQsIGxpbWl0RmVlZGJhY2tJZF0uZmlsdGVyKGlkZW50aXR5KS5qb2luKCcgJyk7IC8vIElucHV0CgogICAgICB2YXIgJGlucHV0ID0gaCgnaW5wdXQnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdiLWZvcm0tdGFncy1pbnB1dCB3LTEwMCBmbGV4LWdyb3ctMSBwLTAgbS0wIGJnLXRyYW5zcGFyZW50IGJvcmRlci0wJywKICAgICAgICAiY2xhc3MiOiBpbnB1dENsYXNzLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBvdXRsaW5lOiAwLAogICAgICAgICAgbWluV2lkdGg6ICc1cmVtJwogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaW5wdXRBdHRycyksIHt9LCB7CiAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6IGFyaWFEZXNjcmliZWRieSB8fCBudWxsLAogICAgICAgICAgdHlwZTogaW5wdXRUeXBlLAogICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyIHx8IG51bGwKICAgICAgICB9KSwKICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgdmFsdWU6IGlucHV0QXR0cnMudmFsdWUKICAgICAgICB9LAogICAgICAgIG9uOiBpbnB1dEhhbmRsZXJzLAogICAgICAgIC8vIERpcmVjdGl2ZSBuZWVkZWQgdG8gZ2V0IGBldmVudC50YXJnZXQuY29tcG9zaW5nYCBzZXQgKGlmIG5lZWRlZCkKICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgbmFtZTogJ21vZGVsJywKICAgICAgICAgIHZhbHVlOiBpbnB1dEF0dHJzLnZhbHVlCiAgICAgICAgfV0sCiAgICAgICAgcmVmOiAnaW5wdXQnCiAgICAgIH0pOyAvLyBBZGQgYnV0dG9uCgogICAgICB2YXIgJGJ1dHRvbiA9IGgoQkJ1dHRvbiwgewogICAgICAgIHN0YXRpY0NsYXNzOiAnYi1mb3JtLXRhZ3MtYnV0dG9uIHB5LTAnLAogICAgICAgICJjbGFzcyI6IHsKICAgICAgICAgIC8vIE9ubHkgc2hvdyB0aGUgYnV0dG9uIGlmIHRoZSB0YWcgY2FuIGJlIGFkZGVkCiAgICAgICAgICAvLyBXZSB1c2UgdGhlIGBpbnZpc2libGVgIGNsYXNzIGluc3RlYWQgb2Ygbm90IHJlbmRlcmluZwogICAgICAgICAgLy8gdGhlIGJ1dHRvbiwgc28gdGhhdCB3ZSBtYWludGFpbiBsYXlvdXQgdG8gcHJldmVudAogICAgICAgICAgLy8gdGhlIHVzZXIgaW5wdXQgZnJvbSBqdW1waW5nIGFyb3VuZAogICAgICAgICAgaW52aXNpYmxlOiBkaXNhYmxlQWRkQnV0dG9uCiAgICAgICAgfSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgZm9udFNpemU6ICc5MCUnCiAgICAgICAgfSwKICAgICAgICBwcm9wczogewogICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVBZGRCdXR0b24gfHwgaXNMaW1pdFJlYWNoZWQsCiAgICAgICAgICB2YXJpYW50OiBhZGRCdXR0b25WYXJpYW50CiAgICAgICAgfSwKICAgICAgICBvbjogewogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICByZXR1cm4gYWRkVGFnKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICByZWY6ICdidXR0b24nCiAgICAgIH0sIFt0aGlzLm5vcm1hbGl6ZVNsb3QoU0xPVF9OQU1FX0FERF9CVVRUT05fVEVYVCkgfHwgYWRkQnV0dG9uVGV4dF0pOyAvLyBJRCBvZiB0aGUgdGFncyArIGlucHV0IGA8dWw+YCBsaXN0CiAgICAgIC8vIE5vdGUgd2UgY291bGQgY29uY2F0ZW5hdGUgYGlucHV0QXR0cnMuaWRgIHdpdGggJ19fdGFnX2xpc3RfXycKICAgICAgLy8gYnV0IGBpbnB1dElkYCBtYXkgYmUgYG51bGxgIHVudGlsIGFmdGVyIG1vdW50CiAgICAgIC8vIGBzYWZlSWQoKWAgcmV0dXJucyBgbnVsbGAsIGlmIG5vIHVzZXIgcHJvdmlkZWQgSUQsCiAgICAgIC8vIHVudGlsIGFmdGVyIG1vdW50IHdoZW4gYSB1bmlxdWUgSUQgaXMgZ2VuZXJhdGVkCgogICAgICB2YXIgdGFnTGlzdElkID0gdGhpcy5zYWZlSWQoJ19fdGFnX2xpc3RfXycpOwogICAgICB2YXIgJGZpZWxkID0gaCgnbGknLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdiLWZyb20tdGFncy1maWVsZCBmbGV4LWdyb3ctMScsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIHJvbGU6ICdub25lJywKICAgICAgICAgICdhcmlhLWxpdmUnOiAnb2ZmJywKICAgICAgICAgICdhcmlhLWNvbnRyb2xzJzogdGFnTGlzdElkCiAgICAgICAgfSwKICAgICAgICBrZXk6ICd0YWdzX2ZpZWxkJwogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAnZC1mbGV4JywKICAgICAgICBhdHRyczogewogICAgICAgICAgcm9sZTogJ2dyb3VwJwogICAgICAgIH0KICAgICAgfSwgWyRpbnB1dCwgJGJ1dHRvbl0pXSk7IC8vIFdyYXAgaW4gYW4gdW5vcmRlcmVkIGxpc3QgZWxlbWVudCAod2UgdXNlIGEgbGlzdCBmb3IgYWNjZXNzaWJpbGl0eSkKCiAgICAgIHZhciAkdWwgPSBoKCd1bCcsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ2ItZm9ybS10YWdzLWxpc3QgbGlzdC11bnN0eWxlZCBtYi0wIGQtZmxleCBmbGV4LXdyYXAgYWxpZ24taXRlbXMtY2VudGVyJywKICAgICAgICBhdHRyczogewogICAgICAgICAgaWQ6IHRhZ0xpc3RJZAogICAgICAgIH0sCiAgICAgICAga2V5OiAndGFnc19saXN0JwogICAgICB9LCBbJHRhZ3MsICRmaWVsZF0pOyAvLyBBc3NlbWJsZSB0aGUgZmVlZGJhY2sKCiAgICAgIHZhciAkZmVlZGJhY2sgPSBoKCk7CgogICAgICBpZiAoaW52YWxpZFRhZ1RleHQgfHwgZHVwbGljYXRlVGFnVGV4dCB8fCBsaW1pdFRhZ3NUZXh0KSB7CiAgICAgICAgLy8gQWRkIGFuIGFyaWEgbGl2ZSByZWdpb24gZm9yIHRoZSBpbnZhbGlkL2R1cGxpY2F0ZSB0YWcKICAgICAgICAvLyBtZXNzYWdlcyBpZiB0aGUgdXNlciBoYXMgbm90IGRpc2FibGVkIHRoZSBtZXNzYWdlcwogICAgICAgIHZhciBqb2luZXIgPSB0aGlzLmNvbXB1dGVkSm9pbmVyOyAvLyBJbnZhbGlkIHRhZyBmZWVkYmFjayBpZiBuZWVkZWQgKGVycm9yKQoKICAgICAgICB2YXIgJGludmFsaWQgPSBoKCk7CgogICAgICAgIGlmIChpbnZhbGlkRmVlZGJhY2tJZCkgewogICAgICAgICAgJGludmFsaWQgPSBoKEJGb3JtSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgaWQ6IGludmFsaWRGZWVkYmFja0lkLAogICAgICAgICAgICAgIGZvcmNlU2hvdzogdHJ1ZQogICAgICAgICAgICB9LAogICAgICAgICAgICBrZXk6ICd0YWdzX2ludmFsaWRfZmVlZGJhY2snCiAgICAgICAgICB9LCBbdGhpcy5pbnZhbGlkVGFnVGV4dCwgJzogJywgdGhpcy5pbnZhbGlkVGFncy5qb2luKGpvaW5lcildKTsKICAgICAgICB9IC8vIER1cGxpY2F0ZSB0YWcgZmVlZGJhY2sgaWYgbmVlZGVkICh3YXJuaW5nLCBub3QgZXJyb3IpCgoKICAgICAgICB2YXIgJGR1cGxpY2F0ZSA9IGgoKTsKCiAgICAgICAgaWYgKGR1cGxpY2F0ZUZlZWRiYWNrSWQpIHsKICAgICAgICAgICRkdXBsaWNhdGUgPSBoKEJGb3JtVGV4dCwgewogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIGlkOiBkdXBsaWNhdGVGZWVkYmFja0lkCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGtleTogJ3RhZ3NfZHVwbGljYXRlX2ZlZWRiYWNrJwogICAgICAgICAgfSwgW3RoaXMuZHVwbGljYXRlVGFnVGV4dCwgJzogJywgdGhpcy5kdXBsaWNhdGVUYWdzLmpvaW4oam9pbmVyKV0pOwogICAgICAgIH0gLy8gTGltaXQgdGFncyBmZWVkYmFjayBpZiBuZWVkZWQgKHdhcm5pbmcsIG5vdCBlcnJvcikKCgogICAgICAgIHZhciAkbGltaXQgPSBoKCk7CgogICAgICAgIGlmIChsaW1pdEZlZWRiYWNrSWQpIHsKICAgICAgICAgICRsaW1pdCA9IGgoQkZvcm1UZXh0LCB7CiAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgaWQ6IGxpbWl0RmVlZGJhY2tJZAogICAgICAgICAgICB9LAogICAgICAgICAgICBrZXk6ICd0YWdzX2xpbWl0X2ZlZWRiYWNrJwogICAgICAgICAgfSwgW2xpbWl0VGFnc1RleHRdKTsKICAgICAgICB9CgogICAgICAgICRmZWVkYmFjayA9IGgoJ2RpdicsIHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICdhcmlhLWxpdmUnOiAncG9saXRlJywKICAgICAgICAgICAgJ2FyaWEtYXRvbWljJzogJ3RydWUnCiAgICAgICAgICB9LAogICAgICAgICAga2V5OiAndGFnc19mZWVkYmFjaycKICAgICAgICB9LCBbJGludmFsaWQsICRkdXBsaWNhdGUsICRsaW1pdF0pOwogICAgICB9IC8vIFJldHVybiB0aGUgY29udGVudAoKCiAgICAgIHJldHVybiBbJHVsLCAkZmVlZGJhY2tdOwogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgdmFyIG5hbWUgPSB0aGlzLm5hbWUsCiAgICAgICAgZGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkLAogICAgICAgIHJlcXVpcmVkID0gdGhpcy5yZXF1aXJlZCwKICAgICAgICBmb3JtID0gdGhpcy5mb3JtLAogICAgICAgIHRhZ3MgPSB0aGlzLnRhZ3MsCiAgICAgICAgY29tcHV0ZWRJbnB1dElkID0gdGhpcy5jb21wdXRlZElucHV0SWQsCiAgICAgICAgaGFzRm9jdXMgPSB0aGlzLmhhc0ZvY3VzLAogICAgICAgIG5vT3V0ZXJGb2N1cyA9IHRoaXMubm9PdXRlckZvY3VzOyAvLyBTY29wZWQgc2xvdCBwcm9wZXJ0aWVzCgogICAgdmFyIHNjb3BlID0gX29iamVjdFNwcmVhZCh7CiAgICAgIC8vIEFycmF5IG9mIHRhZ3MgKHNoYWxsb3cgY29weSB0byBwcmV2ZW50IG11dGF0aW9ucykKICAgICAgdGFnczogdGFncy5zbGljZSgpLAogICAgICAvLyA8aW5wdXQ+IHYtYmluZDppbnB1dEF0dHJzCiAgICAgIGlucHV0QXR0cnM6IHRoaXMuY29tcHV0ZWRJbnB1dEF0dHJzLAogICAgICAvLyBXZSBkb24ndCBpbmNsdWRlIHRoaXMgaW4gdGhlIGF0dHJzLCBhcyB1c2VycyBtYXkgd2FudCB0byBvdmVycmlkZSB0aGlzCiAgICAgIGlucHV0VHlwZTogdGhpcy5jb21wdXRlZElucHV0VHlwZSwKICAgICAgLy8gPGlucHV0PiB2LW9uOmlucHV0SGFuZGxlcnMKICAgICAgaW5wdXRIYW5kbGVyczogdGhpcy5jb21wdXRlZElucHV0SGFuZGxlcnMsCiAgICAgIC8vIE1ldGhvZHMKICAgICAgcmVtb3ZlVGFnOiB0aGlzLnJlbW92ZVRhZywKICAgICAgYWRkVGFnOiB0aGlzLmFkZFRhZywKICAgICAgcmVzZXQ6IHRoaXMucmVzZXQsCiAgICAgIC8vIDxpbnB1dD4gOmlkPSJpbnB1dElkIgogICAgICBpbnB1dElkOiBjb21wdXRlZElucHV0SWQsCiAgICAgIC8vIEludmFsaWQvRHVwbGljYXRlIHN0YXRlIGluZm9ybWF0aW9uCiAgICAgIGlzSW52YWxpZDogdGhpcy5oYXNJbnZhbGlkVGFncywKICAgICAgaW52YWxpZFRhZ3M6IHRoaXMuaW52YWxpZFRhZ3Muc2xpY2UoKSwKICAgICAgaXNEdXBsaWNhdGU6IHRoaXMuaGFzRHVwbGljYXRlVGFncywKICAgICAgZHVwbGljYXRlVGFnczogdGhpcy5kdXBsaWNhdGVUYWdzLnNsaWNlKCksCiAgICAgIGlzTGltaXRSZWFjaGVkOiB0aGlzLmlzTGltaXRSZWFjaGVkLAogICAgICAvLyBJZiB0aGUgJ0FkZCcgYnV0dG9uIHNob3VsZCBiZSBkaXNhYmxlZAogICAgICBkaXNhYmxlQWRkQnV0dG9uOiB0aGlzLmRpc2FibGVBZGRCdXR0b24KICAgIH0sIHBpY2sodGhpcy4kcHJvcHMsIFsnYWRkQnV0dG9uVGV4dCcsICdhZGRCdXR0b25WYXJpYW50JywgJ2Rpc2FibGVkJywgJ2R1cGxpY2F0ZVRhZ1RleHQnLCAnZm9ybScsICdpbnB1dENsYXNzJywgJ2ludmFsaWRUYWdUZXh0JywgJ2xpbWl0JywgJ2xpbWl0VGFnc1RleHQnLCAnbm9UYWdSZW1vdmUnLCAncGxhY2Vob2xkZXInLCAncmVxdWlyZWQnLCAnc2VwYXJhdG9yJywgJ3NpemUnLCAnc3RhdGUnLCAndGFnQ2xhc3MnLCAndGFnUGlsbHMnLCAndGFnUmVtb3ZlTGFiZWwnLCAndGFnVmFyaWFudCddKSk7IC8vIEdlbmVyYXRlIHRoZSB1c2VyIGludGVyZmFjZQoKCiAgICB2YXIgJGNvbnRlbnQgPSB0aGlzLm5vcm1hbGl6ZVNsb3QoU0xPVF9OQU1FX0RFRkFVTFQsIHNjb3BlKSB8fCB0aGlzLmRlZmF1bHRSZW5kZXIoc2NvcGUpOyAvLyBHZW5lcmF0ZSB0aGUgYGFyaWEtbGl2ZWAgcmVnaW9uIGZvciB0aGUgY3VycmVudCB2YWx1ZShzKQoKICAgIHZhciAkb3V0cHV0ID0gaCgnb3V0cHV0JywgewogICAgICBzdGF0aWNDbGFzczogJ3NyLW9ubHknLAogICAgICBhdHRyczogewogICAgICAgIGlkOiB0aGlzLnNhZmVJZCgnX19zZWxlY3RlZF90YWdzX18nKSwKICAgICAgICByb2xlOiAnc3RhdHVzJywKICAgICAgICAiZm9yIjogY29tcHV0ZWRJbnB1dElkLAogICAgICAgICdhcmlhLWxpdmUnOiBoYXNGb2N1cyA/ICdwb2xpdGUnIDogJ29mZicsCiAgICAgICAgJ2FyaWEtYXRvbWljJzogJ3RydWUnLAogICAgICAgICdhcmlhLXJlbGV2YW50JzogJ2FkZGl0aW9ucyB0ZXh0JwogICAgICB9CiAgICB9LCB0aGlzLnRhZ3Muam9pbignLCAnKSk7IC8vIFJlbW92ZWQgdGFnIGxpdmUgcmVnaW9uCgogICAgdmFyICRyZW1vdmVkID0gaCgnZGl2JywgewogICAgICBzdGF0aWNDbGFzczogJ3NyLW9ubHknLAogICAgICBhdHRyczogewogICAgICAgIGlkOiB0aGlzLnNhZmVJZCgnX19yZW1vdmVkX3RhZ3NfXycpLAogICAgICAgIHJvbGU6ICdzdGF0dXMnLAogICAgICAgICdhcmlhLWxpdmUnOiBoYXNGb2N1cyA/ICdhc3NlcnRpdmUnIDogJ29mZicsCiAgICAgICAgJ2FyaWEtYXRvbWljJzogJ3RydWUnCiAgICAgIH0KICAgIH0sIHRoaXMucmVtb3ZlZFRhZ3MubGVuZ3RoID4gMCA/ICIoIi5jb25jYXQodGhpcy50YWdSZW1vdmVkTGFiZWwsICIpICIpLmNvbmNhdCh0aGlzLnJlbW92ZWRUYWdzLmpvaW4oJywgJykpIDogJycpOyAvLyBBZGQgaGlkZGVuIGlucHV0cyBmb3IgZm9ybSBzdWJtaXNzaW9uCgogICAgdmFyICRoaWRkZW4gPSBoKCk7CgogICAgaWYgKG5hbWUgJiYgIWRpc2FibGVkKSB7CiAgICAgIC8vIFdlIGFkZCBoaWRkZW4gaW5wdXRzIGZvciBlYWNoIHRhZyBpZiBhIG5hbWUgaXMgcHJvdmlkZWQKICAgICAgLy8gV2hlbiB0aGVyZSBhcmUgY3VycmVudGx5IG5vIHRhZ3MsIGEgdmlzdWFsbHkgaGlkZGVuIGlucHV0CiAgICAgIC8vIHdpdGggZW1wdHkgdmFsdWUgaXMgcmVuZGVyZWQgZm9yIHByb3BlciByZXF1aXJlZCBoYW5kbGluZwogICAgICB2YXIgaGFzVGFncyA9IHRhZ3MubGVuZ3RoID4gMDsKICAgICAgJGhpZGRlbiA9IChoYXNUYWdzID8gdGFncyA6IFsnJ10pLm1hcChmdW5jdGlvbiAodGFnKSB7CiAgICAgICAgcmV0dXJuIGgoJ2lucHV0JywgewogICAgICAgICAgImNsYXNzIjogewogICAgICAgICAgICAnc3Itb25seSc6ICFoYXNUYWdzCiAgICAgICAgICB9LAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgdHlwZTogaGFzVGFncyA/ICdoaWRkZW4nIDogJ3RleHQnLAogICAgICAgICAgICB2YWx1ZTogdGFnLAogICAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQsCiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgIGZvcm06IGZvcm0KICAgICAgICAgIH0sCiAgICAgICAgICBrZXk6ICJ0YWdfaW5wdXRfIi5jb25jYXQodGFnKQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gLy8gUmV0dXJuIHRoZSByZW5kZXJlZCBvdXRwdXQKCgogICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgc3RhdGljQ2xhc3M6ICdiLWZvcm0tdGFncyBmb3JtLWNvbnRyb2wgaC1hdXRvJywKICAgICAgImNsYXNzIjogW3sKICAgICAgICBmb2N1czogaGFzRm9jdXMgJiYgIW5vT3V0ZXJGb2N1cyAmJiAhZGlzYWJsZWQsCiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkCiAgICAgIH0sIHRoaXMuc2l6ZUZvcm1DbGFzcywgdGhpcy5zdGF0ZUNsYXNzXSwKICAgICAgYXR0cnM6IHsKICAgICAgICBpZDogdGhpcy5zYWZlSWQoKSwKICAgICAgICByb2xlOiAnZ3JvdXAnLAogICAgICAgIHRhYmluZGV4OiBkaXNhYmxlZCB8fCBub091dGVyRm9jdXMgPyBudWxsIDogJy0xJywKICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6IHRoaXMuc2FmZUlkKCdfX3NlbGVjdGVkX3RhZ3NfXycpCiAgICAgIH0sCiAgICAgIG9uOiB7CiAgICAgICAgY2xpY2s6IHRoaXMub25DbGljaywKICAgICAgICBmb2N1c2luOiB0aGlzLm9uRm9jdXNpbiwKICAgICAgICBmb2N1c291dDogdGhpcy5vbkZvY3Vzb3V0CiAgICAgIH0KICAgIH0sIFskb3V0cHV0LCAkcmVtb3ZlZCwgJGNvbnRlbnQsICRoaWRkZW5dKTsKICB9Cn0pOw=="},null]}
{"remainingRequest":"/Users/zzou/Downloads/backup_sample/node_modules/thread-loader/dist/cjs.js!/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js!/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/directives/popover/popover.js","dependencies":[{"path":"/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/directives/popover/popover.js","mtime":1610263603568},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/cache-loader/dist/cjs.js","mtime":1582363961748},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/thread-loader/dist/cjs.js","mtime":1582363962038},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js","mtime":1585275399303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmltcG9ydCB7IE5BTUVfUE9QT1ZFUiB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9jb21wb25lbnRzJzsKaW1wb3J0IHsgSVNfQlJPV1NFUiB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9lbnYnOwppbXBvcnQgeyBFVkVOVF9OQU1FX1NIT1cgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvZXZlbnRzJzsKaW1wb3J0IHsgY29uY2F0IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXknOwppbXBvcnQgeyBnZXRDb21wb25lbnRDb25maWcgfSBmcm9tICcuLi8uLi91dGlscy9jb25maWcnOwppbXBvcnQgeyBnZXRTY29wZUlkIH0gZnJvbSAnLi4vLi4vdXRpbHMvZ2V0LXNjb3BlLWlkJzsKaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi8uLi91dGlscy9pZGVudGl0eSc7CmltcG9ydCB7IGlzRnVuY3Rpb24sIGlzTnVtYmVyLCBpc1BsYWluT2JqZWN0LCBpc1N0cmluZywgaXNVbmRlZmluZWQsIGlzVW5kZWZpbmVkT3JOdWxsIH0gZnJvbSAnLi4vLi4vdXRpbHMvaW5zcGVjdCc7CmltcG9ydCB7IGxvb3NlRXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9sb29zZS1lcXVhbCc7CmltcG9ydCB7IHRvSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlcic7CmltcG9ydCB7IGtleXMgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QnOwppbXBvcnQgeyBCVlBvcG92ZXIgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL3BvcG92ZXIvaGVscGVycy9idi1wb3BvdmVyJzsgLy8gS2V5IHdoaWNoIHdlIHVzZSB0byBzdG9yZSB0b29sdGlwIG9iamVjdCBvbiBlbGVtZW50Cgp2YXIgQlZfUE9QT1ZFUiA9ICdfX0JWX1BvcG92ZXJfXyc7IC8vIERlZmF1bHQgdHJpZ2dlcgoKdmFyIERlZmF1bHRUcmlnZ2VyID0gJ2NsaWNrJzsgLy8gVmFsaWQgZXZlbnQgdHJpZ2dlcnMKCnZhciB2YWxpZFRyaWdnZXJzID0gewogIGZvY3VzOiB0cnVlLAogIGhvdmVyOiB0cnVlLAogIGNsaWNrOiB0cnVlLAogIGJsdXI6IHRydWUsCiAgbWFudWFsOiB0cnVlCn07IC8vIERpcmVjdGl2ZSBtb2RpZmllciB0ZXN0IHJlZ3VsYXIgZXhwcmVzc2lvbnMuIFByZS1jb21waWxlIGZvciBwZXJmb3JtYW5jZQoKdmFyIGh0bWxSRSA9IC9eaHRtbCQvaTsKdmFyIG5vRmFkZVJFID0gL15ub2ZhZGUkL2k7CnZhciBwbGFjZW1lbnRSRSA9IC9eKGF1dG98dG9wKGxlZnR8cmlnaHQpP3xib3R0b20obGVmdHxyaWdodCk/fGxlZnQodG9wfGJvdHRvbSk/fHJpZ2h0KHRvcHxib3R0b20pPykkL2k7CnZhciBib3VuZGFyeVJFID0gL14od2luZG93fHZpZXdwb3J0fHNjcm9sbFBhcmVudCkkL2k7CnZhciBkZWxheVJFID0gL15kXGQrJC9pOwp2YXIgZGVsYXlTaG93UkUgPSAvXmRzXGQrJC9pOwp2YXIgZGVsYXlIaWRlUkUgPSAvXmRoXGQrJC9pOwp2YXIgb2Zmc2V0UkUgPSAvXm8tP1xkKyQvaTsKdmFyIHZhcmlhbnRSRSA9IC9edi0uKyQvaTsKdmFyIHNwYWNlc1JFID0gL1xzKy87IC8vIEJ1aWxkIGEgUG9wb3ZlciBjb25maWcgYmFzZWQgb24gYmluZGluZ3MgKGlmIGFueSkKLy8gQXJndW1lbnRzIGFuZCBtb2RpZmllcnMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgcGFzc2VkIHZhbHVlIGNvbmZpZyBvYmplY3QKCnZhciBwYXJzZUJpbmRpbmdzID0gZnVuY3Rpb24gcGFyc2VCaW5kaW5ncyhiaW5kaW5ncywgdm5vZGUpCi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBub3QgZWFzeSB0byB0ZXN0ICovCnsKICAvLyBXZSBzdGFydCBvdXQgd2l0aCBhIGJhc2ljIGNvbmZpZwogIHZhciBjb25maWcgPSB7CiAgICB0aXRsZTogdW5kZWZpbmVkLAogICAgY29udGVudDogdW5kZWZpbmVkLAogICAgdHJpZ2dlcjogJycsCiAgICAvLyBEZWZhdWx0IHNldCBiZWxvdyBpZiBuZWVkZWQKICAgIHBsYWNlbWVudDogJ3JpZ2h0JywKICAgIGZhbGxiYWNrUGxhY2VtZW50OiAnZmxpcCcsCiAgICBjb250YWluZXI6IGZhbHNlLAogICAgLy8gRGVmYXVsdCBvZiBib2R5CiAgICBhbmltYXRpb246IHRydWUsCiAgICBvZmZzZXQ6IDAsCiAgICBkaXNhYmxlZDogZmFsc2UsCiAgICBpZDogbnVsbCwKICAgIGh0bWw6IGZhbHNlLAogICAgZGVsYXk6IGdldENvbXBvbmVudENvbmZpZyhOQU1FX1BPUE9WRVIsICdkZWxheScsIDUwKSwKICAgIGJvdW5kYXJ5OiBTdHJpbmcoZ2V0Q29tcG9uZW50Q29uZmlnKE5BTUVfUE9QT1ZFUiwgJ2JvdW5kYXJ5JywgJ3Njcm9sbFBhcmVudCcpKSwKICAgIGJvdW5kYXJ5UGFkZGluZzogdG9JbnRlZ2VyKGdldENvbXBvbmVudENvbmZpZyhOQU1FX1BPUE9WRVIsICdib3VuZGFyeVBhZGRpbmcnLCA1KSwgMCksCiAgICB2YXJpYW50OiBnZXRDb21wb25lbnRDb25maWcoTkFNRV9QT1BPVkVSLCAndmFyaWFudCcpLAogICAgY3VzdG9tQ2xhc3M6IGdldENvbXBvbmVudENvbmZpZyhOQU1FX1BPUE9WRVIsICdjdXN0b21DbGFzcycpCiAgfTsgLy8gUHJvY2VzcyBgYmluZGluZ3MudmFsdWVgCgogIGlmIChpc1N0cmluZyhiaW5kaW5ncy52YWx1ZSkgfHwgaXNOdW1iZXIoYmluZGluZ3MudmFsdWUpKSB7CiAgICAvLyBWYWx1ZSBpcyBwb3BvdmVyIGNvbnRlbnQgKGh0bWwgb3B0aW9uYWxseSBzdXBwb3J0ZWQpCiAgICBjb25maWcuY29udGVudCA9IGJpbmRpbmdzLnZhbHVlOwogIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihiaW5kaW5ncy52YWx1ZSkpIHsKICAgIC8vIENvbnRlbnQgZ2VuZXJhdG9yIGZ1bmN0aW9uCiAgICBjb25maWcuY29udGVudCA9IGJpbmRpbmdzLnZhbHVlOwogIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChiaW5kaW5ncy52YWx1ZSkpIHsKICAgIC8vIFZhbHVlIGlzIGNvbmZpZyBvYmplY3QsIHNvIG1lcmdlCiAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbmZpZyksIGJpbmRpbmdzLnZhbHVlKTsKICB9IC8vIElmIGFyZ3VtZW50LCBhc3N1bWUgZWxlbWVudCBJRCBvZiBjb250YWluZXIgZWxlbWVudAoKCiAgaWYgKGJpbmRpbmdzLmFyZykgewogICAgLy8gRWxlbWVudCBJRCBzcGVjaWZpZWQgYXMgYXJnCiAgICAvLyBXZSBtdXN0IHByZXBlbmQgJyMnIHRvIGJlY29tZSBhIENTUyBzZWxlY3RvcgogICAgY29uZmlnLmNvbnRhaW5lciA9ICIjIi5jb25jYXQoYmluZGluZ3MuYXJnKTsKICB9IC8vIElmIHRpdGxlIGlzIG5vdCBwcm92aWRlZCwgdHJ5IHRpdGxlIGF0dHJpYnV0ZQoKCiAgaWYgKGlzVW5kZWZpbmVkKGNvbmZpZy50aXRsZSkpIHsKICAgIC8vIFRyeSBhdHRyaWJ1dGUKICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YSB8fCB7fTsKICAgIGNvbmZpZy50aXRsZSA9IGRhdGEuYXR0cnMgJiYgIWlzVW5kZWZpbmVkT3JOdWxsKGRhdGEuYXR0cnMudGl0bGUpID8gZGF0YS5hdHRycy50aXRsZSA6IHVuZGVmaW5lZDsKICB9IC8vIE5vcm1hbGl6ZSBkZWxheQoKCiAgaWYgKCFpc1BsYWluT2JqZWN0KGNvbmZpZy5kZWxheSkpIHsKICAgIGNvbmZpZy5kZWxheSA9IHsKICAgICAgc2hvdzogdG9JbnRlZ2VyKGNvbmZpZy5kZWxheSwgMCksCiAgICAgIGhpZGU6IHRvSW50ZWdlcihjb25maWcuZGVsYXksIDApCiAgICB9OwogIH0gLy8gUHJvY2VzcyBtb2RpZmllcnMKCgogIGtleXMoYmluZGluZ3MubW9kaWZpZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChtb2QpIHsKICAgIGlmIChodG1sUkUudGVzdChtb2QpKSB7CiAgICAgIC8vIFRpdGxlL2NvbnRlbnQgYWxsb3dzIEhUTUwKICAgICAgY29uZmlnLmh0bWwgPSB0cnVlOwogICAgfSBlbHNlIGlmIChub0ZhZGVSRS50ZXN0KG1vZCkpIHsKICAgICAgLy8gTm8gYW5pbWF0aW9uCiAgICAgIGNvbmZpZy5hbmltYXRpb24gPSBmYWxzZTsKICAgIH0gZWxzZSBpZiAocGxhY2VtZW50UkUudGVzdChtb2QpKSB7CiAgICAgIC8vIFBsYWNlbWVudCBvZiBwb3BvdmVyCiAgICAgIGNvbmZpZy5wbGFjZW1lbnQgPSBtb2Q7CiAgICB9IGVsc2UgaWYgKGJvdW5kYXJ5UkUudGVzdChtb2QpKSB7CiAgICAgIC8vIEJvdW5kYXJ5IG9mIHBvcG92ZXIKICAgICAgbW9kID0gbW9kID09PSAnc2Nyb2xscGFyZW50JyA/ICdzY3JvbGxQYXJlbnQnIDogbW9kOwogICAgICBjb25maWcuYm91bmRhcnkgPSBtb2Q7CiAgICB9IGVsc2UgaWYgKGRlbGF5UkUudGVzdChtb2QpKSB7CiAgICAgIC8vIERlbGF5IHZhbHVlCiAgICAgIHZhciBkZWxheSA9IHRvSW50ZWdlcihtb2Quc2xpY2UoMSksIDApOwogICAgICBjb25maWcuZGVsYXkuc2hvdyA9IGRlbGF5OwogICAgICBjb25maWcuZGVsYXkuaGlkZSA9IGRlbGF5OwogICAgfSBlbHNlIGlmIChkZWxheVNob3dSRS50ZXN0KG1vZCkpIHsKICAgICAgLy8gRGVsYXkgc2hvdyB2YWx1ZQogICAgICBjb25maWcuZGVsYXkuc2hvdyA9IHRvSW50ZWdlcihtb2Quc2xpY2UoMiksIDApOwogICAgfSBlbHNlIGlmIChkZWxheUhpZGVSRS50ZXN0KG1vZCkpIHsKICAgICAgLy8gRGVsYXkgaGlkZSB2YWx1ZQogICAgICBjb25maWcuZGVsYXkuaGlkZSA9IHRvSW50ZWdlcihtb2Quc2xpY2UoMiksIDApOwogICAgfSBlbHNlIGlmIChvZmZzZXRSRS50ZXN0KG1vZCkpIHsKICAgICAgLy8gT2Zmc2V0IHZhbHVlLCBuZWdhdGl2ZSBhbGxvd2VkCiAgICAgIGNvbmZpZy5vZmZzZXQgPSB0b0ludGVnZXIobW9kLnNsaWNlKDEpLCAwKTsKICAgIH0gZWxzZSBpZiAodmFyaWFudFJFLnRlc3QobW9kKSkgewogICAgICAvLyBWYXJpYW50CiAgICAgIGNvbmZpZy52YXJpYW50ID0gbW9kLnNsaWNlKDIpIHx8IG51bGw7CiAgICB9CiAgfSk7IC8vIFNwZWNpYWwgaGFuZGxpbmcgb2YgZXZlbnQgdHJpZ2dlciBtb2RpZmllcnMgdHJpZ2dlciBpcwogIC8vIGEgc3BhY2Ugc2VwYXJhdGVkIGxpc3QKCiAgdmFyIHNlbGVjdGVkVHJpZ2dlcnMgPSB7fTsgLy8gUGFyc2UgY3VycmVudCBjb25maWcgb2JqZWN0IHRyaWdnZXIKCiAgY29uY2F0KGNvbmZpZy50cmlnZ2VyIHx8ICcnKS5maWx0ZXIoaWRlbnRpdHkpLmpvaW4oJyAnKS50cmltKCkudG9Mb3dlckNhc2UoKS5zcGxpdChzcGFjZXNSRSkuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikgewogICAgaWYgKHZhbGlkVHJpZ2dlcnNbdHJpZ2dlcl0pIHsKICAgICAgc2VsZWN0ZWRUcmlnZ2Vyc1t0cmlnZ2VyXSA9IHRydWU7CiAgICB9CiAgfSk7IC8vIFBhcnNlIG1vZGlmaWVycyBmb3IgdHJpZ2dlcnMKCiAga2V5cyhiaW5kaW5ncy5tb2RpZmllcnMpLmZvckVhY2goZnVuY3Rpb24gKG1vZCkgewogICAgbW9kID0gbW9kLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHZhbGlkVHJpZ2dlcnNbbW9kXSkgewogICAgICAvLyBJZiBtb2RpZmllciBpcyBhIHZhbGlkIHRyaWdnZXIKICAgICAgc2VsZWN0ZWRUcmlnZ2Vyc1ttb2RdID0gdHJ1ZTsKICAgIH0KICB9KTsgLy8gU2FuaXRpemUgdHJpZ2dlcnMKCiAgY29uZmlnLnRyaWdnZXIgPSBrZXlzKHNlbGVjdGVkVHJpZ2dlcnMpLmpvaW4oJyAnKTsKCiAgaWYgKGNvbmZpZy50cmlnZ2VyID09PSAnYmx1cicpIHsKICAgIC8vIEJsdXIgYnkgaXRzZWxmIGlzIHVzZWxlc3MsIHNvIGNvbnZlcnQgaXQgdG8gJ2ZvY3VzJwogICAgY29uZmlnLnRyaWdnZXIgPSAnZm9jdXMnOwogIH0KCiAgaWYgKCFjb25maWcudHJpZ2dlcikgewogICAgLy8gVXNlIGRlZmF1bHQgdHJpZ2dlcgogICAgY29uZmlnLnRyaWdnZXIgPSBEZWZhdWx0VHJpZ2dlcjsKICB9CgogIHJldHVybiBjb25maWc7Cn07IC8vIEFkZCBvciB1cGRhdGUgUG9wb3ZlciBvbiBvdXIgZWxlbWVudAoKCnZhciBhcHBseVBvcG92ZXIgPSBmdW5jdGlvbiBhcHBseVBvcG92ZXIoZWwsIGJpbmRpbmdzLCB2bm9kZSkgewogIGlmICghSVNfQlJPV1NFUikgewogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgIHJldHVybjsKICB9CgogIHZhciBjb25maWcgPSBwYXJzZUJpbmRpbmdzKGJpbmRpbmdzLCB2bm9kZSk7CgogIGlmICghZWxbQlZfUE9QT1ZFUl0pIHsKICAgIHZhciAkcGFyZW50ID0gdm5vZGUuY29udGV4dDsKICAgIGVsW0JWX1BPUE9WRVJdID0gbmV3IEJWUG9wb3Zlcih7CiAgICAgIHBhcmVudDogJHBhcmVudCwKICAgICAgLy8gQWRkIHRoZSBwYXJlbnQncyBzY29wZWQgc3R5bGUgYXR0cmlidXRlIGRhdGEKICAgICAgX3Njb3BlSWQ6IGdldFNjb3BlSWQoJHBhcmVudCwgdW5kZWZpbmVkKQogICAgfSk7CiAgICBlbFtCVl9QT1BPVkVSXS5fX2J2X3ByZXZfZGF0YV9fID0ge307CiAgICBlbFtCVl9QT1BPVkVSXS4kb24oRVZFTlRfTkFNRV9TSE9XLCBmdW5jdGlvbiAoKQogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGZvciBub3cgKi8KICAgIHsKICAgICAgLy8gQmVmb3JlIHNob3dpbmcgdGhlIHBvcG92ZXIsIHdlIHVwZGF0ZSB0aGUgdGl0bGUKICAgICAgLy8gYW5kIGNvbnRlbnQgaWYgdGhleSBhcmUgZnVuY3Rpb25zCiAgICAgIHZhciBkYXRhID0ge307CgogICAgICBpZiAoaXNGdW5jdGlvbihjb25maWcudGl0bGUpKSB7CiAgICAgICAgZGF0YS50aXRsZSA9IGNvbmZpZy50aXRsZShlbCk7CiAgICAgIH0KCiAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbmZpZy5jb250ZW50KSkgewogICAgICAgIGRhdGEuY29udGVudCA9IGNvbmZpZy5jb250ZW50KGVsKTsKICAgICAgfQoKICAgICAgaWYgKGtleXMoZGF0YSkubGVuZ3RoID4gMCkgewogICAgICAgIGVsW0JWX1BPUE9WRVJdLnVwZGF0ZURhdGEoZGF0YSk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgdmFyIGRhdGEgPSB7CiAgICB0aXRsZTogY29uZmlnLnRpdGxlLAogICAgY29udGVudDogY29uZmlnLmNvbnRlbnQsCiAgICB0cmlnZ2VyczogY29uZmlnLnRyaWdnZXIsCiAgICBwbGFjZW1lbnQ6IGNvbmZpZy5wbGFjZW1lbnQsCiAgICBmYWxsYmFja1BsYWNlbWVudDogY29uZmlnLmZhbGxiYWNrUGxhY2VtZW50LAogICAgdmFyaWFudDogY29uZmlnLnZhcmlhbnQsCiAgICBjdXN0b21DbGFzczogY29uZmlnLmN1c3RvbUNsYXNzLAogICAgY29udGFpbmVyOiBjb25maWcuY29udGFpbmVyLAogICAgYm91bmRhcnk6IGNvbmZpZy5ib3VuZGFyeSwKICAgIGRlbGF5OiBjb25maWcuZGVsYXksCiAgICBvZmZzZXQ6IGNvbmZpZy5vZmZzZXQsCiAgICBub0ZhZGU6ICFjb25maWcuYW5pbWF0aW9uLAogICAgaWQ6IGNvbmZpZy5pZCwKICAgIGRpc2FibGVkOiBjb25maWcuZGlzYWJsZWQsCiAgICBodG1sOiBjb25maWcuaHRtbAogIH07CiAgdmFyIG9sZERhdGEgPSBlbFtCVl9QT1BPVkVSXS5fX2J2X3ByZXZfZGF0YV9fOwogIGVsW0JWX1BPUE9WRVJdLl9fYnZfcHJldl9kYXRhX18gPSBkYXRhOwoKICBpZiAoIWxvb3NlRXF1YWwoZGF0YSwgb2xkRGF0YSkpIHsKICAgIC8vIFdlIG9ubHkgdXBkYXRlIHRoZSBpbnN0YW5jZSBpZiBkYXRhIGhhcyBjaGFuZ2VkCiAgICB2YXIgbmV3RGF0YSA9IHsKICAgICAgdGFyZ2V0OiBlbAogICAgfTsKICAgIGtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkgewogICAgICAvLyBXZSBvbmx5IHBhc3MgZGF0YSBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkCiAgICAgIGlmIChkYXRhW3Byb3BdICE9PSBvbGREYXRhW3Byb3BdKSB7CiAgICAgICAgLy8gSWYgdGl0bGUvY29udGVudCBpcyBhIGZ1bmN0aW9uLCB3ZSBleGVjdXRlIGl0IGhlcmUKICAgICAgICBuZXdEYXRhW3Byb3BdID0gKHByb3AgPT09ICd0aXRsZScgfHwgcHJvcCA9PT0gJ2NvbnRlbnQnKSAmJiBpc0Z1bmN0aW9uKGRhdGFbcHJvcF0pID8KICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgIGRhdGFbcHJvcF0oZWwpIDogZGF0YVtwcm9wXTsKICAgICAgfQogICAgfSk7CiAgICBlbFtCVl9QT1BPVkVSXS51cGRhdGVEYXRhKG5ld0RhdGEpOwogIH0KfTsgLy8gUmVtb3ZlIFBvcG92ZXIgZnJvbSBvdXIgZWxlbWVudAoKCnZhciByZW1vdmVQb3BvdmVyID0gZnVuY3Rpb24gcmVtb3ZlUG9wb3ZlcihlbCkgewogIGlmIChlbFtCVl9QT1BPVkVSXSkgewogICAgZWxbQlZfUE9QT1ZFUl0uJGRlc3Ryb3koKTsKICAgIGVsW0JWX1BPUE9WRVJdID0gbnVsbDsKICB9CgogIGRlbGV0ZSBlbFtCVl9QT1BPVkVSXTsKfTsgLy8gRXhwb3J0IG91ciBkaXJlY3RpdmUKCgpleHBvcnQgdmFyIFZCUG9wb3ZlciA9IHsKICBiaW5kOiBmdW5jdGlvbiBiaW5kKGVsLCBiaW5kaW5ncywgdm5vZGUpIHsKICAgIGFwcGx5UG9wb3ZlcihlbCwgYmluZGluZ3MsIHZub2RlKTsKICB9LAogIC8vIFdlIHVzZSBgY29tcG9uZW50VXBkYXRlZGAgaGVyZSBpbnN0ZWFkIG9mIGB1cGRhdGVgLCBhcyB0aGUgZm9ybWVyCiAgLy8gd2FpdHMgdW50aWwgdGhlIGNvbnRhaW5pbmcgY29tcG9uZW50IGFuZCBjaGlsZHJlbiBoYXZlIGZpbmlzaGVkIHVwZGF0aW5nCiAgY29tcG9uZW50VXBkYXRlZDogZnVuY3Rpb24gY29tcG9uZW50VXBkYXRlZChlbCwgYmluZGluZ3MsIHZub2RlKSB7CiAgICAvLyBQZXJmb3JtZWQgaW4gYSBgJG5leHRUaWNrKClgIHRvIHByZXZlbnQgZW5kbGVzcyByZW5kZXIvdXBkYXRlIGxvb3BzCiAgICB2bm9kZS5jb250ZXh0LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIGFwcGx5UG9wb3ZlcihlbCwgYmluZGluZ3MsIHZub2RlKTsKICAgIH0pOwogIH0sCiAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoZWwpIHsKICAgIHJlbW92ZVBvcG92ZXIoZWwpOwogIH0KfTs="},null]}
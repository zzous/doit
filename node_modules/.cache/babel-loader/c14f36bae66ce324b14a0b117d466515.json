{"remainingRequest":"/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js!/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/form-file/form-file.js","dependencies":[{"path":"/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/form-file/form-file.js","mtime":1610263603568},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/cache-loader/dist/cjs.js","mtime":1582363961748},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js","mtime":1585275399303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwoKdmFyIF93YXRjaDsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICB9IGVsc2UgewogICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KCiAgcmV0dXJuIG9iajsKfQoKaW1wb3J0IHsgVnVlIH0gZnJvbSAnLi4vLi4vdnVlJzsKaW1wb3J0IHsgTkFNRV9GT1JNX0ZJTEUgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvY29tcG9uZW50cyc7CmltcG9ydCB7IEhBU19QUk9NSVNFX1NVUFBPUlQgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvZW52JzsKaW1wb3J0IHsgRVZFTlRfTkFNRV9DSEFOR0UsIEVWRU5UX09QVElPTlNfUEFTU0lWRSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9ldmVudHMnOwppbXBvcnQgeyBQUk9QX1RZUEVfQVJSQVksIFBST1BfVFlQRV9CT09MRUFOLCBQUk9QX1RZUEVfRlVOQ1RJT04sIFBST1BfVFlQRV9TVFJJTkcgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcHJvcHMnOwppbXBvcnQgeyBTTE9UX05BTUVfRFJPUF9QTEFDRUhPTERFUiwgU0xPVF9OQU1FX0ZJTEVfTkFNRSwgU0xPVF9OQU1FX1BMQUNFSE9MREVSIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3Nsb3RzJzsKaW1wb3J0IHsgUlhfRVhURU5TSU9OLCBSWF9TVEFSIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3JlZ2V4JzsKaW1wb3J0IHsgRmlsZSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9zYWZlLXR5cGVzJzsKaW1wb3J0IHsgZnJvbSBhcyBhcnJheUZyb20sIGZsYXR0ZW4sIGZsYXR0ZW5EZWVwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXknOwppbXBvcnQgeyBjbG9uZURlZXAgfSBmcm9tICcuLi8uLi91dGlscy9jbG9uZS1kZWVwJzsKaW1wb3J0IHsgY2xvc2VzdCB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbSc7CmltcG9ydCB7IGV2ZW50T24sIGV2ZW50T2ZmLCBzdG9wRXZlbnQgfSBmcm9tICcuLi8uLi91dGlscy9ldmVudHMnOwppbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2lkZW50aXR5JzsKaW1wb3J0IHsgaXNBcnJheSwgaXNGaWxlLCBpc0Z1bmN0aW9uLCBpc051bGwsIGlzVW5kZWZpbmVkT3JOdWxsIH0gZnJvbSAnLi4vLi4vdXRpbHMvaW5zcGVjdCc7CmltcG9ydCB7IGxvb3NlRXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9sb29zZS1lcXVhbCc7CmltcG9ydCB7IG1ha2VNb2RlbE1peGluIH0gZnJvbSAnLi4vLi4vdXRpbHMvbW9kZWwnOwppbXBvcnQgeyBzb3J0S2V5cyB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IGhhc1Byb3BGdW5jdGlvbiwgbWFrZVByb3AsIG1ha2VQcm9wc0NvbmZpZ3VyYWJsZSB9IGZyb20gJy4uLy4uL3V0aWxzL3Byb3BzJzsKaW1wb3J0IHsgZXNjYXBlUmVnRXhwIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nJzsKaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uL3V0aWxzL3dhcm4nOwppbXBvcnQgeyBhdHRyc01peGluIH0gZnJvbSAnLi4vLi4vbWl4aW5zL2F0dHJzJzsKaW1wb3J0IHsgZm9ybUNvbnRyb2xNaXhpbiwgcHJvcHMgYXMgZm9ybUNvbnRyb2xQcm9wcyB9IGZyb20gJy4uLy4uL21peGlucy9mb3JtLWNvbnRyb2wnOwppbXBvcnQgeyBmb3JtQ3VzdG9tTWl4aW4sIHByb3BzIGFzIGZvcm1DdXN0b21Qcm9wcyB9IGZyb20gJy4uLy4uL21peGlucy9mb3JtLWN1c3RvbSc7CmltcG9ydCB7IGZvcm1TdGF0ZU1peGluLCBwcm9wcyBhcyBmb3JtU3RhdGVQcm9wcyB9IGZyb20gJy4uLy4uL21peGlucy9mb3JtLXN0YXRlJzsKaW1wb3J0IHsgaWRNaXhpbiwgcHJvcHMgYXMgaWRQcm9wcyB9IGZyb20gJy4uLy4uL21peGlucy9pZCc7CmltcG9ydCB7IG5vcm1hbGl6ZVNsb3RNaXhpbiB9IGZyb20gJy4uLy4uL21peGlucy9ub3JtYWxpemUtc2xvdCc7CmltcG9ydCB7IHByb3BzIGFzIGZvcm1TaXplUHJvcHMgfSBmcm9tICcuLi8uLi9taXhpbnMvZm9ybS1zaXplJzsgLy8gLS0tIENvbnN0YW50cyAtLS0KCnZhciBfbWFrZU1vZGVsTWl4aW4gPSBtYWtlTW9kZWxNaXhpbigndmFsdWUnLCB7CiAgdHlwZTogW1BST1BfVFlQRV9BUlJBWSwgRmlsZV0sCiAgZGVmYXVsdFZhbHVlOiBudWxsLAogIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbHVlKSB7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICB3YXJuKFZBTFVFX0VNUFRZX0RFUFJFQ0FURURfTVNHLCBOQU1FX0ZPUk1fRklMRSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHJldHVybiBpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkgfHwgaXNWYWxpZFZhbHVlKHZhbHVlKTsKICB9Cn0pLAogICAgbW9kZWxNaXhpbiA9IF9tYWtlTW9kZWxNaXhpbi5taXhpbiwKICAgIG1vZGVsUHJvcHMgPSBfbWFrZU1vZGVsTWl4aW4ucHJvcHMsCiAgICBNT0RFTF9QUk9QX05BTUUgPSBfbWFrZU1vZGVsTWl4aW4ucHJvcCwKICAgIE1PREVMX0VWRU5UX05BTUUgPSBfbWFrZU1vZGVsTWl4aW4uZXZlbnQ7Cgp2YXIgVkFMVUVfRU1QVFlfREVQUkVDQVRFRF9NU0cgPSAnU2V0dGluZyAidmFsdWUiLyJ2LW1vZGVsIiB0byBhbiBlbXB0eSBzdHJpbmcgZm9yIHJlc2V0IGlzIGRlcHJlY2F0ZWQuIFNldCB0byAibnVsbCIgaW5zdGVhZC4nOyAvLyAtLS0gSGVscGVyIG1ldGhvZHMgLS0tCgp2YXIgaXNWYWxpZFZhbHVlID0gZnVuY3Rpb24gaXNWYWxpZFZhbHVlKHZhbHVlKSB7CiAgcmV0dXJuIGlzRmlsZSh2YWx1ZSkgfHwgaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoZnVuY3Rpb24gKHYpIHsKICAgIHJldHVybiBpc1ZhbGlkVmFsdWUodik7CiAgfSk7Cn07IC8vIEhlbHBlciBtZXRob2QgdG8gInNhZmVseSIgZ2V0IHRoZSBlbnRyeSBmcm9tIGEgZGF0YS10cmFuc2ZlciBpdGVtCgovKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbm90IHN1cHBvcnRlZCBpbiBKU0RPTSAqLwoKCnZhciBnZXREYXRhVHJhbnNmZXJJdGVtRW50cnkgPSBmdW5jdGlvbiBnZXREYXRhVHJhbnNmZXJJdGVtRW50cnkoaXRlbSkgewogIHJldHVybiBpc0Z1bmN0aW9uKGl0ZW0uZ2V0QXNFbnRyeSkgPyBpdGVtLmdldEFzRW50cnkoKSA6IGlzRnVuY3Rpb24oaXRlbS53ZWJraXRHZXRBc0VudHJ5KSA/IGl0ZW0ud2Via2l0R2V0QXNFbnRyeSgpIDogbnVsbDsKfTsgLy8gRHJvcCBoYW5kbGVyIGZ1bmN0aW9uIHRvIGdldCBhbGwgZmlsZXMKCi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBub3Qgc3VwcG9ydGVkIGluIEpTRE9NICovCgoKdmFyIGdldEFsbEZpbGVFbnRyaWVzID0gZnVuY3Rpb24gZ2V0QWxsRmlsZUVudHJpZXMoZGF0YVRyYW5zZmVySXRlbUxpc3QpIHsKICB2YXIgdHJhdmVyc2VEaXJlY3RvcmllcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICByZXR1cm4gUHJvbWlzZS5hbGwoYXJyYXlGcm9tKGRhdGFUcmFuc2Zlckl0ZW1MaXN0KS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBpdGVtLmtpbmQgPT09ICdmaWxlJzsKICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHZhciBlbnRyeSA9IGdldERhdGFUcmFuc2Zlckl0ZW1FbnRyeShpdGVtKTsKCiAgICBpZiAoZW50cnkpIHsKICAgICAgaWYgKGVudHJ5LmlzRGlyZWN0b3J5ICYmIHRyYXZlcnNlRGlyZWN0b3JpZXMpIHsKICAgICAgICByZXR1cm4gZ2V0QWxsRmlsZUVudHJpZXNJbkRpcmVjdG9yeShlbnRyeS5jcmVhdGVSZWFkZXIoKSwgIiIuY29uY2F0KGVudHJ5Lm5hbWUsICIvIikpOwogICAgICB9IGVsc2UgaWYgKGVudHJ5LmlzRmlsZSkgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgZW50cnkuZmlsZShmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgICBmaWxlLiRwYXRoID0gJyc7CiAgICAgICAgICAgIHJlc29sdmUoZmlsZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0pLmZpbHRlcihpZGVudGl0eSkpOwp9OyAvLyBHZXQgYWxsIHRoZSBmaWxlIGVudHJpZXMgKHJlY3Vyc2l2ZSkgaW4gYSBkaXJlY3RvcnkKCi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBub3Qgc3VwcG9ydGVkIGluIEpTRE9NICovCgoKdmFyIGdldEFsbEZpbGVFbnRyaWVzSW5EaXJlY3RvcnkgPSBmdW5jdGlvbiBnZXRBbGxGaWxlRW50cmllc0luRGlyZWN0b3J5KGRpcmVjdG9yeVJlYWRlcikgewogIHZhciBwYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJzsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIHZhciBlbnRyeVByb21pc2VzID0gW107CgogICAgdmFyIHJlYWREaXJlY3RvcnlFbnRyaWVzID0gZnVuY3Rpb24gcmVhZERpcmVjdG9yeUVudHJpZXMoKSB7CiAgICAgIGRpcmVjdG9yeVJlYWRlci5yZWFkRW50cmllcyhmdW5jdGlvbiAoZW50cmllcykgewogICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmVzb2x2ZShQcm9taXNlLmFsbChlbnRyeVByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChlbnRyaWVzKSB7CiAgICAgICAgICAgIHJldHVybiBmbGF0dGVuKGVudHJpZXMpOwogICAgICAgICAgfSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbnRyeVByb21pc2VzLnB1c2goUHJvbWlzZS5hbGwoZW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgICAgIGlmIChlbnRyeSkgewogICAgICAgICAgICAgIGlmIChlbnRyeS5pc0RpcmVjdG9yeSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGdldEFsbEZpbGVFbnRyaWVzSW5EaXJlY3RvcnkoZW50cnkuY3JlYXRlUmVhZGVyKCksICIiLmNvbmNhdChwYXRoKS5jb25jYXQoZW50cnkubmFtZSwgIi8iKSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbnRyeS5pc0ZpbGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBlbnRyeS5maWxlKGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsZS4kcGF0aCA9ICIiLmNvbmNhdChwYXRoKS5jb25jYXQoZmlsZS5uYW1lKTsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZpbGUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICB9KS5maWx0ZXIoaWRlbnRpdHkpKSk7CiAgICAgICAgICByZWFkRGlyZWN0b3J5RW50cmllcygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIHJlYWREaXJlY3RvcnlFbnRyaWVzKCk7CiAgfSk7Cn07IC8vIC0tLSBQcm9wcyAtLS0KCgp2YXIgcHJvcHMgPSBtYWtlUHJvcHNDb25maWd1cmFibGUoc29ydEtleXMoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaWRQcm9wcyksIG1vZGVsUHJvcHMpLCBmb3JtQ29udHJvbFByb3BzKSwgZm9ybUN1c3RvbVByb3BzKSwgZm9ybVN0YXRlUHJvcHMpLCBmb3JtU2l6ZVByb3BzKSwge30sIHsKICBhY2NlcHQ6IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcsICcnKSwKICBicm93c2VUZXh0OiBtYWtlUHJvcChQUk9QX1RZUEVfU1RSSU5HLCAnQnJvd3NlJyksCiAgLy8gSW5zdHJ1Y3QgaW5wdXQgdG8gY2FwdHVyZSBmcm9tIGNhbWVyYQogIGNhcHR1cmU6IG1ha2VQcm9wKFBST1BfVFlQRV9CT09MRUFOLCBmYWxzZSksCiAgZGlyZWN0b3J5OiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIGRyb3BQbGFjZWhvbGRlcjogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORywgJ0Ryb3AgZmlsZXMgaGVyZScpLAogIGZpbGVOYW1lRm9ybWF0dGVyOiBtYWtlUHJvcChQUk9QX1RZUEVfRlVOQ1RJT04pLAogIG11bHRpcGxlOiBtYWtlUHJvcChQUk9QX1RZUEVfQk9PTEVBTiwgZmFsc2UpLAogIG5vRHJvcDogbWFrZVByb3AoUFJPUF9UWVBFX0JPT0xFQU4sIGZhbHNlKSwKICBub0Ryb3BQbGFjZWhvbGRlcjogbWFrZVByb3AoUFJPUF9UWVBFX1NUUklORywgJ05vdCBhbGxvd2VkJyksCiAgLy8gVE9ETzoKICAvLyAgIFNob3VsZCB3ZSBkZXByZWNhdGUgdGhpcyBhbmQgb25seSBzdXBwb3J0IGZsYXQgZmlsZSBzdHJ1Y3R1cmVzPwogIC8vICAgTmVzdGVkIGZpbGUgc3RydWN0dXJlcyBhcmUgb25seSBzdXBwb3J0ZWQgd2hlbiBmaWxlcyBhcmUgZHJvcHBlZAogIC8vICAgQSBDaHJvbWl1bSAiYnVnIiBwcmV2ZW50cyBgd2Via2l0RW50cmllc2AgZnJvbSBiZWluZyBwb3B1bGF0ZWQKICAvLyAgIG9uIHRoZSBmaWxlIGlucHV0J3MgYGNoYW5nZWAgZXZlbnQgYW5kIGlzIG1hcmtlZCBhcyAiV29udEZpeCIKICAvLyAgIE1vemlsbGEgaW1wbGVtZW50ZWQgdGhlIGJlaGF2aW9yIHRoZSBzYW1lIHdheSBhcyBDaHJvbWl1bQogIC8vICAgU2VlOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMzg5ODcKICAvLyAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTMyNjAzMQogIG5vVHJhdmVyc2U6IG1ha2VQcm9wKFBST1BfVFlQRV9CT09MRUFOLCBmYWxzZSksCiAgcGxhY2Vob2xkZXI6IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcsICdObyBmaWxlIGNob3NlbicpCn0pKSwgTkFNRV9GT1JNX0ZJTEUpOyAvLyAtLS0gTWFpbiBjb21wb25lbnQgLS0tCi8vIEB2dWUvY29tcG9uZW50CgpleHBvcnQgdmFyIEJGb3JtRmlsZSA9IC8qI19fUFVSRV9fKi9WdWUuZXh0ZW5kKHsKICBuYW1lOiBOQU1FX0ZPUk1fRklMRSwKICBtaXhpbnM6IFthdHRyc01peGluLCBpZE1peGluLCBtb2RlbE1peGluLCBub3JtYWxpemVTbG90TWl4aW4sIGZvcm1Db250cm9sTWl4aW4sIGZvcm1TdGF0ZU1peGluLCBmb3JtQ3VzdG9tTWl4aW4sIG5vcm1hbGl6ZVNsb3RNaXhpbl0sCiAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICBwcm9wczogcHJvcHMsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGVzOiBbXSwKICAgICAgZHJhZ2dpbmc6IGZhbHNlLAogICAgICAvLyBJRSAxMSBkb2Vzbid0IHJlc3BlY3Qgc2V0dGluZyBgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3RgLAogICAgICAvLyBzbyB3ZSBoYW5kbGUgaXQgb3Vyc2VsdmVzIGFzIHdlbGwKICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ2OTE1OTcxLzI3NDQ3NzYKICAgICAgZHJvcEFsbG93ZWQ6ICF0aGlzLm5vRHJvcCwKICAgICAgaGFzRm9jdXM6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIENvbnZlcnQgYGFjY2VwdGAgdG8gYW4gYXJyYXkgb2YgYFt7IFJlZ0V4cHIsIGlzTWltZSB9LCAuLi5dYAogICAgY29tcHV0ZWRBY2NlcHQ6IGZ1bmN0aW9uIGNvbXB1dGVkQWNjZXB0KCkgewogICAgICB2YXIgYWNjZXB0ID0gdGhpcy5hY2NlcHQ7CiAgICAgIGFjY2VwdCA9IChhY2NlcHQgfHwgJycpLnRyaW0oKS5zcGxpdCgvWyxcc10rLykuZmlsdGVyKGlkZW50aXR5KTsgLy8gQWxsb3cgYW55IGZpbGUgdHlwZS9leHRlbnNpb24KCiAgICAgIGlmIChhY2NlcHQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiBhY2NlcHQubWFwKGZ1bmN0aW9uIChleHRPclR5cGUpIHsKICAgICAgICB2YXIgcHJvcCA9ICduYW1lJzsKICAgICAgICB2YXIgc3RhcnRNYXRjaCA9ICdeJzsKICAgICAgICB2YXIgZW5kTWF0Y2ggPSAnJCc7CgogICAgICAgIGlmIChSWF9FWFRFTlNJT04udGVzdChleHRPclR5cGUpKSB7CiAgICAgICAgICAvLyBGaWxlIGV4dGVuc2lvbiAvXC5leHQkLwogICAgICAgICAgc3RhcnRNYXRjaCA9ICcnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBNSU1FIHR5cGUgL15taW1lXC8uKyQvIG9yIC9ebWltZVwvdHlwZSQvCiAgICAgICAgICBwcm9wID0gJ3R5cGUnOwoKICAgICAgICAgIGlmIChSWF9TVEFSLnRlc3QoZXh0T3JUeXBlKSkgewogICAgICAgICAgICBlbmRNYXRjaCA9ICcuKyQnOyAvLyBSZW1vdmUgdHJhaWxpbmcgYCpgCgogICAgICAgICAgICBleHRPclR5cGUgPSBleHRPclR5cGUuc2xpY2UoMCwgLTEpOwogICAgICAgICAgfQogICAgICAgIH0gLy8gRXNjYXBlIGFsbCBSZWdFeHAgc3BlY2lhbCBjaGFycwoKCiAgICAgICAgZXh0T3JUeXBlID0gZXNjYXBlUmVnRXhwKGV4dE9yVHlwZSk7CiAgICAgICAgdmFyIHJ4ID0gbmV3IFJlZ0V4cCgiIi5jb25jYXQoc3RhcnRNYXRjaCkuY29uY2F0KGV4dE9yVHlwZSkuY29uY2F0KGVuZE1hdGNoKSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHJ4OiByeCwKICAgICAgICAgIHByb3A6IHByb3AKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBjb21wdXRlZENhcHR1cmU6IGZ1bmN0aW9uIGNvbXB1dGVkQ2FwdHVyZSgpIHsKICAgICAgdmFyIGNhcHR1cmUgPSB0aGlzLmNhcHR1cmU7CiAgICAgIHJldHVybiBjYXB0dXJlID09PSB0cnVlIHx8IGNhcHR1cmUgPT09ICcnID8gdHJ1ZSA6IGNhcHR1cmUgfHwgbnVsbDsKICAgIH0sCiAgICBjb21wdXRlZEF0dHJzOiBmdW5jdGlvbiBjb21wdXRlZEF0dHJzKCkgewogICAgICB2YXIgbmFtZSA9IHRoaXMubmFtZSwKICAgICAgICAgIGRpc2FibGVkID0gdGhpcy5kaXNhYmxlZCwKICAgICAgICAgIHJlcXVpcmVkID0gdGhpcy5yZXF1aXJlZCwKICAgICAgICAgIGZvcm0gPSB0aGlzLmZvcm0sCiAgICAgICAgICBjb21wdXRlZENhcHR1cmUgPSB0aGlzLmNvbXB1dGVkQ2FwdHVyZSwKICAgICAgICAgIGFjY2VwdCA9IHRoaXMuYWNjZXB0LAogICAgICAgICAgbXVsdGlwbGUgPSB0aGlzLm11bHRpcGxlLAogICAgICAgICAgZGlyZWN0b3J5ID0gdGhpcy5kaXJlY3Rvcnk7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuYnZBdHRycyksIHt9LCB7CiAgICAgICAgdHlwZTogJ2ZpbGUnLAogICAgICAgIGlkOiB0aGlzLnNhZmVJZCgpLAogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLAogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCwKICAgICAgICBmb3JtOiBmb3JtIHx8IG51bGwsCiAgICAgICAgY2FwdHVyZTogY29tcHV0ZWRDYXB0dXJlLAogICAgICAgIGFjY2VwdDogYWNjZXB0IHx8IG51bGwsCiAgICAgICAgbXVsdGlwbGU6IG11bHRpcGxlLAogICAgICAgIGRpcmVjdG9yeTogZGlyZWN0b3J5LAogICAgICAgIHdlYmtpdGRpcmVjdG9yeTogZGlyZWN0b3J5LAogICAgICAgICdhcmlhLXJlcXVpcmVkJzogcmVxdWlyZWQgPyAndHJ1ZScgOiBudWxsCiAgICAgIH0pOwogICAgfSwKICAgIGNvbXB1dGVkRmlsZU5hbWVGb3JtYXR0ZXI6IGZ1bmN0aW9uIGNvbXB1dGVkRmlsZU5hbWVGb3JtYXR0ZXIoKSB7CiAgICAgIHZhciBmaWxlTmFtZUZvcm1hdHRlciA9IHRoaXMuZmlsZU5hbWVGb3JtYXR0ZXI7CiAgICAgIHJldHVybiBoYXNQcm9wRnVuY3Rpb24oZmlsZU5hbWVGb3JtYXR0ZXIpID8gZmlsZU5hbWVGb3JtYXR0ZXIgOiB0aGlzLmRlZmF1bHRGaWxlTmFtZUZvcm1hdHRlcjsKICAgIH0sCiAgICBjbG9uZWRGaWxlczogZnVuY3Rpb24gY2xvbmVkRmlsZXMoKSB7CiAgICAgIHJldHVybiBjbG9uZURlZXAodGhpcy5maWxlcyk7CiAgICB9LAogICAgZmxhdHRlbmVkRmlsZXM6IGZ1bmN0aW9uIGZsYXR0ZW5lZEZpbGVzKCkgewogICAgICByZXR1cm4gZmxhdHRlbkRlZXAodGhpcy5maWxlcyk7CiAgICB9LAogICAgZmlsZU5hbWVzOiBmdW5jdGlvbiBmaWxlTmFtZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZsYXR0ZW5lZEZpbGVzLm1hcChmdW5jdGlvbiAoZmlsZSkgewogICAgICAgIHJldHVybiBmaWxlLm5hbWU7CiAgICAgIH0pOwogICAgfSwKICAgIGxhYmVsQ29udGVudDogZnVuY3Rpb24gbGFiZWxDb250ZW50KCkgewogICAgICAvLyBEcmFnaW5nIGFjdGl2ZQoKICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHVzZWQgYnkgZHJhZy9kcm9wIHdoaWNoIGNhbid0IGJlIHRlc3RlZCBlYXNpbHkgKi8KICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgJiYgIXRoaXMubm9Ecm9wKSB7CiAgICAgICAgcmV0dXJuICgvLyBUT0RPOiBBZGQgYWRkaXRpb25hbCBzY29wZSB3aXRoIGZpbGUgY291bnQsIGFuZCBvdGhlciBub3QtYWxsb3dlZCByZWFzb25zCiAgICAgICAgICB0aGlzLm5vcm1hbGl6ZVNsb3QoU0xPVF9OQU1FX0RST1BfUExBQ0VIT0xERVIsIHsKICAgICAgICAgICAgYWxsb3dlZDogdGhpcy5kcm9wQWxsb3dlZAogICAgICAgICAgfSkgfHwgKHRoaXMuZHJvcEFsbG93ZWQgPyB0aGlzLmRyb3BQbGFjZWhvbGRlciA6IHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7CiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAndGV4dC1kYW5nZXInCiAgICAgICAgICB9LCB0aGlzLm5vRHJvcFBsYWNlaG9sZGVyKSkKICAgICAgICApOwogICAgICB9IC8vIE5vIGZpbGUgY2hvc2VuCgoKICAgICAgaWYgKHRoaXMuZmlsZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplU2xvdChTTE9UX05BTUVfUExBQ0VIT0xERVIpIHx8IHRoaXMucGxhY2Vob2xkZXI7CiAgICAgIH0KCiAgICAgIHZhciBmbGF0dGVuZWRGaWxlcyA9IHRoaXMuZmxhdHRlbmVkRmlsZXMsCiAgICAgICAgICBjbG9uZWRGaWxlcyA9IHRoaXMuY2xvbmVkRmlsZXMsCiAgICAgICAgICBmaWxlTmFtZXMgPSB0aGlzLmZpbGVOYW1lcywKICAgICAgICAgIGNvbXB1dGVkRmlsZU5hbWVGb3JtYXR0ZXIgPSB0aGlzLmNvbXB1dGVkRmlsZU5hbWVGb3JtYXR0ZXI7IC8vIFRoZXJlIGlzIGEgc2xvdCBmb3IgZm9ybWF0dGluZyB0aGUgZmlsZXMvbmFtZXMKCiAgICAgIGlmICh0aGlzLmhhc05vcm1hbGl6ZWRTbG90KFNMT1RfTkFNRV9GSUxFX05BTUUpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplU2xvdChTTE9UX05BTUVfRklMRV9OQU1FLCB7CiAgICAgICAgICBmaWxlczogZmxhdHRlbmVkRmlsZXMsCiAgICAgICAgICBmaWxlc1RyYXZlcnNlZDogY2xvbmVkRmlsZXMsCiAgICAgICAgICBuYW1lczogZmlsZU5hbWVzCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb21wdXRlZEZpbGVOYW1lRm9ybWF0dGVyKGZsYXR0ZW5lZEZpbGVzLCBjbG9uZWRGaWxlcywgZmlsZU5hbWVzKTsKICAgIH0KICB9LAogIHdhdGNoOiAoX3dhdGNoID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfd2F0Y2gsIE1PREVMX1BST1BfTkFNRSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7CiAgICBpZiAoIW5ld1ZhbHVlIHx8IGlzQXJyYXkobmV3VmFsdWUpICYmIG5ld1ZhbHVlLmxlbmd0aCA9PT0gMCkgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfd2F0Y2gsICJmaWxlcyIsIGZ1bmN0aW9uIGZpbGVzKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgaWYgKCFsb29zZUVxdWFsKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHsKICAgICAgdmFyIG11bHRpcGxlID0gdGhpcy5tdWx0aXBsZSwKICAgICAgICAgIG5vVHJhdmVyc2UgPSB0aGlzLm5vVHJhdmVyc2U7CiAgICAgIHZhciBmaWxlcyA9ICFtdWx0aXBsZSB8fCBub1RyYXZlcnNlID8gZmxhdHRlbkRlZXAobmV3VmFsdWUpIDogbmV3VmFsdWU7CiAgICAgIHRoaXMuJGVtaXQoTU9ERUxfRVZFTlRfTkFNRSwgbXVsdGlwbGUgPyBmaWxlcyA6IGZpbGVzWzBdIHx8IG51bGwpOwogICAgfQogIH0pLCBfd2F0Y2gpLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyBDcmVhdGUgcHJpdmF0ZSBub24tcmVhY3RpdmUgcHJvcHMKICAgIHRoaXMuJF9mb3JtID0gbnVsbDsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyBMaXN0ZW4gZm9yIGZvcm0gcmVzZXQgZXZlbnRzLCB0byByZXNldCB0aGUgZmlsZSBpbnB1dAogICAgdmFyICRmb3JtID0gY2xvc2VzdCgnZm9ybScsIHRoaXMuJGVsKTsKCiAgICBpZiAoJGZvcm0pIHsKICAgICAgZXZlbnRPbigkZm9ybSwgJ3Jlc2V0JywgdGhpcy5yZXNldCwgRVZFTlRfT1BUSU9OU19QQVNTSVZFKTsKICAgICAgdGhpcy4kX2Zvcm0gPSAkZm9ybTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB2YXIgJGZvcm0gPSB0aGlzLiRfZm9ybTsKCiAgICBpZiAoJGZvcm0pIHsKICAgICAgZXZlbnRPZmYoJGZvcm0sICdyZXNldCcsIHRoaXMucmVzZXQsIEVWRU5UX09QVElPTlNfUEFTU0lWRSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc0ZpbGVWYWxpZDogZnVuY3Rpb24gaXNGaWxlVmFsaWQoZmlsZSkgewogICAgICBpZiAoIWZpbGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBhY2NlcHQgPSB0aGlzLmNvbXB1dGVkQWNjZXB0OwogICAgICByZXR1cm4gYWNjZXB0ID8gYWNjZXB0LnNvbWUoZnVuY3Rpb24gKGEpIHsKICAgICAgICByZXR1cm4gYS5yeC50ZXN0KGZpbGVbYS5wcm9wXSk7CiAgICAgIH0pIDogdHJ1ZTsKICAgIH0sCiAgICBpc0ZpbGVzQXJyYXlWYWxpZDogZnVuY3Rpb24gaXNGaWxlc0FycmF5VmFsaWQoZmlsZXMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBpc0FycmF5KGZpbGVzKSA/IGZpbGVzLmV2ZXJ5KGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmlzRmlsZVZhbGlkKGZpbGUpOwogICAgICB9KSA6IHRoaXMuaXNGaWxlVmFsaWQoZmlsZXMpOwogICAgfSwKICAgIGRlZmF1bHRGaWxlTmFtZUZvcm1hdHRlcjogZnVuY3Rpb24gZGVmYXVsdEZpbGVOYW1lRm9ybWF0dGVyKGZsYXR0ZW5lZEZpbGVzLCBjbG9uZWRGaWxlcywgZmlsZU5hbWVzKSB7CiAgICAgIHJldHVybiBmaWxlTmFtZXMuam9pbignLCAnKTsKICAgIH0sCiAgICBzZXRGaWxlczogZnVuY3Rpb24gc2V0RmlsZXMoZmlsZXMpIHsKICAgICAgLy8gUmVzZXQgdGhlIGRyYWdnaW5nIGZsYWdzCiAgICAgIHRoaXMuZHJvcEFsbG93ZWQgPSAhdGhpcy5ub0Ryb3A7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTsgLy8gU2V0IHRoZSBzZWxlY3RlZCBmaWxlcwoKICAgICAgdGhpcy5maWxlcyA9IHRoaXMubXVsdGlwbGUgPyB0aGlzLmRpcmVjdG9yeSA/IGZpbGVzIDogZmxhdHRlbkRlZXAoZmlsZXMpIDogZmxhdHRlbkRlZXAoZmlsZXMpLnNsaWNlKDAsIDEpOwogICAgfSwKCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogdXNlZCBieSBEcmFnL0Ryb3AgKi8KICAgIHNldElucHV0RmlsZXM6IGZ1bmN0aW9uIHNldElucHV0RmlsZXMoZmlsZXMpIHsKICAgICAgLy8gVHJ5IGFuIHNldCB0aGUgZmlsZSBpbnB1dCBmaWxlcyBhcnJheSBzbyB0aGF0IGByZXF1aXJlZGAKICAgICAgLy8gY29uc3RyYWludCB3b3JrcyBmb3IgZHJvcHBlZCBmaWxlcyAod2lsbCBmYWlsIGluIElFMTEgdGhvdWdoKQogICAgICAvLyBUbyBiZSB1c2VkIG9ubHkgd2hlbiBkcm9wcGluZyBmaWxlcwogICAgICB0cnkgewogICAgICAgIC8vIEZpcmVmb3ggPCA2MiB3b3JrYXJvdW5kIGV4cGxvaXRpbmcgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQyMjY1NQogICAgICAgIHZhciBkYXRhVHJhbnNmZXIgPSBuZXcgQ2xpcGJvYXJkRXZlbnQoJycpLmNsaXBib2FyZERhdGEgfHwgbmV3IERhdGFUcmFuc2ZlcigpOyAvLyBBZGQgZmxhdHRlbmVkIGZpbGVzIHRvIHRlbXAgYGRhdGFUcmFuc2ZlcmAgb2JqZWN0IHRvIGdldCBhIHRydWUgYEZpbGVMaXN0YCBhcnJheQoKICAgICAgICBmbGF0dGVuRGVlcChjbG9uZURlZXAoZmlsZXMpKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgICAgICAvLyBNYWtlIHN1cmUgdG8gcmVtb3ZlIHRoZSBjdXN0b20gYCRwYXRoYCBhdHRyaWJ1dGUKICAgICAgICAgIGRlbGV0ZSBmaWxlLiRwYXRoOwogICAgICAgICAgZGF0YVRyYW5zZmVyLml0ZW1zLmFkZChmaWxlKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRyZWZzLmlucHV0LmZpbGVzID0gZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgICB9IGNhdGNoIChfdW51c2VkKSB7fQogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgLy8gSUUgMTEgZG9lc24ndCBzdXBwb3J0IHNldHRpbmcgYCRpbnB1dC52YWx1ZWAgdG8gYCcnYCBvciBgbnVsbGAKICAgICAgLy8gU28gd2UgdXNlIHRoaXMgbGl0dGxlIGV4dHJhIGhhY2sgdG8gcmVzZXQgdGhlIHZhbHVlLCBqdXN0IGluIGNhc2UKICAgICAgLy8gVGhpcyBhbHNvIGFwcGVhcnMgdG8gd29yayBvbiBtb2Rlcm4gYnJvd3NlcnMgYXMgd2VsbAogICAgICAvLyBXcmFwcGVkIGluIHRyeSBpbiBjYXNlIElFIDExIG9yIG1vYmlsZSBTYWZhcmkgY3JhcCBvdXQKICAgICAgdHJ5IHsKICAgICAgICB2YXIgJGlucHV0ID0gdGhpcy4kcmVmcy5pbnB1dDsKICAgICAgICAkaW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAkaW5wdXQudHlwZSA9ICcnOwogICAgICAgICRpbnB1dC50eXBlID0gJ2ZpbGUnOwogICAgICB9IGNhdGNoIChfdW51c2VkMikge30KCiAgICAgIHRoaXMuZmlsZXMgPSBbXTsKICAgIH0sCiAgICBoYW5kbGVGaWxlczogZnVuY3Rpb24gaGFuZGxlRmlsZXMoZmlsZXMpIHsKICAgICAgdmFyIGlzRHJvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CgogICAgICBpZiAoaXNEcm9wKSB7CiAgICAgICAgLy8gV2hlbiBkcm9wcGVkLCBtYWtlIHN1cmUgdG8gZmlsdGVyIGZpbGVzIHdpdGggdGhlIGludGVybmFsIGBhY2NlcHRgIGxvZ2ljCiAgICAgICAgdmFyIGZpbHRlcmVkRmlsZXMgPSBmaWxlcy5maWx0ZXIodGhpcy5pc0ZpbGVzQXJyYXlWYWxpZCk7IC8vIE9ubHkgdXBkYXRlIGZpbGVzIHdoZW4gd2UgaGF2ZSBhbnkgYWZ0ZXIgZmlsdGVyaW5nCgogICAgICAgIGlmIChmaWx0ZXJlZEZpbGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRoaXMuc2V0RmlsZXMoZmlsdGVyZWRGaWxlcyk7IC8vIFRyeSBhbiBzZXQgdGhlIGZpbGUgaW5wdXQncyBmaWxlcyBhcnJheSBzbyB0aGF0IGByZXF1aXJlZGAKICAgICAgICAgIC8vIGNvbnN0cmFpbnQgd29ya3MgZm9yIGRyb3BwZWQgZmlsZXMgKHdpbGwgZmFpbCBpbiBJRSAxMSB0aG91Z2gpCgogICAgICAgICAgdGhpcy5zZXRJbnB1dEZpbGVzKGZpbHRlcmVkRmlsZXMpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBXZSBhbHdheXMgdXBkYXRlIHRoZSBmaWxlcyBmcm9tIHRoZSBgY2hhbmdlYCBldmVudAogICAgICAgIHRoaXMuc2V0RmlsZXMoZmlsZXMpOwogICAgICB9CiAgICB9LAogICAgZm9jdXNIYW5kbGVyOiBmdW5jdGlvbiBmb2N1c0hhbmRsZXIoZXZlbnQpIHsKICAgICAgLy8gQm9vdHN0cmFwIHY0IGRvZXNuJ3QgaGF2ZSBmb2N1cyBzdHlsaW5nIGZvciBjdXN0b20gZmlsZSBpbnB1dAogICAgICAvLyBGaXJlZm94IGhhcyBhIGBbdHlwZT1maWxlXTpmb2N1cyB+IHNpYmxpbmdgIHNlbGVjdG9yIGlzc3VlLAogICAgICAvLyBzbyB3ZSBhZGQgYSBgZm9jdXNgIGNsYXNzIHRvIGdldCBhcm91bmQgdGhlc2UgYnVncwogICAgICBpZiAodGhpcy5wbGFpbiB8fCBldmVudC50eXBlID09PSAnZm9jdXNvdXQnKSB7CiAgICAgICAgdGhpcy5oYXNGb2N1cyA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEFkZCBmb2N1cyBzdHlsaW5nIGZvciBjdXN0b20gZmlsZSBpbnB1dAogICAgICAgIHRoaXMuaGFzRm9jdXMgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHR5cGUgPSBldmVudC50eXBlLAogICAgICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LAogICAgICAgICAgX2V2ZW50JGRhdGFUcmFuc2ZlciA9IGV2ZW50LmRhdGFUcmFuc2ZlciwKICAgICAgICAgIGRhdGFUcmFuc2ZlciA9IF9ldmVudCRkYXRhVHJhbnNmZXIgPT09IHZvaWQgMCA/IHt9IDogX2V2ZW50JGRhdGFUcmFuc2ZlcjsKICAgICAgdmFyIGlzRHJvcCA9IHR5cGUgPT09ICdkcm9wJzsgLy8gQWx3YXlzIGVtaXQgb3JpZ2luYWwgZXZlbnQKCiAgICAgIHRoaXMuJGVtaXQoRVZFTlRfTkFNRV9DSEFOR0UsIGV2ZW50KTsKICAgICAgdmFyIGl0ZW1zID0gYXJyYXlGcm9tKGRhdGFUcmFuc2Zlci5pdGVtcyB8fCBbXSk7CgogICAgICBpZiAoSEFTX1BST01JU0VfU1VQUE9SVCAmJiBpdGVtcy5sZW5ndGggPiAwICYmICFpc051bGwoZ2V0RGF0YVRyYW5zZmVySXRlbUVudHJ5KGl0ZW1zWzBdKSkpIHsKICAgICAgICAvLyBEcm9wIGhhbmRsaW5nIGZvciBtb2Rlcm4gYnJvd3NlcnMKICAgICAgICAvLyBTdXBwb3J0cyBuZXN0ZWQgZGlyZWN0b3J5IHN0cnVjdHVyZXMgaW4gYGRpcmVjdG9yeWAgbW9kZQoKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbm90IHN1cHBvcnRlZCBpbiBKU0RPTSAqLwogICAgICAgIGdldEFsbEZpbGVFbnRyaWVzKGl0ZW1zLCB0aGlzLmRpcmVjdG9yeSkudGhlbihmdW5jdGlvbiAoZmlsZXMpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlRmlsZXMoZmlsZXMsIGlzRHJvcCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gU3RhbmRhcmQgZmlsZSBpbnB1dCBoYW5kbGluZyAobmF0aXZlIGZpbGUgaW5wdXQgY2hhbmdlIGV2ZW50KSwKICAgICAgICAvLyBvciBmYWxsYmFjayBkcm9wIG1vZGUgKElFIDExIC8gT3BlcmEpIHdoaWNoIGRvbid0IHN1cHBvcnQgYGRpcmVjdG9yeWAgbW9kZQogICAgICAgIHZhciBmaWxlcyA9IGFycmF5RnJvbSh0YXJnZXQuZmlsZXMgfHwgZGF0YVRyYW5zZmVyLmZpbGVzIHx8IFtdKS5tYXAoZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICAgIC8vIEFkZCBjdXN0b20gYCRwYXRoYCBwcm9wZXJ0eSB0byBlYWNoIGZpbGUgKHRvIGJlIGNvbnNpc3RlbnQgd2l0aCBkcm9wIG1vZGUpCiAgICAgICAgICBmaWxlLiRwYXRoID0gZmlsZS53ZWJraXRSZWxhdGl2ZVBhdGggfHwgJyc7CiAgICAgICAgICByZXR1cm4gZmlsZTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmhhbmRsZUZpbGVzKGZpbGVzLCBpc0Ryb3ApOwogICAgICB9CiAgICB9LAogICAgb25EcmFnZW50ZXI6IGZ1bmN0aW9uIG9uRHJhZ2VudGVyKGV2ZW50KSB7CiAgICAgIHN0b3BFdmVudChldmVudCk7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlOwogICAgICB2YXIgX2V2ZW50JGRhdGFUcmFuc2ZlcjIgPSBldmVudC5kYXRhVHJhbnNmZXIsCiAgICAgICAgICBkYXRhVHJhbnNmZXIgPSBfZXZlbnQkZGF0YVRyYW5zZmVyMiA9PT0gdm9pZCAwID8ge30gOiBfZXZlbnQkZGF0YVRyYW5zZmVyMjsgLy8gRWFybHkgZXhpdCB3aGVuIHRoZSBpbnB1dCBvciBkcm9wcGluZyBpcyBkaXNhYmxlZAoKICAgICAgaWYgKHRoaXMubm9Ecm9wIHx8IHRoaXMuZGlzYWJsZWQgfHwgIXRoaXMuZHJvcEFsbG93ZWQpIHsKICAgICAgICAvLyBTaG93IGRlbnkgZmVlZGJhY2sKCiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IG5vdCBzdXBwb3J0ZWQgaW4gSlNET00gKi8KICAgICAgICBkYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdub25lJzsKICAgICAgICB0aGlzLmRyb3BBbGxvd2VkID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBub3Qgc3VwcG9ydGVkIGluIEpTRE9NICovCgoKICAgICAgZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7CiAgICB9LAogICAgLy8gTm90ZSB0aGlzIGV2ZW50IGZpcmVzIHJlcGVhdGVkbHkgd2hpbGUgdGhlIG1vdXNlIGlzIG92ZXIgdGhlIGRyb3B6b25lIGF0CiAgICAvLyBpbnRlcnZhbHMgaW4gdGhlIG1pbGxpc2Vjb25kcywgc28gYXZvaWQgZG9pbmcgbXVjaCBwcm9jZXNzaW5nIGluIGhlcmUKICAgIG9uRHJhZ292ZXI6IGZ1bmN0aW9uIG9uRHJhZ292ZXIoZXZlbnQpIHsKICAgICAgc3RvcEV2ZW50KGV2ZW50KTsKICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7CiAgICAgIHZhciBfZXZlbnQkZGF0YVRyYW5zZmVyMyA9IGV2ZW50LmRhdGFUcmFuc2ZlciwKICAgICAgICAgIGRhdGFUcmFuc2ZlciA9IF9ldmVudCRkYXRhVHJhbnNmZXIzID09PSB2b2lkIDAgPyB7fSA6IF9ldmVudCRkYXRhVHJhbnNmZXIzOyAvLyBFYXJseSBleGl0IHdoZW4gdGhlIGlucHV0IG9yIGRyb3BwaW5nIGlzIGRpc2FibGVkCgogICAgICBpZiAodGhpcy5ub0Ryb3AgfHwgdGhpcy5kaXNhYmxlZCB8fCAhdGhpcy5kcm9wQWxsb3dlZCkgewogICAgICAgIC8vIFNob3cgZGVueSBmZWVkYmFjawoKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbm90IHN1cHBvcnRlZCBpbiBKU0RPTSAqLwogICAgICAgIGRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ25vbmUnOwogICAgICAgIHRoaXMuZHJvcEFsbG93ZWQgPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IG5vdCBzdXBwb3J0ZWQgaW4gSlNET00gKi8KCgogICAgICBkYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdjb3B5JzsKICAgIH0sCiAgICBvbkRyYWdsZWF2ZTogZnVuY3Rpb24gb25EcmFnbGVhdmUoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBzdG9wRXZlbnQoZXZlbnQpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmRyYWdnaW5nID0gZmFsc2U7IC8vIFJlc2V0IGBkcm9wQWxsb3dlZGAgdG8gZGVmYXVsdAoKICAgICAgICBfdGhpczMuZHJvcEFsbG93ZWQgPSAhX3RoaXMzLm5vRHJvcDsKICAgICAgfSk7CiAgICB9LAogICAgLy8gVHJpZ2dlcmVkIGJ5IGEgZmlsZSBkcm9wIG9udG8gZHJvcCB0YXJnZXQKICAgIG9uRHJvcDogZnVuY3Rpb24gb25Ecm9wKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgc3RvcEV2ZW50KGV2ZW50KTsKICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlOyAvLyBFYXJseSBleGl0IHdoZW4gdGhlIGlucHV0IG9yIGRyb3BwaW5nIGlzIGRpc2FibGVkCgogICAgICBpZiAodGhpcy5ub0Ryb3AgfHwgdGhpcy5kaXNhYmxlZCB8fCAhdGhpcy5kcm9wQWxsb3dlZCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFJlc2V0IGBkcm9wQWxsb3dlZGAgdG8gZGVmYXVsdAogICAgICAgICAgX3RoaXM0LmRyb3BBbGxvd2VkID0gIV90aGlzNC5ub0Ryb3A7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLm9uQ2hhbmdlKGV2ZW50KTsKICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBjdXN0b20gPSB0aGlzLmN1c3RvbSwKICAgICAgICBwbGFpbiA9IHRoaXMucGxhaW4sCiAgICAgICAgc2l6ZSA9IHRoaXMuc2l6ZSwKICAgICAgICBkcmFnZ2luZyA9IHRoaXMuZHJhZ2dpbmcsCiAgICAgICAgc3RhdGVDbGFzcyA9IHRoaXMuc3RhdGVDbGFzcywKICAgICAgICBidkF0dHJzID0gdGhpcy5idkF0dHJzOyAvLyBGb3JtIElucHV0CgogICAgdmFyICRpbnB1dCA9IGgoJ2lucHV0JywgewogICAgICAiY2xhc3MiOiBbewogICAgICAgICdmb3JtLWNvbnRyb2wtZmlsZSc6IHBsYWluLAogICAgICAgICdjdXN0b20tZmlsZS1pbnB1dCc6IGN1c3RvbSwKICAgICAgICBmb2N1czogY3VzdG9tICYmIHRoaXMuaGFzRm9jdXMKICAgICAgfSwgc3RhdGVDbGFzc10sCiAgICAgIC8vIFdpdGggSUUgMTEsIHRoZSBpbnB1dCBnZXRzIGluIHRoZSAid2F5IiBvZiB0aGUgZHJvcCBldmVudHMsCiAgICAgIC8vIHNvIHdlIG1vdmUgaXQgb3V0IG9mIHRoZSB3YXkgYnkgcHV0dGluZyBpdCBiZWhpbmQgdGhlIGxhYmVsCiAgICAgIC8vIEJvb3RzdHJhcCB2NCBoYXMgaXQgaW4gZnJvbnQKICAgICAgc3R5bGU6IGN1c3RvbSA/IHsKICAgICAgICB6SW5kZXg6IC01CiAgICAgIH0gOiB7fSwKICAgICAgYXR0cnM6IHRoaXMuY29tcHV0ZWRBdHRycywKICAgICAgb246IHsKICAgICAgICBjaGFuZ2U6IHRoaXMub25DaGFuZ2UsCiAgICAgICAgZm9jdXNpbjogdGhpcy5mb2N1c0hhbmRsZXIsCiAgICAgICAgZm9jdXNvdXQ6IHRoaXMuZm9jdXNIYW5kbGVyLAogICAgICAgIHJlc2V0OiB0aGlzLnJlc2V0CiAgICAgIH0sCiAgICAgIHJlZjogJ2lucHV0JwogICAgfSk7CgogICAgaWYgKHBsYWluKSB7CiAgICAgIHJldHVybiAkaW5wdXQ7CiAgICB9IC8vIE92ZXJsYXkgbGFiZWwKCgogICAgdmFyICRsYWJlbCA9IGgoJ2xhYmVsJywgewogICAgICBzdGF0aWNDbGFzczogJ2N1c3RvbS1maWxlLWxhYmVsJywKICAgICAgImNsYXNzIjogewogICAgICAgIGRyYWdnaW5nOiBkcmFnZ2luZwogICAgICB9LAogICAgICBhdHRyczogewogICAgICAgICJmb3IiOiB0aGlzLnNhZmVJZCgpLAogICAgICAgIC8vIFRoaXMgZ29lcyBhd2F5IGluIEJvb3RzdHJhcCB2NQogICAgICAgICdkYXRhLWJyb3dzZSc6IHRoaXMuYnJvd3NlVGV4dCB8fCBudWxsCiAgICAgIH0KICAgIH0sIFtoKCdzcGFuJywgewogICAgICBzdGF0aWNDbGFzczogJ2QtYmxvY2sgZm9ybS1maWxlLXRleHQnLAogICAgICAvLyBgcG9pbnRlci1ldmVudHM6IG5vbmVgIGlzIHVzZWQgdG8gbWFrZSBzdXJlCiAgICAgIC8vIHRoZSBkcmFnIGV2ZW50cyBmaXJlIG9ubHkgb24gdGhlIGxhYmVsCiAgICAgIHN0eWxlOiB7CiAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnCiAgICAgIH0KICAgIH0sIFt0aGlzLmxhYmVsQ29udGVudF0pXSk7IC8vIFJldHVybiByZW5kZXJlZCBjdXN0b20gZmlsZSBpbnB1dAoKICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAnY3VzdG9tLWZpbGUgYi1mb3JtLWZpbGUnLAogICAgICAiY2xhc3MiOiBbX2RlZmluZVByb3BlcnR5KHt9LCAiYi1jdXN0b20tY29udHJvbC0iLmNvbmNhdChzaXplKSwgc2l6ZSksIHN0YXRlQ2xhc3MsIGJ2QXR0cnNbImNsYXNzIl1dLAogICAgICBzdHlsZTogYnZBdHRycy5zdHlsZSwKICAgICAgYXR0cnM6IHsKICAgICAgICBpZDogdGhpcy5zYWZlSWQoJ19CVl9maWxlX291dGVyXycpCiAgICAgIH0sCiAgICAgIG9uOiB7CiAgICAgICAgZHJhZ2VudGVyOiB0aGlzLm9uRHJhZ2VudGVyLAogICAgICAgIGRyYWdvdmVyOiB0aGlzLm9uRHJhZ292ZXIsCiAgICAgICAgZHJhZ2xlYXZlOiB0aGlzLm9uRHJhZ2xlYXZlLAogICAgICAgIGRyb3A6IHRoaXMub25Ecm9wCiAgICAgIH0KICAgIH0sIFskaW5wdXQsICRsYWJlbF0pOwogIH0KfSk7"},{"version":3,"sources":["/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/form-file/form-file.js"],"names":["_watch","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","Vue","NAME_FORM_FILE","HAS_PROMISE_SUPPORT","EVENT_NAME_CHANGE","EVENT_OPTIONS_PASSIVE","PROP_TYPE_ARRAY","PROP_TYPE_BOOLEAN","PROP_TYPE_FUNCTION","PROP_TYPE_STRING","SLOT_NAME_DROP_PLACEHOLDER","SLOT_NAME_FILE_NAME","SLOT_NAME_PLACEHOLDER","RX_EXTENSION","RX_STAR","File","from","arrayFrom","flatten","flattenDeep","cloneDeep","closest","eventOn","eventOff","stopEvent","identity","isArray","isFile","isFunction","isNull","isUndefinedOrNull","looseEqual","makeModelMixin","sortKeys","hasPropFunction","makeProp","makePropsConfigurable","escapeRegExp","warn","attrsMixin","formControlMixin","props","formControlProps","formCustomMixin","formCustomProps","formStateMixin","formStateProps","idMixin","idProps","normalizeSlotMixin","formSizeProps","_makeModelMixin","type","defaultValue","validator","VALUE_EMPTY_DEPRECATED_MSG","isValidValue","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","event","every","v","getDataTransferItemEntry","item","getAsEntry","webkitGetAsEntry","getAllFileEntries","dataTransferItemList","traverseDirectories","undefined","Promise","all","kind","map","entry","isDirectory","getAllFileEntriesInDirectory","createReader","concat","name","resolve","file","$path","directoryReader","path","entryPromises","readDirectoryEntries","readEntries","entries","then","accept","browseText","capture","directory","dropPlaceholder","fileNameFormatter","multiple","noDrop","noDropPlaceholder","noTraverse","placeholder","BFormFile","extend","mixins","inheritAttrs","data","files","dragging","dropAllowed","hasFocus","computed","computedAccept","trim","split","extOrType","startMatch","endMatch","test","slice","rx","RegExp","computedCapture","computedAttrs","disabled","required","form","bvAttrs","id","safeId","webkitdirectory","computedFileNameFormatter","defaultFileNameFormatter","clonedFiles","flattenedFiles","fileNames","labelContent","normalizeSlot","allowed","$createElement","staticClass","hasNormalizedSlot","filesTraversed","names","watch","newValue","reset","oldValue","$emit","created","$_form","mounted","$form","$el","beforeDestroy","methods","isFileValid","some","a","isFilesArrayValid","_this","join","setFiles","setInputFiles","dataTransfer","ClipboardEvent","clipboardData","DataTransfer","items","add","$refs","input","_unused","$input","_unused2","handleFiles","isDrop","filteredFiles","focusHandler","plain","onChange","_this2","_event$dataTransfer","webkitRelativePath","onDragenter","_event$dataTransfer2","dropEffect","onDragover","_event$dataTransfer3","onDragleave","_this3","$nextTick","onDrop","_this4","render","h","custom","size","stateClass","focus","style","zIndex","attrs","on","change","focusin","focusout","ref","$label","pointerEvents","dragenter","dragover","dragleave","drop"],"mappings":"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","sourcesContent":["var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_FILE } from '../../constants/components';\nimport { HAS_PROMISE_SUPPORT } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_OPTIONS_PASSIVE } from '../../constants/events';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_BOOLEAN, PROP_TYPE_FUNCTION, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DROP_PLACEHOLDER, SLOT_NAME_FILE_NAME, SLOT_NAME_PLACEHOLDER } from '../../constants/slots';\nimport { RX_EXTENSION, RX_STAR } from '../../constants/regex';\nimport { File } from '../../constants/safe-types';\nimport { from as arrayFrom, flatten, flattenDeep } from '../../utils/array';\nimport { cloneDeep } from '../../utils/clone-deep';\nimport { closest } from '../../utils/dom';\nimport { eventOn, eventOff, stopEvent } from '../../utils/events';\nimport { identity } from '../../utils/identity';\nimport { isArray, isFile, isFunction, isNull, isUndefinedOrNull } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../../utils/props';\nimport { escapeRegExp } from '../../utils/string';\nimport { warn } from '../../utils/warn';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formCustomMixin, props as formCustomProps } from '../../mixins/form-custom';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { props as formSizeProps } from '../../mixins/form-size'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: [PROP_TYPE_ARRAY, File],\n  defaultValue: null,\n  validator: function validator(value) {\n    /* istanbul ignore next */\n    if (value === '') {\n      warn(VALUE_EMPTY_DEPRECATED_MSG, NAME_FORM_FILE);\n      return true;\n    }\n\n    return isUndefinedOrNull(value) || isValidValue(value);\n  }\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar VALUE_EMPTY_DEPRECATED_MSG = 'Setting \"value\"/\"v-model\" to an empty string for reset is deprecated. Set to \"null\" instead.'; // --- Helper methods ---\n\nvar isValidValue = function isValidValue(value) {\n  return isFile(value) || isArray(value) && value.every(function (v) {\n    return isValidValue(v);\n  });\n}; // Helper method to \"safely\" get the entry from a data-transfer item\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getDataTransferItemEntry = function getDataTransferItemEntry(item) {\n  return isFunction(item.getAsEntry) ? item.getAsEntry() : isFunction(item.webkitGetAsEntry) ? item.webkitGetAsEntry() : null;\n}; // Drop handler function to get all files\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntries = function getAllFileEntries(dataTransferItemList) {\n  var traverseDirectories = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return Promise.all(arrayFrom(dataTransferItemList).filter(function (item) {\n    return item.kind === 'file';\n  }).map(function (item) {\n    var entry = getDataTransferItemEntry(item);\n\n    if (entry) {\n      if (entry.isDirectory && traverseDirectories) {\n        return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(entry.name, \"/\"));\n      } else if (entry.isFile) {\n        return new Promise(function (resolve) {\n          entry.file(function (file) {\n            file.$path = '';\n            resolve(file);\n          });\n        });\n      }\n    }\n\n    return null;\n  }).filter(identity));\n}; // Get all the file entries (recursive) in a directory\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntriesInDirectory = function getAllFileEntriesInDirectory(directoryReader) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return new Promise(function (resolve) {\n    var entryPromises = [];\n\n    var readDirectoryEntries = function readDirectoryEntries() {\n      directoryReader.readEntries(function (entries) {\n        if (entries.length === 0) {\n          resolve(Promise.all(entryPromises).then(function (entries) {\n            return flatten(entries);\n          }));\n        } else {\n          entryPromises.push(Promise.all(entries.map(function (entry) {\n            if (entry) {\n              if (entry.isDirectory) {\n                return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(path).concat(entry.name, \"/\"));\n              } else if (entry.isFile) {\n                return new Promise(function (resolve) {\n                  entry.file(function (file) {\n                    file.$path = \"\".concat(path).concat(file.name);\n                    resolve(file);\n                  });\n                });\n              }\n            }\n\n            return null;\n          }).filter(identity)));\n          readDirectoryEntries();\n        }\n      });\n    };\n\n    readDirectoryEntries();\n  });\n}; // --- Props ---\n\n\nvar props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formCustomProps), formStateProps), formSizeProps), {}, {\n  accept: makeProp(PROP_TYPE_STRING, ''),\n  browseText: makeProp(PROP_TYPE_STRING, 'Browse'),\n  // Instruct input to capture from camera\n  capture: makeProp(PROP_TYPE_BOOLEAN, false),\n  directory: makeProp(PROP_TYPE_BOOLEAN, false),\n  dropPlaceholder: makeProp(PROP_TYPE_STRING, 'Drop files here'),\n  fileNameFormatter: makeProp(PROP_TYPE_FUNCTION),\n  multiple: makeProp(PROP_TYPE_BOOLEAN, false),\n  noDrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noDropPlaceholder: makeProp(PROP_TYPE_STRING, 'Not allowed'),\n  // TODO:\n  //   Should we deprecate this and only support flat file structures?\n  //   Nested file structures are only supported when files are dropped\n  //   A Chromium \"bug\" prevents `webkitEntries` from being populated\n  //   on the file input's `change` event and is marked as \"WontFix\"\n  //   Mozilla implemented the behavior the same way as Chromium\n  //   See: https://bugs.chromium.org/p/chromium/issues/detail?id=138987\n  //   See: https://bugzilla.mozilla.org/show_bug.cgi?id=1326031\n  noTraverse: makeProp(PROP_TYPE_BOOLEAN, false),\n  placeholder: makeProp(PROP_TYPE_STRING, 'No file chosen')\n})), NAME_FORM_FILE); // --- Main component ---\n// @vue/component\n\nexport var BFormFile = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_FILE,\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formStateMixin, formCustomMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      files: [],\n      dragging: false,\n      // IE 11 doesn't respect setting `event.dataTransfer.dropEffect`,\n      // so we handle it ourselves as well\n      // https://stackoverflow.com/a/46915971/2744776\n      dropAllowed: !this.noDrop,\n      hasFocus: false\n    };\n  },\n  computed: {\n    // Convert `accept` to an array of `[{ RegExpr, isMime }, ...]`\n    computedAccept: function computedAccept() {\n      var accept = this.accept;\n      accept = (accept || '').trim().split(/[,\\s]+/).filter(identity); // Allow any file type/extension\n\n      if (accept.length === 0) {\n        return null;\n      }\n\n      return accept.map(function (extOrType) {\n        var prop = 'name';\n        var startMatch = '^';\n        var endMatch = '$';\n\n        if (RX_EXTENSION.test(extOrType)) {\n          // File extension /\\.ext$/\n          startMatch = '';\n        } else {\n          // MIME type /^mime\\/.+$/ or /^mime\\/type$/\n          prop = 'type';\n\n          if (RX_STAR.test(extOrType)) {\n            endMatch = '.+$'; // Remove trailing `*`\n\n            extOrType = extOrType.slice(0, -1);\n          }\n        } // Escape all RegExp special chars\n\n\n        extOrType = escapeRegExp(extOrType);\n        var rx = new RegExp(\"\".concat(startMatch).concat(extOrType).concat(endMatch));\n        return {\n          rx: rx,\n          prop: prop\n        };\n      });\n    },\n    computedCapture: function computedCapture() {\n      var capture = this.capture;\n      return capture === true || capture === '' ? true : capture || null;\n    },\n    computedAttrs: function computedAttrs() {\n      var name = this.name,\n          disabled = this.disabled,\n          required = this.required,\n          form = this.form,\n          computedCapture = this.computedCapture,\n          accept = this.accept,\n          multiple = this.multiple,\n          directory = this.directory;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        type: 'file',\n        id: this.safeId(),\n        name: name,\n        disabled: disabled,\n        required: required,\n        form: form || null,\n        capture: computedCapture,\n        accept: accept || null,\n        multiple: multiple,\n        directory: directory,\n        webkitdirectory: directory,\n        'aria-required': required ? 'true' : null\n      });\n    },\n    computedFileNameFormatter: function computedFileNameFormatter() {\n      var fileNameFormatter = this.fileNameFormatter;\n      return hasPropFunction(fileNameFormatter) ? fileNameFormatter : this.defaultFileNameFormatter;\n    },\n    clonedFiles: function clonedFiles() {\n      return cloneDeep(this.files);\n    },\n    flattenedFiles: function flattenedFiles() {\n      return flattenDeep(this.files);\n    },\n    fileNames: function fileNames() {\n      return this.flattenedFiles.map(function (file) {\n        return file.name;\n      });\n    },\n    labelContent: function labelContent() {\n      // Draging active\n\n      /* istanbul ignore next: used by drag/drop which can't be tested easily */\n      if (this.dragging && !this.noDrop) {\n        return (// TODO: Add additional scope with file count, and other not-allowed reasons\n          this.normalizeSlot(SLOT_NAME_DROP_PLACEHOLDER, {\n            allowed: this.dropAllowed\n          }) || (this.dropAllowed ? this.dropPlaceholder : this.$createElement('span', {\n            staticClass: 'text-danger'\n          }, this.noDropPlaceholder))\n        );\n      } // No file chosen\n\n\n      if (this.files.length === 0) {\n        return this.normalizeSlot(SLOT_NAME_PLACEHOLDER) || this.placeholder;\n      }\n\n      var flattenedFiles = this.flattenedFiles,\n          clonedFiles = this.clonedFiles,\n          fileNames = this.fileNames,\n          computedFileNameFormatter = this.computedFileNameFormatter; // There is a slot for formatting the files/names\n\n      if (this.hasNormalizedSlot(SLOT_NAME_FILE_NAME)) {\n        return this.normalizeSlot(SLOT_NAME_FILE_NAME, {\n          files: flattenedFiles,\n          filesTraversed: clonedFiles,\n          names: fileNames\n        });\n      }\n\n      return computedFileNameFormatter(flattenedFiles, clonedFiles, fileNames);\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!newValue || isArray(newValue) && newValue.length === 0) {\n      this.reset();\n    }\n  }), _defineProperty(_watch, \"files\", function files(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      var multiple = this.multiple,\n          noTraverse = this.noTraverse;\n      var files = !multiple || noTraverse ? flattenDeep(newValue) : newValue;\n      this.$emit(MODEL_EVENT_NAME, multiple ? files : files[0] || null);\n    }\n  }), _watch),\n  created: function created() {\n    // Create private non-reactive props\n    this.$_form = null;\n  },\n  mounted: function mounted() {\n    // Listen for form reset events, to reset the file input\n    var $form = closest('form', this.$el);\n\n    if ($form) {\n      eventOn($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n      this.$_form = $form;\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $form = this.$_form;\n\n    if ($form) {\n      eventOff($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n    }\n  },\n  methods: {\n    isFileValid: function isFileValid(file) {\n      if (!file) {\n        return false;\n      }\n\n      var accept = this.computedAccept;\n      return accept ? accept.some(function (a) {\n        return a.rx.test(file[a.prop]);\n      }) : true;\n    },\n    isFilesArrayValid: function isFilesArrayValid(files) {\n      var _this = this;\n\n      return isArray(files) ? files.every(function (file) {\n        return _this.isFileValid(file);\n      }) : this.isFileValid(files);\n    },\n    defaultFileNameFormatter: function defaultFileNameFormatter(flattenedFiles, clonedFiles, fileNames) {\n      return fileNames.join(', ');\n    },\n    setFiles: function setFiles(files) {\n      // Reset the dragging flags\n      this.dropAllowed = !this.noDrop;\n      this.dragging = false; // Set the selected files\n\n      this.files = this.multiple ? this.directory ? files : flattenDeep(files) : flattenDeep(files).slice(0, 1);\n    },\n\n    /* istanbul ignore next: used by Drag/Drop */\n    setInputFiles: function setInputFiles(files) {\n      // Try an set the file input files array so that `required`\n      // constraint works for dropped files (will fail in IE11 though)\n      // To be used only when dropping files\n      try {\n        // Firefox < 62 workaround exploiting https://bugzilla.mozilla.org/show_bug.cgi?id=1422655\n        var dataTransfer = new ClipboardEvent('').clipboardData || new DataTransfer(); // Add flattened files to temp `dataTransfer` object to get a true `FileList` array\n\n        flattenDeep(cloneDeep(files)).forEach(function (file) {\n          // Make sure to remove the custom `$path` attribute\n          delete file.$path;\n          dataTransfer.items.add(file);\n        });\n        this.$refs.input.files = dataTransfer.files;\n      } catch (_unused) {}\n    },\n    reset: function reset() {\n      // IE 11 doesn't support setting `$input.value` to `''` or `null`\n      // So we use this little extra hack to reset the value, just in case\n      // This also appears to work on modern browsers as well\n      // Wrapped in try in case IE 11 or mobile Safari crap out\n      try {\n        var $input = this.$refs.input;\n        $input.value = '';\n        $input.type = '';\n        $input.type = 'file';\n      } catch (_unused2) {}\n\n      this.files = [];\n    },\n    handleFiles: function handleFiles(files) {\n      var isDrop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (isDrop) {\n        // When dropped, make sure to filter files with the internal `accept` logic\n        var filteredFiles = files.filter(this.isFilesArrayValid); // Only update files when we have any after filtering\n\n        if (filteredFiles.length > 0) {\n          this.setFiles(filteredFiles); // Try an set the file input's files array so that `required`\n          // constraint works for dropped files (will fail in IE 11 though)\n\n          this.setInputFiles(filteredFiles);\n        }\n      } else {\n        // We always update the files from the `change` event\n        this.setFiles(files);\n      }\n    },\n    focusHandler: function focusHandler(event) {\n      // Bootstrap v4 doesn't have focus styling for custom file input\n      // Firefox has a `[type=file]:focus ~ sibling` selector issue,\n      // so we add a `focus` class to get around these bugs\n      if (this.plain || event.type === 'focusout') {\n        this.hasFocus = false;\n      } else {\n        // Add focus styling for custom file input\n        this.hasFocus = true;\n      }\n    },\n    onChange: function onChange(event) {\n      var _this2 = this;\n\n      var type = event.type,\n          target = event.target,\n          _event$dataTransfer = event.dataTransfer,\n          dataTransfer = _event$dataTransfer === void 0 ? {} : _event$dataTransfer;\n      var isDrop = type === 'drop'; // Always emit original event\n\n      this.$emit(EVENT_NAME_CHANGE, event);\n      var items = arrayFrom(dataTransfer.items || []);\n\n      if (HAS_PROMISE_SUPPORT && items.length > 0 && !isNull(getDataTransferItemEntry(items[0]))) {\n        // Drop handling for modern browsers\n        // Supports nested directory structures in `directory` mode\n\n        /* istanbul ignore next: not supported in JSDOM */\n        getAllFileEntries(items, this.directory).then(function (files) {\n          return _this2.handleFiles(files, isDrop);\n        });\n      } else {\n        // Standard file input handling (native file input change event),\n        // or fallback drop mode (IE 11 / Opera) which don't support `directory` mode\n        var files = arrayFrom(target.files || dataTransfer.files || []).map(function (file) {\n          // Add custom `$path` property to each file (to be consistent with drop mode)\n          file.$path = file.webkitRelativePath || '';\n          return file;\n        });\n        this.handleFiles(files, isDrop);\n      }\n    },\n    onDragenter: function onDragenter(event) {\n      stopEvent(event);\n      this.dragging = true;\n      var _event$dataTransfer2 = event.dataTransfer,\n          dataTransfer = _event$dataTransfer2 === void 0 ? {} : _event$dataTransfer2; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    // Note this event fires repeatedly while the mouse is over the dropzone at\n    // intervals in the milliseconds, so avoid doing much processing in here\n    onDragover: function onDragover(event) {\n      stopEvent(event);\n      this.dragging = true;\n      var _event$dataTransfer3 = event.dataTransfer,\n          dataTransfer = _event$dataTransfer3 === void 0 ? {} : _event$dataTransfer3; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    onDragleave: function onDragleave(event) {\n      var _this3 = this;\n\n      stopEvent(event);\n      this.$nextTick(function () {\n        _this3.dragging = false; // Reset `dropAllowed` to default\n\n        _this3.dropAllowed = !_this3.noDrop;\n      });\n    },\n    // Triggered by a file drop onto drop target\n    onDrop: function onDrop(event) {\n      var _this4 = this;\n\n      stopEvent(event);\n      this.dragging = false; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        this.$nextTick(function () {\n          // Reset `dropAllowed` to default\n          _this4.dropAllowed = !_this4.noDrop;\n        });\n        return;\n      }\n\n      this.onChange(event);\n    }\n  },\n  render: function render(h) {\n    var custom = this.custom,\n        plain = this.plain,\n        size = this.size,\n        dragging = this.dragging,\n        stateClass = this.stateClass,\n        bvAttrs = this.bvAttrs; // Form Input\n\n    var $input = h('input', {\n      class: [{\n        'form-control-file': plain,\n        'custom-file-input': custom,\n        focus: custom && this.hasFocus\n      }, stateClass],\n      // With IE 11, the input gets in the \"way\" of the drop events,\n      // so we move it out of the way by putting it behind the label\n      // Bootstrap v4 has it in front\n      style: custom ? {\n        zIndex: -5\n      } : {},\n      attrs: this.computedAttrs,\n      on: {\n        change: this.onChange,\n        focusin: this.focusHandler,\n        focusout: this.focusHandler,\n        reset: this.reset\n      },\n      ref: 'input'\n    });\n\n    if (plain) {\n      return $input;\n    } // Overlay label\n\n\n    var $label = h('label', {\n      staticClass: 'custom-file-label',\n      class: {\n        dragging: dragging\n      },\n      attrs: {\n        for: this.safeId(),\n        // This goes away in Bootstrap v5\n        'data-browse': this.browseText || null\n      }\n    }, [h('span', {\n      staticClass: 'd-block form-file-text',\n      // `pointer-events: none` is used to make sure\n      // the drag events fire only on the label\n      style: {\n        pointerEvents: 'none'\n      }\n    }, [this.labelContent])]); // Return rendered custom file input\n\n    return h('div', {\n      staticClass: 'custom-file b-form-file',\n      class: [_defineProperty({}, \"b-custom-control-\".concat(size), size), stateClass, bvAttrs.class],\n      style: bvAttrs.style,\n      attrs: {\n        id: this.safeId('_BV_file_outer_')\n      },\n      on: {\n        dragenter: this.onDragenter,\n        dragover: this.onDragover,\n        dragleave: this.onDragleave,\n        drop: this.onDrop\n      }\n    }, [$input, $label]);\n  }\n});"]}]}
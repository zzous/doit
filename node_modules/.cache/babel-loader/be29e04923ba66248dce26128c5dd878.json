{"remainingRequest":"/Users/zzou/Downloads/backup_sample/node_modules/thread-loader/dist/cjs.js!/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js!/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/table/helpers/mixin-thead.js","dependencies":[{"path":"/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/table/helpers/mixin-thead.js","mtime":1610263603568},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/cache-loader/dist/cjs.js","mtime":1582363961748},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/thread-loader/dist/cjs.js","mtime":1582363962038},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js","mtime":1585275399303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydGllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOwp9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7CiAgaWYgKCFvKSByZXR1cm47CiAgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7CiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogIGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOwogIGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7CiAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7Cn0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7CiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7CgogIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgewogICAgYXJyMltpXSA9IGFycltpXTsKICB9CgogIHJldHVybiBhcnIyOwp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmltcG9ydCB7IFZ1ZSB9IGZyb20gJy4uLy4uLy4uL3Z1ZSc7CmltcG9ydCB7IEVWRU5UX05BTUVfSEVBRF9DTElDS0VEIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL2V2ZW50cyc7CmltcG9ydCB7IENPREVfRU5URVIsIENPREVfU1BBQ0UgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMva2V5LWNvZGVzJzsKaW1wb3J0IHsgUFJPUF9UWVBFX0FSUkFZX09CSkVDVF9TVFJJTkcsIFBST1BfVFlQRV9TVFJJTkcgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvcHJvcHMnOwppbXBvcnQgeyBTTE9UX05BTUVfVEhFQURfVE9QIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL3Nsb3RzJzsKaW1wb3J0IHsgc3RvcEV2ZW50IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZXZlbnRzJzsKaW1wb3J0IHsgaHRtbE9yVGV4dCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2h0bWwnOwppbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2lkZW50aXR5JzsKaW1wb3J0IHsgaXNVbmRlZmluZWRPck51bGwgfSBmcm9tICcuLi8uLi8uLi91dGlscy9pbnNwZWN0JzsKaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL25vb3AnOwppbXBvcnQgeyBtYWtlUHJvcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Byb3BzJzsKaW1wb3J0IHsgc3RhcnRDYXNlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvc3RyaW5nJzsKaW1wb3J0IHsgQlRoZWFkIH0gZnJvbSAnLi4vdGhlYWQnOwppbXBvcnQgeyBCVGZvb3QgfSBmcm9tICcuLi90Zm9vdCc7CmltcG9ydCB7IEJUciB9IGZyb20gJy4uL3RyJzsKaW1wb3J0IHsgQlRoIH0gZnJvbSAnLi4vdGgnOwppbXBvcnQgeyBmaWx0ZXJFdmVudCB9IGZyb20gJy4vZmlsdGVyLWV2ZW50JzsKaW1wb3J0IHsgdGV4dFNlbGVjdGlvbkFjdGl2ZSB9IGZyb20gJy4vdGV4dC1zZWxlY3Rpb24tYWN0aXZlJzsgLy8gLS0tIEhlbHBlciBtZXRob2RzIC0tLQoKdmFyIGdldEhlYWRTbG90TmFtZSA9IGZ1bmN0aW9uIGdldEhlYWRTbG90TmFtZSh2YWx1ZSkgewogIHJldHVybiAiaGVhZCgiLmNvbmNhdCh2YWx1ZSB8fCAnJywgIikiKTsKfTsKCnZhciBnZXRGb290U2xvdE5hbWUgPSBmdW5jdGlvbiBnZXRGb290U2xvdE5hbWUodmFsdWUpIHsKICByZXR1cm4gImZvb3QoIi5jb25jYXQodmFsdWUgfHwgJycsICIpIik7Cn07IC8vIC0tLSBQcm9wcyAtLS0KCgpleHBvcnQgdmFyIHByb3BzID0gewogIC8vIEFueSBCb290c3RyYXAgdGhlbWUgdmFyaWFudCAob3IgY3VzdG9tKQogIGhlYWRSb3dWYXJpYW50OiBtYWtlUHJvcChQUk9QX1RZUEVfU1RSSU5HKSwKICAvLyAnbGlnaHQnLCAnZGFyaycgb3IgYG51bGxgIChvciBjdXN0b20pCiAgaGVhZFZhcmlhbnQ6IG1ha2VQcm9wKFBST1BfVFlQRV9TVFJJTkcpLAogIHRoZWFkQ2xhc3M6IG1ha2VQcm9wKFBST1BfVFlQRV9BUlJBWV9PQkpFQ1RfU1RSSU5HKSwKICB0aGVhZFRyQ2xhc3M6IG1ha2VQcm9wKFBST1BfVFlQRV9BUlJBWV9PQkpFQ1RfU1RSSU5HKQp9OyAvLyAtLS0gTWl4aW4gLS0tCi8vIEB2dWUvY29tcG9uZW50CgpleHBvcnQgdmFyIHRoZWFkTWl4aW4gPSBWdWUuZXh0ZW5kKHsKICBwcm9wczogcHJvcHMsCiAgbWV0aG9kczogewogICAgZmllbGRDbGFzc2VzOiBmdW5jdGlvbiBmaWVsZENsYXNzZXMoZmllbGQpIHsKICAgICAgLy8gSGVhZGVyIGZpZWxkICg8dGg+KSBjbGFzc2VzCiAgICAgIHJldHVybiBbZmllbGRbImNsYXNzIl0gPyBmaWVsZFsiY2xhc3MiXSA6ICcnLCBmaWVsZC50aENsYXNzID8gZmllbGQudGhDbGFzcyA6ICcnXTsKICAgIH0sCiAgICBoZWFkQ2xpY2tlZDogZnVuY3Rpb24gaGVhZENsaWNrZWQoZXZlbnQsIGZpZWxkLCBpc0Zvb3QpIHsKICAgICAgaWYgKHRoaXMuc3RvcElmQnVzeSAmJiB0aGlzLnN0b3BJZkJ1c3koZXZlbnQpKSB7CiAgICAgICAgLy8gSWYgdGFibGUgaXMgYnVzeSAodmlhIHByb3ZpZGVyKSB0aGVuIGRvbid0IHByb3BhZ2F0ZQogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChmaWx0ZXJFdmVudChldmVudCkpIHsKICAgICAgICAvLyBDbGlja2VkIG9uIGEgbm9uLWRpc2FibGVkIGNvbnRyb2wgc28gaWdub3JlCiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRleHRTZWxlY3Rpb25BY3RpdmUodGhpcy4kZWwpKSB7CiAgICAgICAgLy8gVXNlciBpcyBzZWxlY3RpbmcgdGV4dCwgc28gaWdub3JlCgogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBKU0RPTSBkb2Vzbid0IHN1cHBvcnQgZ2V0U2VsZWN0aW9uKCkgKi8KICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHN0b3BFdmVudChldmVudCk7CiAgICAgIHRoaXMuJGVtaXQoRVZFTlRfTkFNRV9IRUFEX0NMSUNLRUQsIGZpZWxkLmtleSwgZmllbGQsIGV2ZW50LCBpc0Zvb3QpOwogICAgfSwKICAgIHJlbmRlclRoZWFkOiBmdW5jdGlvbiByZW5kZXJUaGVhZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpc0Zvb3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICB2YXIgZmllbGRzID0gdGhpcy5jb21wdXRlZEZpZWxkcywKICAgICAgICAgIGlzU29ydGFibGUgPSB0aGlzLmlzU29ydGFibGUsCiAgICAgICAgICBpc1NlbGVjdGFibGUgPSB0aGlzLmlzU2VsZWN0YWJsZSwKICAgICAgICAgIGhlYWRWYXJpYW50ID0gdGhpcy5oZWFkVmFyaWFudCwKICAgICAgICAgIGZvb3RWYXJpYW50ID0gdGhpcy5mb290VmFyaWFudCwKICAgICAgICAgIGhlYWRSb3dWYXJpYW50ID0gdGhpcy5oZWFkUm93VmFyaWFudCwKICAgICAgICAgIGZvb3RSb3dWYXJpYW50ID0gdGhpcy5mb290Um93VmFyaWFudDsKICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OyAvLyBJbiBhbHdheXMgc3RhY2tlZCBtb2RlLCB3ZSBkb24ndCBib3RoZXIgcmVuZGVyaW5nIHRoZSBoZWFkL2Zvb3QKICAgICAgLy8gT3IgaWYgbm8gZmllbGQgaGVhZGluZ3MgKGVtcHR5IHRhYmxlKQoKICAgICAgaWYgKHRoaXMuaXNTdGFja2VkQWx3YXlzIHx8IGZpZWxkcy5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gaCgpOwogICAgICB9CgogICAgICB2YXIgaGFzSGVhZENsaWNrTGlzdGVuZXIgPSBpc1NvcnRhYmxlIHx8IHRoaXMuaGFzTGlzdGVuZXIoRVZFTlRfTkFNRV9IRUFEX0NMSUNLRUQpOyAvLyBSZWZlcmVuY2UgdG8gYHNlbGVjdEFsbFJvd3NgIGFuZCBgY2xlYXJTZWxlY3RlZCgpYCwgaWYgdGFibGUgaXMgc2VsZWN0YWJsZQoKICAgICAgdmFyIHNlbGVjdEFsbFJvd3MgPSBpc1NlbGVjdGFibGUgPyB0aGlzLnNlbGVjdEFsbFJvd3MgOiBub29wOwogICAgICB2YXIgY2xlYXJTZWxlY3RlZCA9IGlzU2VsZWN0YWJsZSA/IHRoaXMuY2xlYXJTZWxlY3RlZCA6IG5vb3A7IC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSBhIGZpZWxkIDx0aD4gY2VsbAoKICAgICAgdmFyIG1ha2VDZWxsID0gZnVuY3Rpb24gbWFrZUNlbGwoZmllbGQsIGNvbEluZGV4KSB7CiAgICAgICAgdmFyIGxhYmVsID0gZmllbGQubGFiZWwsCiAgICAgICAgICAgIGxhYmVsSHRtbCA9IGZpZWxkLmxhYmVsSHRtbCwKICAgICAgICAgICAgdmFyaWFudCA9IGZpZWxkLnZhcmlhbnQsCiAgICAgICAgICAgIHN0aWNreUNvbHVtbiA9IGZpZWxkLnN0aWNreUNvbHVtbiwKICAgICAgICAgICAga2V5ID0gZmllbGQua2V5OwogICAgICAgIHZhciBhcmlhTGFiZWwgPSBudWxsOwoKICAgICAgICBpZiAoIWZpZWxkLmxhYmVsLnRyaW0oKSAmJiAhZmllbGQuaGVhZGVyVGl0bGUpIHsKICAgICAgICAgIC8vIEluIGNhc2UgZmllbGQncyBsYWJlbCBhbmQgdGl0bGUgYXJlIGVtcHR5L2JsYW5rCiAgICAgICAgICAvLyBXZSBuZWVkIHRvIGFkZCBhIGhpbnQgYWJvdXQgd2hhdCB0aGUgY29sdW1uIGlzIGFib3V0IGZvciBub24tc2lnaHRlZCB1c2VycwoKICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgICAgICBhcmlhTGFiZWwgPSBzdGFydENhc2UoZmllbGQua2V5KTsKICAgICAgICB9CgogICAgICAgIHZhciBvbiA9IHt9OwoKICAgICAgICBpZiAoaGFzSGVhZENsaWNrTGlzdGVuZXIpIHsKICAgICAgICAgIG9uLmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIF90aGlzLmhlYWRDbGlja2VkKGV2ZW50LCBmaWVsZCwgaXNGb290KTsKICAgICAgICAgIH07CgogICAgICAgICAgb24ua2V5ZG93biA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7CgogICAgICAgICAgICBpZiAoa2V5Q29kZSA9PT0gQ09ERV9FTlRFUiB8fCBrZXlDb2RlID09PSBDT0RFX1NQQUNFKSB7CiAgICAgICAgICAgICAgX3RoaXMuaGVhZENsaWNrZWQoZXZlbnQsIGZpZWxkLCBpc0Zvb3QpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgdmFyIHNvcnRBdHRycyA9IGlzU29ydGFibGUgPyBfdGhpcy5zb3J0VGhlYWRUaEF0dHJzKGtleSwgZmllbGQsIGlzRm9vdCkgOiB7fTsKICAgICAgICB2YXIgc29ydENsYXNzID0gaXNTb3J0YWJsZSA/IF90aGlzLnNvcnRUaGVhZFRoQ2xhc3NlcyhrZXksIGZpZWxkLCBpc0Zvb3QpIDogbnVsbDsKICAgICAgICB2YXIgc29ydExhYmVsID0gaXNTb3J0YWJsZSA/IF90aGlzLnNvcnRUaGVhZFRoTGFiZWwoa2V5LCBmaWVsZCwgaXNGb290KSA6IG51bGw7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAiY2xhc3MiOiBbX3RoaXMuZmllbGRDbGFzc2VzKGZpZWxkKSwgc29ydENsYXNzXSwKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIHZhcmlhbnQ6IHZhcmlhbnQsCiAgICAgICAgICAgIHN0aWNreUNvbHVtbjogc3RpY2t5Q29sdW1uCiAgICAgICAgICB9LAogICAgICAgICAgc3R5bGU6IGZpZWxkLnRoU3R5bGUgfHwge30sCiAgICAgICAgICBhdHRyczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgLy8gV2Ugb25seSBhZGQgYSBgdGFiaW5kZXhgIG9mIGAwYCBpZiB0aGVyZSBpcyBhIGhlYWQtY2xpY2tlZCBsaXN0ZW5lcgogICAgICAgICAgICAvLyBhbmQgdGhlIGN1cnJlbnQgZmllbGQgaXMgc29ydGFibGUKICAgICAgICAgICAgdGFiaW5kZXg6IGhhc0hlYWRDbGlja0xpc3RlbmVyICYmIGZpZWxkLnNvcnRhYmxlID8gJzAnIDogbnVsbCwKICAgICAgICAgICAgYWJicjogZmllbGQuaGVhZGVyQWJiciB8fCBudWxsLAogICAgICAgICAgICB0aXRsZTogZmllbGQuaGVhZGVyVGl0bGUgfHwgbnVsbCwKICAgICAgICAgICAgJ2FyaWEtY29saW5kZXgnOiBjb2xJbmRleCArIDEsCiAgICAgICAgICAgICdhcmlhLWxhYmVsJzogYXJpYUxhYmVsCiAgICAgICAgICB9LCBfdGhpcy5nZXRUaFZhbHVlcyhudWxsLCBrZXksIGZpZWxkLnRoQXR0ciwgaXNGb290ID8gJ2Zvb3QnIDogJ2hlYWQnLCB7fSkpLCBzb3J0QXR0cnMpLAogICAgICAgICAgb246IG9uLAogICAgICAgICAga2V5OiBrZXkKICAgICAgICB9OyAvLyBIYW5kbGUgZWRnZSBjYXNlIHdoZXJlIGluLWRvY3VtZW50IHRlbXBsYXRlcyBhcmUgdXNlZCB3aXRoIG5ldwogICAgICAgIC8vIGB2LXNsb3Q6bmFtZWAgc3ludGF4IHdoZXJlIHRoZSBicm93c2VyIGxvd2VyLWNhc2VzIHRoZSB2LXNsb3QncwogICAgICAgIC8vIG5hbWUgKGF0dHJpYnV0ZXMgYmVjb21lIGxvd2VyIGNhc2VkIHdoZW4gcGFyc2VkIGJ5IHRoZSBicm93c2VyKQogICAgICAgIC8vIFdlIGhhdmUgcmVwbGFjZWQgdGhlIHNxdWFyZSBicmFja2V0IHN5bnRheCB3aXRoIHJvdW5kIGJyYWNrZXRzCiAgICAgICAgLy8gdG8gcHJldmVudCBjb25mdXNpb24gd2l0aCBkeW5hbWljIHNsb3QgbmFtZXMKCiAgICAgICAgdmFyIHNsb3ROYW1lcyA9IFtnZXRIZWFkU2xvdE5hbWUoa2V5KSwgZ2V0SGVhZFNsb3ROYW1lKGtleS50b0xvd2VyQ2FzZSgpKSwgZ2V0SGVhZFNsb3ROYW1lKCldOyAvLyBGb290ZXIgd2lsbCBmYWxsYmFjayB0byBoZWFkZXIgc2xvdCBuYW1lcwoKICAgICAgICBpZiAoaXNGb290KSB7CiAgICAgICAgICBzbG90TmFtZXMgPSBbZ2V0Rm9vdFNsb3ROYW1lKGtleSksIGdldEZvb3RTbG90TmFtZShrZXkudG9Mb3dlckNhc2UoKSksIGdldEZvb3RTbG90TmFtZSgpXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNsb3ROYW1lcykpOwogICAgICAgIH0KCiAgICAgICAgdmFyIHNjb3BlID0gewogICAgICAgICAgbGFiZWw6IGxhYmVsLAogICAgICAgICAgY29sdW1uOiBrZXksCiAgICAgICAgICBmaWVsZDogZmllbGQsCiAgICAgICAgICBpc0Zvb3Q6IGlzRm9vdCwKICAgICAgICAgIC8vIEFkZCBpbiByb3cgc2VsZWN0IG1ldGhvZHMKICAgICAgICAgIHNlbGVjdEFsbFJvd3M6IHNlbGVjdEFsbFJvd3MsCiAgICAgICAgICBjbGVhclNlbGVjdGVkOiBjbGVhclNlbGVjdGVkCiAgICAgICAgfTsKICAgICAgICB2YXIgJGNvbnRlbnQgPSBfdGhpcy5ub3JtYWxpemVTbG90KHNsb3ROYW1lcywgc2NvcGUpIHx8IGgoJ2RpdicsIHsKICAgICAgICAgIGRvbVByb3BzOiBodG1sT3JUZXh0KGxhYmVsSHRtbCwgbGFiZWwpCiAgICAgICAgfSk7CiAgICAgICAgdmFyICRzckxhYmVsID0gc29ydExhYmVsID8gaCgnc3BhbicsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnc3Itb25seScKICAgICAgICB9LCAiICgiLmNvbmNhdChzb3J0TGFiZWwsICIpIikpIDogbnVsbDsgLy8gUmV0dXJuIHRoZSBoZWFkZXIgY2VsbAoKICAgICAgICByZXR1cm4gaChCVGgsIGRhdGEsIFskY29udGVudCwgJHNyTGFiZWxdLmZpbHRlcihpZGVudGl0eSkpOwogICAgICB9OyAvLyBHZW5lcmF0ZSB0aGUgYXJyYXkgb2YgPHRoPiBjZWxscwoKCiAgICAgIHZhciAkY2VsbHMgPSBmaWVsZHMubWFwKG1ha2VDZWxsKS5maWx0ZXIoaWRlbnRpdHkpOyAvLyBHZW5lcmF0ZSB0aGUgcm93KHMpCgogICAgICB2YXIgJHRycyA9IFtdOwoKICAgICAgaWYgKGlzRm9vdCkgewogICAgICAgICR0cnMucHVzaChoKEJUciwgewogICAgICAgICAgImNsYXNzIjogdGhpcy50Zm9vdFRyQ2xhc3MsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICB2YXJpYW50OiBpc1VuZGVmaW5lZE9yTnVsbChmb290Um93VmFyaWFudCkgPyBoZWFkUm93VmFyaWFudCA6CiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgICAgICAgIGZvb3RSb3dWYXJpYW50CiAgICAgICAgICB9CiAgICAgICAgfSwgJGNlbGxzKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHNjb3BlID0gewogICAgICAgICAgY29sdW1uczogZmllbGRzLmxlbmd0aCwKICAgICAgICAgIGZpZWxkczogZmllbGRzLAogICAgICAgICAgLy8gQWRkIGluIHJvdyBzZWxlY3QgbWV0aG9kcwogICAgICAgICAgc2VsZWN0QWxsUm93czogc2VsZWN0QWxsUm93cywKICAgICAgICAgIGNsZWFyU2VsZWN0ZWQ6IGNsZWFyU2VsZWN0ZWQKICAgICAgICB9OwogICAgICAgICR0cnMucHVzaCh0aGlzLm5vcm1hbGl6ZVNsb3QoU0xPVF9OQU1FX1RIRUFEX1RPUCwgc2NvcGUpIHx8IGgoKSk7CiAgICAgICAgJHRycy5wdXNoKGgoQlRyLCB7CiAgICAgICAgICAiY2xhc3MiOiB0aGlzLnRoZWFkVHJDbGFzcywKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIHZhcmlhbnQ6IGhlYWRSb3dWYXJpYW50CiAgICAgICAgICB9CiAgICAgICAgfSwgJGNlbGxzKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoKGlzRm9vdCA/IEJUZm9vdCA6IEJUaGVhZCwgewogICAgICAgICJjbGFzcyI6IChpc0Zvb3QgPyB0aGlzLnRmb290Q2xhc3MgOiB0aGlzLnRoZWFkQ2xhc3MpIHx8IG51bGwsCiAgICAgICAgcHJvcHM6IGlzRm9vdCA/IHsKICAgICAgICAgIGZvb3RWYXJpYW50OiBmb290VmFyaWFudCB8fCBoZWFkVmFyaWFudCB8fCBudWxsCiAgICAgICAgfSA6IHsKICAgICAgICAgIGhlYWRWYXJpYW50OiBoZWFkVmFyaWFudCB8fCBudWxsCiAgICAgICAgfSwKICAgICAgICBrZXk6IGlzRm9vdCA/ICdidi10Zm9vdCcgOiAnYnYtdGhlYWQnCiAgICAgIH0sICR0cnMpOwogICAgfQogIH0KfSk7"},null]}
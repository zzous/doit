{"remainingRequest":"/Users/zzou/Downloads/backup_sample/node_modules/thread-loader/dist/cjs.js!/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js!/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/table/helpers/mixin-tbody-row.js","dependencies":[{"path":"/Users/zzou/Downloads/backup_sample/node_modules/bootstrap-vue/esm/components/table/helpers/mixin-tbody-row.js","mtime":1610263603568},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/cache-loader/dist/cjs.js","mtime":1582363961748},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/thread-loader/dist/cjs.js","mtime":1582363962038},{"path":"/Users/zzou/Downloads/backup_sample/node_modules/babel-loader/lib/index.js","mtime":1585275399303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydGllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgfSk7CiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgfQoKICByZXR1cm4ga2V5czsKfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgaWYgKGkgJSAyKSB7CiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOwp9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7CiAgaWYgKCFvKSByZXR1cm47CiAgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7CiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogIGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOwogIGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7CiAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7Cn0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7CiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7CgogIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgewogICAgYXJyMltpXSA9IGFycltpXTsKICB9CgogIHJldHVybiBhcnIyOwp9CgppbXBvcnQgeyBWdWUgfSBmcm9tICcuLi8uLi8uLi92dWUnOwppbXBvcnQgeyBFVkVOVF9OQU1FX1JPV19DTElDS0VELCBFVkVOVF9OQU1FX1JPV19IT1ZFUkVELCBFVkVOVF9OQU1FX1JPV19VTkhPVkVSRUQgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvZXZlbnRzJzsKaW1wb3J0IHsgUFJPUF9UWVBFX0FSUkFZX09CSkVDVF9TVFJJTkcsIFBST1BfVFlQRV9GVU5DVElPTiwgUFJPUF9UWVBFX09CSkVDVF9GVU5DVElPTiB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9wcm9wcyc7CmltcG9ydCB7IFNMT1RfTkFNRV9ST1dfREVUQUlMUyB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9zbG90cyc7CmltcG9ydCB7IGdldCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2dldCc7CmltcG9ydCB7IGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc1VuZGVmaW5lZE9yTnVsbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2luc3BlY3QnOwppbXBvcnQgeyBtYWtlUHJvcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Byb3BzJzsKaW1wb3J0IHsgdG9TdHJpbmcgfSBmcm9tICcuLi8uLi8uLi91dGlscy9zdHJpbmcnOwppbXBvcnQgeyBCVHIgfSBmcm9tICcuLi90cic7CmltcG9ydCB7IEJUZCB9IGZyb20gJy4uL3RkJzsKaW1wb3J0IHsgQlRoIH0gZnJvbSAnLi4vdGgnOwppbXBvcnQgeyBGSUVMRF9LRVlfQ0VMTF9WQVJJQU5ULCBGSUVMRF9LRVlfUk9XX1ZBUklBTlQsIEZJRUxEX0tFWV9TSE9XX0RFVEFJTFMgfSBmcm9tICcuL2NvbnN0YW50cyc7IC8vIC0tLSBQcm9wcyAtLS0KCmV4cG9ydCB2YXIgcHJvcHMgPSB7CiAgZGV0YWlsc1RkQ2xhc3M6IG1ha2VQcm9wKFBST1BfVFlQRV9BUlJBWV9PQkpFQ1RfU1RSSU5HKSwKICB0Ym9keVRyQXR0cjogbWFrZVByb3AoUFJPUF9UWVBFX09CSkVDVF9GVU5DVElPTiksCiAgdGJvZHlUckNsYXNzOiBtYWtlUHJvcChbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KFBST1BfVFlQRV9BUlJBWV9PQkpFQ1RfU1RSSU5HKSwgW1BST1BfVFlQRV9GVU5DVElPTl0pKQp9OyAvLyAtLS0gTWl4aW4gLS0tCi8vIEB2dWUvY29tcG9uZW50CgpleHBvcnQgdmFyIHRib2R5Um93TWl4aW4gPSBWdWUuZXh0ZW5kKHsKICBwcm9wczogcHJvcHMsCiAgbWV0aG9kczogewogICAgLy8gTWV0aG9kcyBmb3IgY29tcHV0aW5nIGNsYXNzZXMsIGF0dHJpYnV0ZXMgYW5kIHN0eWxlcyBmb3IgdGFibGUgY2VsbHMKICAgIGdldFRkVmFsdWVzOiBmdW5jdGlvbiBnZXRUZFZhbHVlcyhpdGVtLCBrZXksIHRkVmFsdWUsIGRlZmF1bHRWYWx1ZSkgewogICAgICB2YXIgJHBhcmVudCA9IHRoaXMuJHBhcmVudDsKCiAgICAgIGlmICh0ZFZhbHVlKSB7CiAgICAgICAgdmFyIHZhbHVlID0gZ2V0KGl0ZW0sIGtleSwgJycpOwoKICAgICAgICBpZiAoaXNGdW5jdGlvbih0ZFZhbHVlKSkgewogICAgICAgICAgcmV0dXJuIHRkVmFsdWUodmFsdWUsIGtleSwgaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyh0ZFZhbHVlKSAmJiBpc0Z1bmN0aW9uKCRwYXJlbnRbdGRWYWx1ZV0pKSB7CiAgICAgICAgICByZXR1cm4gJHBhcmVudFt0ZFZhbHVlXSh2YWx1ZSwga2V5LCBpdGVtKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0ZFZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogICAgfSwKICAgIGdldFRoVmFsdWVzOiBmdW5jdGlvbiBnZXRUaFZhbHVlcyhpdGVtLCBrZXksIHRoVmFsdWUsIHR5cGUsIGRlZmF1bHRWYWx1ZSkgewogICAgICB2YXIgJHBhcmVudCA9IHRoaXMuJHBhcmVudDsKCiAgICAgIGlmICh0aFZhbHVlKSB7CiAgICAgICAgdmFyIHZhbHVlID0gZ2V0KGl0ZW0sIGtleSwgJycpOwoKICAgICAgICBpZiAoaXNGdW5jdGlvbih0aFZhbHVlKSkgewogICAgICAgICAgcmV0dXJuIHRoVmFsdWUodmFsdWUsIGtleSwgaXRlbSwgdHlwZSk7CiAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyh0aFZhbHVlKSAmJiBpc0Z1bmN0aW9uKCRwYXJlbnRbdGhWYWx1ZV0pKSB7CiAgICAgICAgICByZXR1cm4gJHBhcmVudFt0aFZhbHVlXSh2YWx1ZSwga2V5LCBpdGVtLCB0eXBlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aFZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogICAgfSwKICAgIC8vIE1ldGhvZCB0byBnZXQgdGhlIHZhbHVlIGZvciBhIGZpZWxkCiAgICBnZXRGb3JtYXR0ZWRWYWx1ZTogZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkVmFsdWUoaXRlbSwgZmllbGQpIHsKICAgICAgdmFyIGtleSA9IGZpZWxkLmtleTsKICAgICAgdmFyIGZvcm1hdHRlciA9IHRoaXMuZ2V0RmllbGRGb3JtYXR0ZXIoa2V5KTsKICAgICAgdmFyIHZhbHVlID0gZ2V0KGl0ZW0sIGtleSwgbnVsbCk7CgogICAgICBpZiAoaXNGdW5jdGlvbihmb3JtYXR0ZXIpKSB7CiAgICAgICAgdmFsdWUgPSBmb3JtYXR0ZXIodmFsdWUsIGtleSwgaXRlbSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkgPyAnJyA6IHZhbHVlOwogICAgfSwKICAgIC8vIEZhY3RvcnkgZnVuY3Rpb24gbWV0aG9kcwogICAgdG9nZ2xlRGV0YWlsc0ZhY3Rvcnk6IGZ1bmN0aW9uIHRvZ2dsZURldGFpbHNGYWN0b3J5KGhhc0RldGFpbHNTbG90LCBpdGVtKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vIFJldHVybnMgYSBmdW5jdGlvbiB0byB0b2dnbGUgYSByb3cncyBkZXRhaWxzIHNsb3QKCgogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChoYXNEZXRhaWxzU2xvdCkgewogICAgICAgICAgX3RoaXMuJHNldChpdGVtLCBGSUVMRF9LRVlfU0hPV19ERVRBSUxTLCAhaXRlbVtGSUVMRF9LRVlfU0hPV19ERVRBSUxTXSk7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIC8vIFJvdyBldmVudCBoYW5kbGVycwogICAgcm93SG92ZXJlZDogZnVuY3Rpb24gcm93SG92ZXJlZChldmVudCkgewogICAgICAvLyBgbW91c2VlbnRlcmAgaGFuZGxlciAobm9uLWJ1YmJsaW5nKQogICAgICAvLyBgdGhpcy50Ym9keVJvd0V2dFN0b3BwZWRgIGZyb20gdGJvZHkgbWl4aW4KICAgICAgaWYgKCF0aGlzLnRib2R5Um93RXZ0U3RvcHBlZChldmVudCkpIHsKICAgICAgICAvLyBgdGhpcy5lbWl0VGJvZHlSb3dFdmVudGAgZnJvbSB0Ym9keSBtaXhpbgogICAgICAgIHRoaXMuZW1pdFRib2R5Um93RXZlbnQoRVZFTlRfTkFNRV9ST1dfSE9WRVJFRCwgZXZlbnQpOwogICAgICB9CiAgICB9LAogICAgcm93VW5ob3ZlcmVkOiBmdW5jdGlvbiByb3dVbmhvdmVyZWQoZXZlbnQpIHsKICAgICAgLy8gYG1vdXNlbGVhdmVgIGhhbmRsZXIgKG5vbi1idWJibGluZykKICAgICAgLy8gYHRoaXMudGJvZHlSb3dFdnRTdG9wcGVkYCBmcm9tIHRib2R5IG1peGluCiAgICAgIGlmICghdGhpcy50Ym9keVJvd0V2dFN0b3BwZWQoZXZlbnQpKSB7CiAgICAgICAgLy8gYHRoaXMuZW1pdFRib2R5Um93RXZlbnRgIGZyb20gdGJvZHkgbWl4aW4KICAgICAgICB0aGlzLmVtaXRUYm9keVJvd0V2ZW50KEVWRU5UX05BTUVfUk9XX1VOSE9WRVJFRCwgZXZlbnQpOwogICAgICB9CiAgICB9LAogICAgLy8gUmVuZGVycyBhIFREIG9yIFRIIGZvciBhIHJvdydzIGZpZWxkCiAgICByZW5kZXJUYm9keVJvd0NlbGw6IGZ1bmN0aW9uIHJlbmRlclRib2R5Um93Q2VsbChmaWVsZCwgY29sSW5kZXgsIGl0ZW0sIHJvd0luZGV4KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGlzU3RhY2tlZCA9IHRoaXMuaXNTdGFja2VkOwogICAgICB2YXIga2V5ID0gZmllbGQua2V5LAogICAgICAgICAgbGFiZWwgPSBmaWVsZC5sYWJlbCwKICAgICAgICAgIGlzUm93SGVhZGVyID0gZmllbGQuaXNSb3dIZWFkZXI7CiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgdmFyIGhhc0RldGFpbHNTbG90ID0gdGhpcy5oYXNOb3JtYWxpemVkU2xvdChTTE9UX05BTUVfUk9XX0RFVEFJTFMpOwogICAgICB2YXIgZm9ybWF0dGVkID0gdGhpcy5nZXRGb3JtYXR0ZWRWYWx1ZShpdGVtLCBmaWVsZCk7CiAgICAgIHZhciBzdGlja3lDb2x1bW4gPSAhaXNTdGFja2VkICYmICh0aGlzLmlzUmVzcG9uc2l2ZSB8fCB0aGlzLnN0aWNreUhlYWRlcikgJiYgZmllbGQuc3RpY2t5Q29sdW1uOyAvLyBXZSBvbmx5IHVzZXMgdGhlIGhlbHBlciBjb21wb25lbnRzIGZvciBzdGlja3kgY29sdW1ucyB0bwogICAgICAvLyBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIEJUYWJsZS9CVGFibGVMaXRlIGJ5IHJlZHVjaW5nIHRoZQogICAgICAvLyB0b3RhbCBudW1iZXIgb2YgdnVlIGluc3RhbmNlcyBjcmVhdGVkIGR1cmluZyByZW5kZXIKCiAgICAgIHZhciBjZWxsVGFnID0gc3RpY2t5Q29sdW1uID8gaXNSb3dIZWFkZXIgPyBCVGggOiBCVGQgOiBpc1Jvd0hlYWRlciA/ICd0aCcgOiAndGQnOwogICAgICB2YXIgY2VsbFZhcmlhbnQgPSBpdGVtW0ZJRUxEX0tFWV9DRUxMX1ZBUklBTlRdICYmIGl0ZW1bRklFTERfS0VZX0NFTExfVkFSSUFOVF1ba2V5XSA/IGl0ZW1bRklFTERfS0VZX0NFTExfVkFSSUFOVF1ba2V5XSA6IGZpZWxkLnZhcmlhbnQgfHwgbnVsbDsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgLy8gRm9yIHRoZSBWdWUga2V5LCB3ZSBjb25jYXRlbmF0ZSB0aGUgY29sdW1uIGluZGV4IGFuZAogICAgICAgIC8vIGZpZWxkIGtleSAoYXMgZmllbGQga2V5cyBjb3VsZCBiZSBkdXBsaWNhdGVkKQogICAgICAgIC8vIFRPRE86IEFsdGhvdWdoIHdlIGRvIHByZXZlbnQgZHVwbGljYXRlIGZpZWxkIGtleXMuLi4KICAgICAgICAvLyAgIFNvIHdlIGNvdWxkIGNoYW5nZSB0aGlzIHRvOiBgcm93LSR7cm93SW5kZXh9LWNlbGwtJHtrZXl9YAogICAgICAgICJjbGFzcyI6IFtmaWVsZFsiY2xhc3MiXSA/IGZpZWxkWyJjbGFzcyJdIDogJycsIHRoaXMuZ2V0VGRWYWx1ZXMoaXRlbSwga2V5LCBmaWVsZC50ZENsYXNzLCAnJyldLAogICAgICAgIHByb3BzOiB7fSwKICAgICAgICBhdHRyczogX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAnYXJpYS1jb2xpbmRleCc6IFN0cmluZyhjb2xJbmRleCArIDEpCiAgICAgICAgfSwgaXNSb3dIZWFkZXIgPyB0aGlzLmdldFRoVmFsdWVzKGl0ZW0sIGtleSwgZmllbGQudGhBdHRyLCAncm93Jywge30pIDogdGhpcy5nZXRUZFZhbHVlcyhpdGVtLCBrZXksIGZpZWxkLnRkQXR0ciwge30pKSwKICAgICAgICBrZXk6ICJyb3ctIi5jb25jYXQocm93SW5kZXgsICItY2VsbC0iKS5jb25jYXQoY29sSW5kZXgsICItIikuY29uY2F0KGtleSkKICAgICAgfTsKCiAgICAgIGlmIChzdGlja3lDb2x1bW4pIHsKICAgICAgICAvLyBXZSBhcmUgdXNpbmcgdGhlIGhlbHBlciBCVGQgb3IgQlRoCiAgICAgICAgZGF0YS5wcm9wcyA9IHsKICAgICAgICAgIHN0YWNrZWRIZWFkaW5nOiBpc1N0YWNrZWQgPyBsYWJlbCA6IG51bGwsCiAgICAgICAgICBzdGlja3lDb2x1bW46IHRydWUsCiAgICAgICAgICB2YXJpYW50OiBjZWxsVmFyaWFudAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVXNpbmcgbmF0aXZlIFREIG9yIFRIIGVsZW1lbnQsIHNvIHdlIG5lZWQgdG8KICAgICAgICAvLyBhZGQgaW4gdGhlIGF0dHJpYnV0ZXMgYW5kIHZhcmlhbnQgY2xhc3MKICAgICAgICBkYXRhLmF0dHJzWydkYXRhLWxhYmVsJ10gPSBpc1N0YWNrZWQgJiYgIWlzVW5kZWZpbmVkT3JOdWxsKGxhYmVsKSA/IHRvU3RyaW5nKGxhYmVsKSA6IG51bGw7CiAgICAgICAgZGF0YS5hdHRycy5yb2xlID0gaXNSb3dIZWFkZXIgPyAncm93aGVhZGVyJyA6ICdjZWxsJzsKICAgICAgICBkYXRhLmF0dHJzLnNjb3BlID0gaXNSb3dIZWFkZXIgPyAncm93JyA6IG51bGw7IC8vIEFkZCBpbiB0aGUgdmFyaWFudCBjbGFzcwoKICAgICAgICBpZiAoY2VsbFZhcmlhbnQpIHsKICAgICAgICAgIGRhdGFbImNsYXNzIl0ucHVzaCgiIi5jb25jYXQodGhpcy5kYXJrID8gJ2JnJyA6ICd0YWJsZScsICItIikuY29uY2F0KGNlbGxWYXJpYW50KSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgc2xvdFNjb3BlID0gewogICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgaW5kZXg6IHJvd0luZGV4LAogICAgICAgIGZpZWxkOiBmaWVsZCwKICAgICAgICB1bmZvcm1hdHRlZDogZ2V0KGl0ZW0sIGtleSwgJycpLAogICAgICAgIHZhbHVlOiBmb3JtYXR0ZWQsCiAgICAgICAgdG9nZ2xlRGV0YWlsczogdGhpcy50b2dnbGVEZXRhaWxzRmFjdG9yeShoYXNEZXRhaWxzU2xvdCwgaXRlbSksCiAgICAgICAgZGV0YWlsc1Nob3dpbmc6IEJvb2xlYW4oaXRlbVtGSUVMRF9LRVlfU0hPV19ERVRBSUxTXSkKICAgICAgfTsgLy8gSWYgdGFibGUgc3VwcG9ydHMgc2VsZWN0YWJsZSBtb2RlLCB0aGVuIGFkZCBpbiB0aGUgZm9sbG93aW5nIHNjb3BlCiAgICAgIC8vIHRoaXMuc3VwcG9ydHNTZWxlY3RhYmxlUm93cyB3aWxsIGJlIHVuZGVmaW5lZCBpZiBtaXhpbiBpc24ndCBsb2FkZWQKCiAgICAgIGlmICh0aGlzLnN1cHBvcnRzU2VsZWN0YWJsZVJvd3MpIHsKICAgICAgICBzbG90U2NvcGUucm93U2VsZWN0ZWQgPSB0aGlzLmlzUm93U2VsZWN0ZWQocm93SW5kZXgpOwoKICAgICAgICBzbG90U2NvcGUuc2VsZWN0Um93ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5zZWxlY3RSb3cocm93SW5kZXgpOwogICAgICAgIH07CgogICAgICAgIHNsb3RTY29wZS51bnNlbGVjdFJvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIudW5zZWxlY3RSb3cocm93SW5kZXgpOwogICAgICAgIH07CiAgICAgIH0gLy8gVGhlIG5ldyBgdi1zbG90YCBzeW50YXggZG9lc24ndCBsaWtlIGEgc2xvdCBuYW1lIHN0YXJ0aW5nIHdpdGgKICAgICAgLy8gYSBzcXVhcmUgYnJhY2tldCBhbmQgaWYgdXNpbmcgaW4tZG9jdW1lbnQgSFRNTCB0ZW1wbGF0ZXMsIHRoZQogICAgICAvLyB2LXNsb3QgYXR0cmlidXRlcyBhcmUgbG93ZXItY2FzZWQgYnkgdGhlIGJyb3dzZXIuCiAgICAgIC8vIFN3aXRjaGVkIHRvIHJvdW5kIGJyYWNrZXQgc3ludGF4IHRvIHByZXZlbnQgY29uZnVzaW9uIHdpdGgKICAgICAgLy8gZHluYW1pYyBzbG90IG5hbWUgc3ludGF4LgogICAgICAvLyBXZSBsb29rIGZvciBzbG90cyBpbiB0aGlzIG9yZGVyOiBgY2VsbCgke2tleX0pYCwgYGNlbGwoJHtrZXkudG9Mb3dlckNhc2UoKX0pYCwgJ2NlbGwoKScKICAgICAgLy8gU2xvdCBuYW1lcyBhcmUgbm93IGNhY2hlZCBieSBtaXhpbiB0Ym9keSBpbiBgdGhpcy4kX2JvZHlGaWVsZFNsb3ROYW1lQ2FjaGVgCiAgICAgIC8vIFdpbGwgYmUgYG51bGxgIGlmIG5vIHNsb3QgKG9yIGZhbGxiYWNrIHNsb3QpIGV4aXN0cwoKCiAgICAgIHZhciBzbG90TmFtZSA9IHRoaXMuJF9ib2R5RmllbGRTbG90TmFtZUNhY2hlW2tleV07CiAgICAgIHZhciAkY2hpbGROb2RlcyA9IHNsb3ROYW1lID8gdGhpcy5ub3JtYWxpemVTbG90KHNsb3ROYW1lLCBzbG90U2NvcGUpIDogdG9TdHJpbmcoZm9ybWF0dGVkKTsKCiAgICAgIGlmICh0aGlzLmlzU3RhY2tlZCkgewogICAgICAgIC8vIFdlIHdyYXAgaW4gYSBESVYgdG8gZW5zdXJlIHJlbmRlcmVkIGFzIGEgc2luZ2xlIGNlbGwgd2hlbiB2aXN1YWxseSBzdGFja2VkIQogICAgICAgICRjaGlsZE5vZGVzID0gW2goJ2RpdicsIFskY2hpbGROb2Rlc10pXTsKICAgICAgfSAvLyBSZW5kZXIgZWl0aGVyIGEgdGQgb3IgdGggY2VsbAoKCiAgICAgIHJldHVybiBoKGNlbGxUYWcsIGRhdGEsIFskY2hpbGROb2Rlc10pOwogICAgfSwKICAgIC8vIFJlbmRlcnMgYW4gaXRlbSdzIHJvdyAob3Igcm93cyBpZiBkZXRhaWxzIHN1cHBvcnRlZCkKICAgIHJlbmRlclRib2R5Um93OiBmdW5jdGlvbiByZW5kZXJUYm9keVJvdyhpdGVtLCByb3dJbmRleCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBmaWVsZHMgPSB0aGlzLmNvbXB1dGVkRmllbGRzLAogICAgICAgICAgc3RyaXBlZCA9IHRoaXMuc3RyaXBlZCwKICAgICAgICAgIHByaW1hcnlLZXkgPSB0aGlzLnByaW1hcnlLZXksCiAgICAgICAgICBjdXJyZW50UGFnZSA9IHRoaXMuY3VycmVudFBhZ2UsCiAgICAgICAgICBwZXJQYWdlID0gdGhpcy5wZXJQYWdlLAogICAgICAgICAgdGJvZHlUckNsYXNzID0gdGhpcy50Ym9keVRyQ2xhc3MsCiAgICAgICAgICB0Ym9keVRyQXR0ciA9IHRoaXMudGJvZHlUckF0dHI7CiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgdmFyIGhhc0RldGFpbHNTbG90ID0gdGhpcy5oYXNOb3JtYWxpemVkU2xvdChTTE9UX05BTUVfUk9XX0RFVEFJTFMpOwogICAgICB2YXIgcm93U2hvd0RldGFpbHMgPSBpdGVtW0ZJRUxEX0tFWV9TSE9XX0RFVEFJTFNdICYmIGhhc0RldGFpbHNTbG90OwogICAgICB2YXIgaGFzUm93Q2xpY2tIYW5kbGVyID0gdGhpcy4kbGlzdGVuZXJzW0VWRU5UX05BTUVfUk9XX0NMSUNLRURdIHx8IHRoaXMuaGFzU2VsZWN0YWJsZVJvd0NsaWNrOyAvLyBXZSBjYW4gcmV0dXJuIG1vcmUgdGhhbiBvbmUgVFIgaWYgcm93RGV0YWlscyBlbmFibGVkCgogICAgICB2YXIgJHJvd3MgPSBbXTsgLy8gRGV0YWlscyBJRCBuZWVkZWQgZm9yIGBhcmlhLWRldGFpbHNgIHdoZW4gZGV0YWlscyBzaG93aW5nCiAgICAgIC8vIFdlIHNldCBpdCB0byBgbnVsbGAgd2hlbiBub3Qgc2hvd2luZyBzbyB0aGF0IGF0dHJpYnV0ZQogICAgICAvLyBkb2VzIG5vdCBhcHBlYXIgb24gdGhlIGVsZW1lbnQKCiAgICAgIHZhciBkZXRhaWxzSWQgPSByb3dTaG93RGV0YWlscyA/IHRoaXMuc2FmZUlkKCJfZGV0YWlsc18iLmNvbmNhdChyb3dJbmRleCwgIl8iKSkgOiBudWxsOyAvLyBGb3IgZWFjaCBpdGVtIGRhdGEgZmllbGQgaW4gcm93CgogICAgICB2YXIgJHRkcyA9IGZpZWxkcy5tYXAoZnVuY3Rpb24gKGZpZWxkLCBjb2xJbmRleCkgewogICAgICAgIHJldHVybiBfdGhpczMucmVuZGVyVGJvZHlSb3dDZWxsKGZpZWxkLCBjb2xJbmRleCwgaXRlbSwgcm93SW5kZXgpOwogICAgICB9KTsgLy8gQ2FsY3VsYXRlIHRoZSByb3cgbnVtYmVyIGluIHRoZSBkYXRhc2V0IChpbmRleGVkIGZyb20gMSkKCiAgICAgIHZhciBhcmlhUm93SW5kZXggPSBudWxsOwoKICAgICAgaWYgKGN1cnJlbnRQYWdlICYmIHBlclBhZ2UgJiYgcGVyUGFnZSA+IDApIHsKICAgICAgICBhcmlhUm93SW5kZXggPSBTdHJpbmcoKGN1cnJlbnRQYWdlIC0gMSkgKiBwZXJQYWdlICsgcm93SW5kZXggKyAxKTsKICAgICAgfSAvLyBDcmVhdGUgYSB1bmlxdWUgOmtleSB0byBoZWxwIGVuc3VyZSB0aGF0IHN1YiBjb21wb25lbnRzIGFyZSByZS1yZW5kZXJlZCByYXRoZXIgdGhhbgogICAgICAvLyByZS11c2VkLCB3aGljaCBjYW4gY2F1c2UgaXNzdWVzLiBJZiBhIHByaW1hcnkga2V5IGlzIG5vdCBwcm92aWRlZCB3ZSB1c2UgdGhlIHJlbmRlcmVkCiAgICAgIC8vIHJvd3MgaW5kZXggd2l0aGluIHRoZSB0Ym9keS4KICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYm9vdHN0cmFwLXZ1ZS9ib290c3RyYXAtdnVlL2lzc3Vlcy8yNDEwCgoKICAgICAgdmFyIHByaW1hcnlLZXlWYWx1ZSA9IHRvU3RyaW5nKGdldChpdGVtLCBwcmltYXJ5S2V5KSkgfHwgbnVsbDsKICAgICAgdmFyIHJvd0tleSA9IHByaW1hcnlLZXlWYWx1ZSB8fCB0b1N0cmluZyhyb3dJbmRleCk7IC8vIElmIHByaW1hcnkga2V5IGlzIHByb3ZpZGVkLCB1c2UgaXQgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgSUQgb24gZWFjaCB0Ym9keSA+IHRyCiAgICAgIC8vIEluIHRoZSBmb3JtYXQgb2YgJ3t0YWJsZUlkfV9fcm93X3twcmltYXJ5S2V5VmFsdWV9JwoKICAgICAgdmFyIHJvd0lkID0gcHJpbWFyeUtleVZhbHVlID8gdGhpcy5zYWZlSWQoIl9yb3dfIi5jb25jYXQocHJpbWFyeUtleVZhbHVlKSkgOiBudWxsOyAvLyBTZWxlY3RhYmxlIGNsYXNzZXMgYW5kIGF0dHJpYnV0ZXMKCiAgICAgIHZhciBzZWxlY3RhYmxlQ2xhc3NlcyA9IHRoaXMuc2VsZWN0YWJsZVJvd0NsYXNzZXMgPyB0aGlzLnNlbGVjdGFibGVSb3dDbGFzc2VzKHJvd0luZGV4KSA6IHt9OwogICAgICB2YXIgc2VsZWN0YWJsZUF0dHJzID0gdGhpcy5zZWxlY3RhYmxlUm93QXR0cnMgPyB0aGlzLnNlbGVjdGFibGVSb3dBdHRycyhyb3dJbmRleCkgOiB7fTsgLy8gQWRkaXRpb25hbCBjbGFzc2VzIGFuZCBhdHRyaWJ1dGVzCgogICAgICB2YXIgdXNlclRyQ2xhc3NlcyA9IGlzRnVuY3Rpb24odGJvZHlUckNsYXNzKSA/IHRib2R5VHJDbGFzcyhpdGVtLCAncm93JykgOiB0Ym9keVRyQ2xhc3M7CiAgICAgIHZhciB1c2VyVHJBdHRycyA9IGlzRnVuY3Rpb24odGJvZHlUckF0dHIpID8KICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgdGJvZHlUckF0dHIoaXRlbSwgJ3JvdycpIDogdGJvZHlUckF0dHI7IC8vIEFkZCB0aGUgaXRlbSByb3cKCiAgICAgICRyb3dzLnB1c2goaChCVHIsIHsKICAgICAgICAiY2xhc3MiOiBbdXNlclRyQ2xhc3Nlcywgc2VsZWN0YWJsZUNsYXNzZXMsIHJvd1Nob3dEZXRhaWxzID8gJ2ItdGFibGUtaGFzLWRldGFpbHMnIDogJyddLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICB2YXJpYW50OiBpdGVtW0ZJRUxEX0tFWV9ST1dfVkFSSUFOVF0gfHwgbnVsbAogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICBpZDogcm93SWQKICAgICAgICB9LCB1c2VyVHJBdHRycyksIHt9LCB7CiAgICAgICAgICAvLyBVc2VycyBjYW5ub3Qgb3ZlcnJpZGUgdGhlIGZvbGxvd2luZyBhdHRyaWJ1dGVzCiAgICAgICAgICB0YWJpbmRleDogaGFzUm93Q2xpY2tIYW5kbGVyID8gJzAnIDogbnVsbCwKICAgICAgICAgICdkYXRhLXBrJzogcHJpbWFyeUtleVZhbHVlIHx8IG51bGwsCiAgICAgICAgICAnYXJpYS1kZXRhaWxzJzogZGV0YWlsc0lkLAogICAgICAgICAgJ2FyaWEtb3ducyc6IGRldGFpbHNJZCwKICAgICAgICAgICdhcmlhLXJvd2luZGV4JzogYXJpYVJvd0luZGV4CiAgICAgICAgfSwgc2VsZWN0YWJsZUF0dHJzKSwKICAgICAgICBvbjogewogICAgICAgICAgLy8gTm90ZTogVGhlc2UgZXZlbnRzIGFyZSBub3QgQTExWSBmcmllbmRseSEKICAgICAgICAgIG1vdXNlZW50ZXI6IHRoaXMucm93SG92ZXJlZCwKICAgICAgICAgIG1vdXNlbGVhdmU6IHRoaXMucm93VW5ob3ZlcmVkCiAgICAgICAgfSwKICAgICAgICBrZXk6ICJfX2ItdGFibGUtcm93LSIuY29uY2F0KHJvd0tleSwgIl9fIiksCiAgICAgICAgcmVmOiAnaXRlbS1yb3dzJywKICAgICAgICByZWZJbkZvcjogdHJ1ZQogICAgICB9LCAkdGRzKSk7IC8vIFJvdyBEZXRhaWxzIHNsb3QKCiAgICAgIGlmIChyb3dTaG93RGV0YWlscykgewogICAgICAgIHZhciBkZXRhaWxzU2NvcGUgPSB7CiAgICAgICAgICBpdGVtOiBpdGVtLAogICAgICAgICAgaW5kZXg6IHJvd0luZGV4LAogICAgICAgICAgZmllbGRzOiBmaWVsZHMsCiAgICAgICAgICB0b2dnbGVEZXRhaWxzOiB0aGlzLnRvZ2dsZURldGFpbHNGYWN0b3J5KGhhc0RldGFpbHNTbG90LCBpdGVtKQogICAgICAgIH07IC8vIElmIHRhYmxlIHN1cHBvcnRzIHNlbGVjdGFibGUgbW9kZSwgdGhlbiBhZGQgaW4gdGhlIGZvbGxvd2luZyBzY29wZQogICAgICAgIC8vIHRoaXMuc3VwcG9ydHNTZWxlY3RhYmxlUm93cyB3aWxsIGJlIHVuZGVmaW5lZCBpZiBtaXhpbiBpc24ndCBsb2FkZWQKCiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNTZWxlY3RhYmxlUm93cykgewogICAgICAgICAgZGV0YWlsc1Njb3BlLnJvd1NlbGVjdGVkID0gdGhpcy5pc1Jvd1NlbGVjdGVkKHJvd0luZGV4KTsKCiAgICAgICAgICBkZXRhaWxzU2NvcGUuc2VsZWN0Um93ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzLnNlbGVjdFJvdyhyb3dJbmRleCk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGRldGFpbHNTY29wZS51bnNlbGVjdFJvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy51bnNlbGVjdFJvdyhyb3dJbmRleCk7CiAgICAgICAgICB9OwogICAgICAgIH0gLy8gUmVuZGVyIHRoZSBkZXRhaWxzIHNsb3QgaW4gYSBURAoKCiAgICAgICAgdmFyICRkZXRhaWxzID0gaChCVGQsIHsKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIGNvbHNwYW46IGZpZWxkcy5sZW5ndGgKICAgICAgICAgIH0sCiAgICAgICAgICAiY2xhc3MiOiB0aGlzLmRldGFpbHNUZENsYXNzCiAgICAgICAgfSwgW3RoaXMubm9ybWFsaXplU2xvdChTTE9UX05BTUVfUk9XX0RFVEFJTFMsIGRldGFpbHNTY29wZSldKTsgLy8gQWRkIGEgaGlkZGVuIHJvdyB0byBrZWVwIHRhYmxlIHJvdyBzdHJpcGluZyBjb25zaXN0ZW50IHdoZW4gZGV0YWlscyBzaG93aW5nCiAgICAgICAgLy8gT25seSBhZGRlZCBpZiB0aGUgdGFibGUgaXMgc3RyaXBlZAoKICAgICAgICBpZiAoc3RyaXBlZCkgewogICAgICAgICAgJHJvd3MucHVzaCggLy8gV2UgZG9uJ3QgdXNlIGBCVHJgIGhlcmUgYXMgd2UgZG9uJ3QgbmVlZCB0aGUgZXh0cmEgZnVuY3Rpb25hbGl0eQogICAgICAgICAgaCgndHInLCB7CiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAnZC1ub25lJywKICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsCiAgICAgICAgICAgICAgcm9sZTogJ3ByZXNlbnRhdGlvbicKICAgICAgICAgICAgfSwKICAgICAgICAgICAga2V5OiAiX19iLXRhYmxlLWRldGFpbHMtc3RyaXBlX18iLmNvbmNhdChyb3dLZXkpCiAgICAgICAgICB9KSk7CiAgICAgICAgfSAvLyBBZGQgdGhlIGFjdHVhbCBkZXRhaWxzIHJvdwoKCiAgICAgICAgdmFyIHVzZXJEZXRhaWxzVHJDbGFzc2VzID0gaXNGdW5jdGlvbih0aGlzLnRib2R5VHJDbGFzcykgPwogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgICAgdGhpcy50Ym9keVRyQ2xhc3MoaXRlbSwgU0xPVF9OQU1FX1JPV19ERVRBSUxTKSA6IHRoaXMudGJvZHlUckNsYXNzOwogICAgICAgIHZhciB1c2VyRGV0YWlsc1RyQXR0cnMgPSBpc0Z1bmN0aW9uKHRoaXMudGJvZHlUckF0dHIpID8KICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgIHRoaXMudGJvZHlUckF0dHIoaXRlbSwgU0xPVF9OQU1FX1JPV19ERVRBSUxTKSA6IHRoaXMudGJvZHlUckF0dHI7CiAgICAgICAgJHJvd3MucHVzaChoKEJUciwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdiLXRhYmxlLWRldGFpbHMnLAogICAgICAgICAgImNsYXNzIjogW3VzZXJEZXRhaWxzVHJDbGFzc2VzXSwKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIHZhcmlhbnQ6IGl0ZW1bRklFTERfS0VZX1JPV19WQVJJQU5UXSB8fCBudWxsCiAgICAgICAgICB9LAogICAgICAgICAgYXR0cnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdXNlckRldGFpbHNUckF0dHJzKSwge30sIHsKICAgICAgICAgICAgLy8gVXNlcnMgY2Fubm90IG92ZXJyaWRlIHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlcwogICAgICAgICAgICBpZDogZGV0YWlsc0lkLAogICAgICAgICAgICB0YWJpbmRleDogJy0xJwogICAgICAgICAgfSksCiAgICAgICAgICBrZXk6ICJfX2ItdGFibGUtZGV0YWlsc19fIi5jb25jYXQocm93S2V5KQogICAgICAgIH0sIFskZGV0YWlsc10pKTsKICAgICAgfSBlbHNlIGlmIChoYXNEZXRhaWxzU2xvdCkgewogICAgICAgIC8vIE9ubHkgYWRkIHRoZSBwbGFjZWhvbGRlciBpZiBhIHRoZSB0YWJsZSBoYXMgYSByb3ctZGV0YWlscyBzbG90IGRlZmluZWQgKGJ1dCBub3Qgc2hvd24pCiAgICAgICAgJHJvd3MucHVzaChoKCkpOwoKICAgICAgICBpZiAoc3RyaXBlZCkgewogICAgICAgICAgLy8gQWRkIGV4dHJhIHBsYWNlaG9sZGVyIGlmIHRhYmxlIGlzIHN0cmlwZWQKICAgICAgICAgICRyb3dzLnB1c2goaCgpKTsKICAgICAgICB9CiAgICAgIH0gLy8gUmV0dXJuIHRoZSByb3cocykKCgogICAgICByZXR1cm4gJHJvd3M7CiAgICB9CiAgfQp9KTs="},null]}